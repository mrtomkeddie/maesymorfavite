function zR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var A1={exports:{}},_m={},D1={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),VR=Symbol.for("react.portal"),HR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),GR=Symbol.for("react.profiler"),qR=Symbol.for("react.provider"),KR=Symbol.for("react.context"),ZR=Symbol.for("react.forward_ref"),XR=Symbol.for("react.suspense"),JR=Symbol.for("react.memo"),QR=Symbol.for("react.lazy"),G0=Symbol.iterator;function eI(t){return t===null||typeof t!="object"?null:(t=G0&&t[G0]||t["@@iterator"],typeof t=="function"?t:null)}var M1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O1=Object.assign,R1={};function sc(t,e,n){this.props=t,this.context=e,this.refs=R1,this.updater=n||M1}sc.prototype.isReactComponent={};sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function I1(){}I1.prototype=sc.prototype;function zx(t,e,n){this.props=t,this.context=e,this.refs=R1,this.updater=n||M1}var Vx=zx.prototype=new I1;Vx.constructor=zx;O1(Vx,sc.prototype);Vx.isPureReactComponent=!0;var q0=Array.isArray,$1=Object.prototype.hasOwnProperty,Hx={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function F1(t,e,n){var r,s={},a=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(a=""+e.key),e)$1.call(e,r)&&!L1.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:wu,type:t,key:a,ref:i,props:s,_owner:Hx.current}}function tI(t,e){return{$$typeof:wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yx(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu}function nI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K0=/\/+/g;function Zp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nI(""+t.key):e.toString(36)}function Vf(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case wu:case VR:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Zp(i,0):r,q0(s)?(n="",t!=null&&(n=t.replace(K0,"$&/")+"/"),Vf(s,e,n,"",function(d){return d})):s!=null&&(Yx(s)&&(s=tI(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(K0,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",q0(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Zp(a,l);i+=Vf(a,e,n,c,s)}else if(c=eI(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Zp(a,l++),i+=Vf(a,e,n,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function af(t,e,n){if(t==null)return t;var r=[],s=0;return Vf(t,r,"","",function(a){return e.call(n,a,s++)}),r}function rI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Hf={transition:null},sI={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Hf,ReactCurrentOwner:Hx};function U1(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:af,forEach:function(t,e,n){af(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return af(t,function(){e++}),e},toArray:function(t){return af(t,function(e){return e})||[]},only:function(t){if(!Yx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=sc;Je.Fragment=HR;Je.Profiler=GR;Je.PureComponent=zx;Je.StrictMode=YR;Je.Suspense=XR;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sI;Je.act=U1;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O1({},t.props),s=t.key,a=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,i=Hx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$1.call(e,c)&&!L1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:wu,type:t.type,key:s,ref:a,props:r,_owner:i}};Je.createContext=function(t){return t={$$typeof:KR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qR,_context:t},t.Consumer=t};Je.createElement=F1;Je.createFactory=function(t){var e=F1.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:ZR,render:t}};Je.isValidElement=Yx;Je.lazy=function(t){return{$$typeof:QR,_payload:{_status:-1,_result:t},_init:rI}};Je.memo=function(t,e){return{$$typeof:JR,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Hf.transition;Hf.transition={};try{t()}finally{Hf.transition=e}};Je.unstable_act=U1;Je.useCallback=function(t,e){return kn.current.useCallback(t,e)};Je.useContext=function(t){return kn.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};Je.useEffect=function(t,e){return kn.current.useEffect(t,e)};Je.useId=function(){return kn.current.useId()};Je.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return kn.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};Je.useRef=function(t){return kn.current.useRef(t)};Je.useState=function(t){return kn.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return kn.current.useTransition()};Je.version="18.3.1";D1.exports=Je;var h=D1.exports;const D=Bx(h),Ms=zR({__proto__:null,default:D},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI=h,oI=Symbol.for("react.element"),iI=Symbol.for("react.fragment"),lI=Object.prototype.hasOwnProperty,cI=aI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dI={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)lI.call(e,r)&&!dI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oI,type:t,key:a,ref:i,props:s,_owner:cI.current}}_m.Fragment=iI;_m.jsx=B1;_m.jsxs=B1;A1.exports=_m;var o=A1.exports,Ey={},W1={exports:{}},fr={},z1={exports:{}},V1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var V=R.length;R.push($);e:for(;0<V;){var Q=V-1>>>1,be=R[Q];if(0<s(be,$))R[Q]=$,R[V]=be,V=Q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],V=R.pop();if(V!==$){R[0]=V;e:for(var Q=0,be=R.length,Ge=be>>>1;Q<Ge;){var He=2*(Q+1)-1,pt=R[He],qe=He+1,re=R[qe];if(0>s(pt,V))qe<be&&0>s(re,pt)?(R[Q]=re,R[qe]=V,Q=qe):(R[Q]=pt,R[He]=V,Q=He);else if(qe<be&&0>s(re,V))R[Q]=re,R[qe]=V,Q=qe;else break e}}return $}function s(R,$){var V=R.sortIndex-$.sortIndex;return V!==0?V:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],f=1,u=null,m=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=R)r(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(d)}}function j(R){if(x=!1,b(R),!g)if(n(c)!==null)g=!0,F(_);else{var $=n(d);$!==null&&z(j,$.startTime-R)}}function _(R,$){g=!1,x&&(x=!1,v(C),C=-1),p=!0;var V=m;try{for(b($),u=n(c);u!==null&&(!(u.expirationTime>$)||R&&!E());){var Q=u.callback;if(typeof Q=="function"){u.callback=null,m=u.priorityLevel;var be=Q(u.expirationTime<=$);$=t.unstable_now(),typeof be=="function"?u.callback=be:u===n(c)&&r(c),b($)}else r(c);u=n(c)}if(u!==null)var Ge=!0;else{var He=n(d);He!==null&&z(j,He.startTime-$),Ge=!1}return Ge}finally{u=null,m=V,p=!1}}var N=!1,S=null,C=-1,T=5,k=-1;function E(){return!(t.unstable_now()-k<T)}function O(){if(S!==null){var R=t.unstable_now();k=R;var $=!0;try{$=S(!0,R)}finally{$?P():(N=!1,S=null)}}else N=!1}var P;if(typeof w=="function")P=function(){w(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=O,P=function(){L.postMessage(null)}}else P=function(){y(O,0)};function F(R){S=R,N||(N=!0,P())}function z(R,$){C=y(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,F(_))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var V=m;m=$;try{return R()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=m;m=R;try{return $()}finally{m=V}},t.unstable_scheduleCallback=function(R,$,V){var Q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,R){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=V+be,R={id:f++,callback:$,priorityLevel:R,startTime:V,expirationTime:be,sortIndex:-1},V>Q?(R.sortIndex=V,e(d,R),n(c)===null&&R===n(d)&&(x?(v(C),C=-1):x=!0,z(j,V-Q))):(R.sortIndex=be,e(c,R),g||p||(g=!0,F(_))),R},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(R){var $=m;return function(){var V=m;m=$;try{return R.apply(this,arguments)}finally{m=V}}}})(V1);z1.exports=V1;var uI=z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=h,or=uI;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H1=new Set,Ed={};function Ai(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(Ed[t]=e,t=0;t<e.length;t++)H1.add(e[t])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ty=Object.prototype.hasOwnProperty,hI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z0={},X0={};function mI(t){return Ty.call(X0,t)?!0:Ty.call(Z0,t)?!1:hI.test(t)?X0[t]=!0:(Z0[t]=!0,!1)}function pI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gI(t,e,n,r){if(e===null||typeof e>"u"||pI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,s,a,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=i}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gx=/[\-:]([a-z])/g;function qx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gx,qx);an[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gx,qx);an[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gx,qx);an[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kx(t,e,n,r){var s=an.hasOwnProperty(e)?an[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gI(e,n,s,r)&&(n=null),r||s===null?mI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ja=fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),cl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),Y1=Symbol.for("react.provider"),G1=Symbol.for("react.context"),Xx=Symbol.for("react.forward_ref"),Ay=Symbol.for("react.suspense"),Dy=Symbol.for("react.suspense_list"),Jx=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),q1=Symbol.for("react.offscreen"),J0=Symbol.iterator;function Oc(t){return t===null||typeof t!="object"?null:(t=J0&&t[J0]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Xp;function ed(t){if(Xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||""}return`
`+Xp+t}var Jp=!1;function Qp(t,e){if(!t||Jp)return"";Jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ed(t):""}function yI(t){switch(t.tag){case 5:return ed(t.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return t=Qp(t.type,!1),t;case 11:return t=Qp(t.type.render,!1),t;case 1:return t=Qp(t.type,!0),t;default:return""}}function My(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dl:return"Fragment";case cl:return"Portal";case Py:return"Profiler";case Zx:return"StrictMode";case Ay:return"Suspense";case Dy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G1:return(t.displayName||"Context")+".Consumer";case Y1:return(t._context.displayName||"Context")+".Provider";case Xx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jx:return e=t.displayName||null,e!==null?e:My(t.type)||"Memo";case Ga:e=t._payload,t=t._init;try{return My(t(e))}catch{}}return null}function vI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return My(e);case 8:return e===Zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xI(t){var e=K1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lf(t){t._valueTracker||(t._valueTracker=xI(t))}function Z1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oy(t,e){var n=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=go(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X1(t,e){e=e.checked,e!=null&&Kx(t,"checked",e,!1)}function Ry(t,e){X1(t,e);var n=go(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iy(t,e.type,go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ej(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iy(t,e,n){(e!=="number"||vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var td=Array.isArray;function _l(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+go(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tj(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(td(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:go(n)}}function J1(t,e){var n=go(e.value),r=go(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cf,eN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cf=cf||document.createElement("div"),cf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wI=["Webkit","ms","Moz","O"];Object.keys(fd).forEach(function(t){wI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fd[e]=fd[t]})});function tN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fd.hasOwnProperty(t)&&fd[t]?(""+e).trim():e+"px"}function nN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bI=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fy(t,e){if(e){if(bI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var By=null;function Qx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wy=null,Nl=null,Cl=null;function rj(t){if(t=Su(t)){if(typeof Wy!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Tm(e),Wy(t.stateNode,t.type,e))}}function rN(t){Nl?Cl?Cl.push(t):Cl=[t]:Nl=t}function sN(){if(Nl){var t=Nl,e=Cl;if(Cl=Nl=null,rj(t),e)for(t=0;t<e.length;t++)rj(e[t])}}function aN(t,e){return t(e)}function oN(){}var eg=!1;function iN(t,e,n){if(eg)return t(e,n);eg=!0;try{return aN(t,e,n)}finally{eg=!1,(Nl!==null||Cl!==null)&&(oN(),sN())}}function Pd(t,e){var n=t.stateNode;if(n===null)return null;var r=Tm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var zy=!1;if(ha)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){zy=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{zy=!1}function jI(t,e,n,r,s,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var hd=!1,xh=null,wh=!1,Vy=null,SI={onError:function(t){hd=!0,xh=t}};function _I(t,e,n,r,s,a,i,l,c){hd=!1,xh=null,jI.apply(SI,arguments)}function NI(t,e,n,r,s,a,i,l,c){if(_I.apply(this,arguments),hd){if(hd){var d=xh;hd=!1,xh=null}else throw Error(G(198));wh||(wh=!0,Vy=d)}}function Di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sj(t){if(Di(t)!==t)throw Error(G(188))}function CI(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return sj(s),t;if(a===r)return sj(s),e;a=a.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function cN(t){return t=CI(t),t!==null?dN(t):null}function dN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dN(t);if(e!==null)return e;t=t.sibling}return null}var uN=or.unstable_scheduleCallback,aj=or.unstable_cancelCallback,kI=or.unstable_shouldYield,EI=or.unstable_requestPaint,Rt=or.unstable_now,TI=or.unstable_getCurrentPriorityLevel,ew=or.unstable_ImmediatePriority,fN=or.unstable_UserBlockingPriority,bh=or.unstable_NormalPriority,PI=or.unstable_LowPriority,hN=or.unstable_IdlePriority,Nm=null,xs=null;function AI(t){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Nm,t,void 0,(t.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:OI,DI=Math.log,MI=Math.LN2;function OI(t){return t>>>=0,t===0?32:31-(DI(t)/MI|0)|0}var df=64,uf=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=nd(l):(a&=i,a!==0&&(r=nd(a)))}else i=n&~s,i!==0?r=nd(i):a!==0&&(r=nd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zr(e),s=1<<n,r|=t[n],e&=~s;return r}function RI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function II(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var i=31-zr(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=RI(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Hy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mN(){var t=df;return df<<=1,!(df&4194240)&&(df=64),t}function tg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zr(e),t[e]=n}function $I(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zr(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function tw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ct=0;function pN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gN,nw,yN,vN,xN,Yy=!1,ff=[],ro=null,so=null,ao=null,Ad=new Map,Dd=new Map,Ka=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oj(t,e){switch(t){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(e.pointerId)}}function Ic(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Su(e),e!==null&&nw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FI(t,e,n,r,s){switch(e){case"focusin":return ro=Ic(ro,t,e,n,r,s),!0;case"dragenter":return so=Ic(so,t,e,n,r,s),!0;case"mouseover":return ao=Ic(ao,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ad.set(a,Ic(Ad.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Dd.set(a,Ic(Dd.get(a)||null,t,e,n,r,s)),!0}return!1}function wN(t){var e=ti(t.target);if(e!==null){var n=Di(e);if(n!==null){if(e=n.tag,e===13){if(e=lN(n),e!==null){t.blockedOn=e,xN(t.priority,function(){yN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);By=r,n.target.dispatchEvent(r),By=null}else return e=Su(n),e!==null&&nw(e),t.blockedOn=n,!1;e.shift()}return!0}function ij(t,e,n){Yf(t)&&n.delete(e)}function UI(){Yy=!1,ro!==null&&Yf(ro)&&(ro=null),so!==null&&Yf(so)&&(so=null),ao!==null&&Yf(ao)&&(ao=null),Ad.forEach(ij),Dd.forEach(ij)}function $c(t,e){t.blockedOn===e&&(t.blockedOn=null,Yy||(Yy=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,UI)))}function Md(t){function e(s){return $c(s,t)}if(0<ff.length){$c(ff[0],t);for(var n=1;n<ff.length;n++){var r=ff[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ro!==null&&$c(ro,t),so!==null&&$c(so,t),ao!==null&&$c(ao,t),Ad.forEach(e),Dd.forEach(e),n=0;n<Ka.length;n++)r=Ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)wN(n),n.blockedOn===null&&Ka.shift()}var kl=ja.ReactCurrentBatchConfig,Sh=!0;function BI(t,e,n,r){var s=ct,a=kl.transition;kl.transition=null;try{ct=1,rw(t,e,n,r)}finally{ct=s,kl.transition=a}}function WI(t,e,n,r){var s=ct,a=kl.transition;kl.transition=null;try{ct=4,rw(t,e,n,r)}finally{ct=s,kl.transition=a}}function rw(t,e,n,r){if(Sh){var s=Gy(t,e,n,r);if(s===null)ug(t,e,r,_h,n),oj(t,r);else if(FI(s,t,e,n,r))r.stopPropagation();else if(oj(t,r),e&4&&-1<LI.indexOf(t)){for(;s!==null;){var a=Su(s);if(a!==null&&gN(a),a=Gy(t,e,n,r),a===null&&ug(t,e,r,_h,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ug(t,e,r,null,n)}}var _h=null;function Gy(t,e,n,r){if(_h=null,t=Qx(r),t=ti(t),t!==null)if(e=Di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _h=t,null}function bN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TI()){case ew:return 1;case fN:return 4;case bh:case PI:return 16;case hN:return 536870912;default:return 16}default:return 16}}var Qa=null,sw=null,Gf=null;function jN(){if(Gf)return Gf;var t,e=sw,n=e.length,r,s="value"in Qa?Qa.value:Qa.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[a-r];r++);return Gf=s.slice(t,1<r?1-r:void 0)}function qf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hf(){return!0}function lj(){return!1}function hr(t){function e(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?hf:lj,this.isPropagationStopped=lj,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hf)},persist:function(){},isPersistent:hf}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aw=hr(ac),ju=Pt({},ac,{view:0,detail:0}),zI=hr(ju),ng,rg,Lc,Cm=Pt({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(ng=t.screenX-Lc.screenX,rg=t.screenY-Lc.screenY):rg=ng=0,Lc=t),ng)},movementY:function(t){return"movementY"in t?t.movementY:rg}}),cj=hr(Cm),VI=Pt({},Cm,{dataTransfer:0}),HI=hr(VI),YI=Pt({},ju,{relatedTarget:0}),sg=hr(YI),GI=Pt({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),qI=hr(GI),KI=Pt({},ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZI=hr(KI),XI=Pt({},ac,{data:0}),dj=hr(XI),JI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e$[t])?!!e[t]:!1}function ow(){return t$}var n$=Pt({},ju,{key:function(t){if(t.key){var e=JI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(t){return t.type==="keypress"?qf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r$=hr(n$),s$=Pt({},Cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uj=hr(s$),a$=Pt({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),o$=hr(a$),i$=Pt({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),l$=hr(i$),c$=Pt({},Cm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d$=hr(c$),u$=[9,13,27,32],iw=ha&&"CompositionEvent"in window,md=null;ha&&"documentMode"in document&&(md=document.documentMode);var f$=ha&&"TextEvent"in window&&!md,SN=ha&&(!iw||md&&8<md&&11>=md),fj=" ",hj=!1;function _N(t,e){switch(t){case"keyup":return u$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function h$(t,e){switch(t){case"compositionend":return NN(e);case"keypress":return e.which!==32?null:(hj=!0,fj);case"textInput":return t=e.data,t===fj&&hj?null:t;default:return null}}function m$(t,e){if(ul)return t==="compositionend"||!iw&&_N(t,e)?(t=jN(),Gf=sw=Qa=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SN&&e.locale!=="ko"?null:e.data;default:return null}}var p$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p$[t.type]:e==="textarea"}function CN(t,e,n,r){rN(r),e=Nh(e,"onChange"),0<e.length&&(n=new aw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pd=null,Od=null;function g$(t){$N(t,0)}function km(t){var e=ml(t);if(Z1(e))return t}function y$(t,e){if(t==="change")return e}var kN=!1;if(ha){var ag;if(ha){var og="oninput"in document;if(!og){var pj=document.createElement("div");pj.setAttribute("oninput","return;"),og=typeof pj.oninput=="function"}ag=og}else ag=!1;kN=ag&&(!document.documentMode||9<document.documentMode)}function gj(){pd&&(pd.detachEvent("onpropertychange",EN),Od=pd=null)}function EN(t){if(t.propertyName==="value"&&km(Od)){var e=[];CN(e,Od,t,Qx(t)),iN(g$,e)}}function v$(t,e,n){t==="focusin"?(gj(),pd=e,Od=n,pd.attachEvent("onpropertychange",EN)):t==="focusout"&&gj()}function x$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return km(Od)}function w$(t,e){if(t==="click")return km(e)}function b$(t,e){if(t==="input"||t==="change")return km(e)}function j$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zr=typeof Object.is=="function"?Object.is:j$;function Rd(t,e){if(Zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ty.call(e,s)||!Zr(t[s],e[s]))return!1}return!0}function yj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vj(t,e){var n=yj(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yj(n)}}function TN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PN(){for(var t=window,e=vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vh(t.document)}return e}function lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S$(t){var e=PN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TN(n.ownerDocument.documentElement,n)){if(r!==null&&lw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=vj(n,a);var i=vj(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _$=ha&&"documentMode"in document&&11>=document.documentMode,fl=null,qy=null,gd=null,Ky=!1;function xj(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ky||fl==null||fl!==vh(r)||(r=fl,"selectionStart"in r&&lw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gd&&Rd(gd,r)||(gd=r,r=Nh(qy,"onSelect"),0<r.length&&(e=new aw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fl)))}function mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hl={animationend:mf("Animation","AnimationEnd"),animationiteration:mf("Animation","AnimationIteration"),animationstart:mf("Animation","AnimationStart"),transitionend:mf("Transition","TransitionEnd")},ig={},AN={};ha&&(AN=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Em(t){if(ig[t])return ig[t];if(!hl[t])return t;var e=hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AN)return ig[t]=e[n];return t}var DN=Em("animationend"),MN=Em("animationiteration"),ON=Em("animationstart"),RN=Em("transitionend"),IN=new Map,wj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(t,e){IN.set(t,e),Ai(e,[t])}for(var lg=0;lg<wj.length;lg++){var cg=wj[lg],N$=cg.toLowerCase(),C$=cg[0].toUpperCase()+cg.slice(1);To(N$,"on"+C$)}To(DN,"onAnimationEnd");To(MN,"onAnimationIteration");To(ON,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(RN,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k$=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function bj(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NI(r,e,void 0,t),t.currentTarget=null}function $N(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;bj(s,l,d),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;bj(s,l,d),a=c}}}if(wh)throw t=Vy,wh=!1,Vy=null,t}function wt(t,e){var n=e[ev];n===void 0&&(n=e[ev]=new Set);var r=t+"__bubble";n.has(r)||(LN(e,t,2,!1),n.add(r))}function dg(t,e,n){var r=0;e&&(r|=4),LN(n,t,r,e)}var pf="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[pf]){t[pf]=!0,H1.forEach(function(n){n!=="selectionchange"&&(k$.has(n)||dg(n,!1,t),dg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pf]||(e[pf]=!0,dg("selectionchange",!1,e))}}function LN(t,e,n,r){switch(bN(e)){case 1:var s=BI;break;case 4:s=WI;break;default:s=rw}n=s.bind(null,e,n,t),s=void 0,!zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ug(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ti(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}iN(function(){var d=a,f=Qx(n),u=[];e:{var m=IN.get(t);if(m!==void 0){var p=aw,g=t;switch(t){case"keypress":if(qf(n)===0)break e;case"keydown":case"keyup":p=r$;break;case"focusin":g="focus",p=sg;break;case"focusout":g="blur",p=sg;break;case"beforeblur":case"afterblur":p=sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=o$;break;case DN:case MN:case ON:p=qI;break;case RN:p=l$;break;case"scroll":p=zI;break;case"wheel":p=d$;break;case"copy":case"cut":case"paste":p=ZI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uj}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?m!==null?m+"Capture":null:m;x=[];for(var w=d,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=Pd(w,v),j!=null&&x.push($d(w,j,b)))),y)break;w=w.return}0<x.length&&(m=new p(m,g,null,n,f),u.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==By&&(g=n.relatedTarget||n.fromElement)&&(ti(g)||g[ma]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?ti(g):null,g!==null&&(y=Di(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(x=cj,j="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=uj,j="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?m:ml(p),b=g==null?m:ml(g),m=new x(j,w+"leave",p,n,f),m.target=y,m.relatedTarget=b,j=null,ti(f)===d&&(x=new x(v,w+"enter",g,n,f),x.target=b,x.relatedTarget=y,j=x),y=j,p&&g)t:{for(x=p,v=g,w=0,b=x;b;b=Yi(b))w++;for(b=0,j=v;j;j=Yi(j))b++;for(;0<w-b;)x=Yi(x),w--;for(;0<b-w;)v=Yi(v),b--;for(;w--;){if(x===v||v!==null&&x===v.alternate)break t;x=Yi(x),v=Yi(v)}x=null}else x=null;p!==null&&jj(u,m,p,x,!1),g!==null&&y!==null&&jj(u,y,g,x,!0)}}e:{if(m=d?ml(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=y$;else if(mj(m))if(kN)_=b$;else{_=x$;var N=v$}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=w$);if(_&&(_=_(t,d))){CN(u,_,n,f);break e}N&&N(t,m,d),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Iy(m,"number",m.value)}switch(N=d?ml(d):window,t){case"focusin":(mj(N)||N.contentEditable==="true")&&(fl=N,qy=d,gd=null);break;case"focusout":gd=qy=fl=null;break;case"mousedown":Ky=!0;break;case"contextmenu":case"mouseup":case"dragend":Ky=!1,xj(u,n,f);break;case"selectionchange":if(_$)break;case"keydown":case"keyup":xj(u,n,f)}var S;if(iw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ul?_N(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(SN&&n.locale!=="ko"&&(ul||C!=="onCompositionStart"?C==="onCompositionEnd"&&ul&&(S=jN()):(Qa=f,sw="value"in Qa?Qa.value:Qa.textContent,ul=!0)),N=Nh(d,C),0<N.length&&(C=new dj(C,t,null,n,f),u.push({event:C,listeners:N}),S?C.data=S:(S=NN(n),S!==null&&(C.data=S)))),(S=f$?h$(t,n):m$(t,n))&&(d=Nh(d,"onBeforeInput"),0<d.length&&(f=new dj("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:d}),f.data=S))}$N(u,e)})}function $d(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Pd(t,n),a!=null&&r.unshift($d(t,a,s)),a=Pd(t,e),a!=null&&r.push($d(t,a,s))),t=t.return}return r}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jj(t,e,n,r,s){for(var a=e._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Pd(n,a),c!=null&&i.unshift($d(n,c,l))):s||(c=Pd(n,a),c!=null&&i.push($d(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var E$=/\r\n?/g,T$=/\u0000|\uFFFD/g;function Sj(t){return(typeof t=="string"?t:""+t).replace(E$,`
`).replace(T$,"")}function gf(t,e,n){if(e=Sj(e),Sj(t)!==e&&n)throw Error(G(425))}function Ch(){}var Zy=null,Xy=null;function Jy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qy=typeof setTimeout=="function"?setTimeout:void 0,P$=typeof clearTimeout=="function"?clearTimeout:void 0,_j=typeof Promise=="function"?Promise:void 0,A$=typeof queueMicrotask=="function"?queueMicrotask:typeof _j<"u"?function(t){return _j.resolve(null).then(t).catch(D$)}:Qy;function D$(t){setTimeout(function(){throw t})}function fg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Md(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Md(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oc=Math.random().toString(36).slice(2),us="__reactFiber$"+oc,Ld="__reactProps$"+oc,ma="__reactContainer$"+oc,ev="__reactEvents$"+oc,M$="__reactListeners$"+oc,O$="__reactHandles$"+oc;function ti(t){var e=t[us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ma]||n[us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nj(t);t!==null;){if(n=t[us])return n;t=Nj(t)}return e}t=n,n=t.parentNode}return null}function Su(t){return t=t[us]||t[ma],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Tm(t){return t[Ld]||null}var tv=[],pl=-1;function Po(t){return{current:t}}function jt(t){0>pl||(t.current=tv[pl],tv[pl]=null,pl--)}function yt(t,e){pl++,tv[pl]=t.current,t.current=e}var yo={},hn=Po(yo),Un=Po(!1),hi=yo;function Ll(t,e){var n=t.type.contextTypes;if(!n)return yo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bn(t){return t=t.childContextTypes,t!=null}function kh(){jt(Un),jt(hn)}function Cj(t,e,n){if(hn.current!==yo)throw Error(G(168));yt(hn,e),yt(Un,n)}function FN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,vI(t)||"Unknown",s));return Pt({},n,r)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yo,hi=hn.current,yt(hn,t),yt(Un,Un.current),!0}function kj(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=FN(t,e,hi),r.__reactInternalMemoizedMergedChildContext=t,jt(Un),jt(hn),yt(hn,t)):jt(Un),yt(Un,n)}var na=null,Pm=!1,hg=!1;function UN(t){na===null?na=[t]:na.push(t)}function R$(t){Pm=!0,UN(t)}function Ao(){if(!hg&&na!==null){hg=!0;var t=0,e=ct;try{var n=na;for(ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}na=null,Pm=!1}catch(s){throw na!==null&&(na=na.slice(t+1)),uN(ew,Ao),s}finally{ct=e,hg=!1}}return null}var gl=[],yl=0,Th=null,Ph=0,gr=[],yr=0,mi=null,aa=1,oa="";function Go(t,e){gl[yl++]=Ph,gl[yl++]=Th,Th=t,Ph=e}function BN(t,e,n){gr[yr++]=aa,gr[yr++]=oa,gr[yr++]=mi,mi=t;var r=aa;t=oa;var s=32-zr(r)-1;r&=~(1<<s),n+=1;var a=32-zr(e)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,aa=1<<32-zr(e)+s|n<<s|r,oa=a+t}else aa=1<<a|n<<s|r,oa=t}function cw(t){t.return!==null&&(Go(t,1),BN(t,1,0))}function dw(t){for(;t===Th;)Th=gl[--yl],gl[yl]=null,Ph=gl[--yl],gl[yl]=null;for(;t===mi;)mi=gr[--yr],gr[yr]=null,oa=gr[--yr],gr[yr]=null,aa=gr[--yr],gr[yr]=null}var tr=null,Qn=null,St=!1,Fr=null;function WN(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ej(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Qn=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:aa,overflow:oa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Qn=null,!0):!1;default:return!1}}function nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rv(t){if(St){var e=Qn;if(e){var n=e;if(!Ej(t,e)){if(nv(t))throw Error(G(418));e=oo(n.nextSibling);var r=tr;e&&Ej(t,e)?WN(r,n):(t.flags=t.flags&-4097|2,St=!1,tr=t)}}else{if(nv(t))throw Error(G(418));t.flags=t.flags&-4097|2,St=!1,tr=t}}}function Tj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function yf(t){if(t!==tr)return!1;if(!St)return Tj(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jy(t.type,t.memoizedProps)),e&&(e=Qn)){if(nv(t))throw zN(),Error(G(418));for(;e;)WN(t,e),e=oo(e.nextSibling)}if(Tj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qn=oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=tr?oo(t.stateNode.nextSibling):null;return!0}function zN(){for(var t=Qn;t;)t=oo(t.nextSibling)}function Fl(){Qn=tr=null,St=!1}function uw(t){Fr===null?Fr=[t]:Fr.push(t)}var I$=ja.ReactCurrentBatchConfig;function Fc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},e._stringRef=a,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function vf(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pj(t){var e=t._init;return e(t._payload)}function VN(t){function e(v,w){if(t){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=uo(v,w),v.index=0,v.sibling=null,v}function a(v,w,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,w,b,j){return w===null||w.tag!==6?(w=wg(b,v.mode,j),w.return=v,w):(w=s(w,b),w.return=v,w)}function c(v,w,b,j){var _=b.type;return _===dl?f(v,w,b.props.children,j,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ga&&Pj(_)===w.type)?(j=s(w,b.props),j.ref=Fc(v,w,b),j.return=v,j):(j=th(b.type,b.key,b.props,null,v.mode,j),j.ref=Fc(v,w,b),j.return=v,j)}function d(v,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=bg(b,v.mode,j),w.return=v,w):(w=s(w,b.children||[]),w.return=v,w)}function f(v,w,b,j,_){return w===null||w.tag!==7?(w=ci(b,v.mode,j,_),w.return=v,w):(w=s(w,b),w.return=v,w)}function u(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wg(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case of:return b=th(w.type,w.key,w.props,null,v.mode,b),b.ref=Fc(v,null,w),b.return=v,b;case cl:return w=bg(w,v.mode,b),w.return=v,w;case Ga:var j=w._init;return u(v,j(w._payload),b)}if(td(w)||Oc(w))return w=ci(w,v.mode,b,null),w.return=v,w;vf(v,w)}return null}function m(v,w,b,j){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(v,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case of:return b.key===_?c(v,w,b,j):null;case cl:return b.key===_?d(v,w,b,j):null;case Ga:return _=b._init,m(v,w,_(b._payload),j)}if(td(b)||Oc(b))return _!==null?null:f(v,w,b,j,null);vf(v,b)}return null}function p(v,w,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(w,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case of:return v=v.get(j.key===null?b:j.key)||null,c(w,v,j,_);case cl:return v=v.get(j.key===null?b:j.key)||null,d(w,v,j,_);case Ga:var N=j._init;return p(v,w,b,N(j._payload),_)}if(td(j)||Oc(j))return v=v.get(b)||null,f(w,v,j,_,null);vf(w,j)}return null}function g(v,w,b,j){for(var _=null,N=null,S=w,C=w=0,T=null;S!==null&&C<b.length;C++){S.index>C?(T=S,S=null):T=S.sibling;var k=m(v,S,b[C],j);if(k===null){S===null&&(S=T);break}t&&S&&k.alternate===null&&e(v,S),w=a(k,w,C),N===null?_=k:N.sibling=k,N=k,S=T}if(C===b.length)return n(v,S),St&&Go(v,C),_;if(S===null){for(;C<b.length;C++)S=u(v,b[C],j),S!==null&&(w=a(S,w,C),N===null?_=S:N.sibling=S,N=S);return St&&Go(v,C),_}for(S=r(v,S);C<b.length;C++)T=p(S,v,C,b[C],j),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?C:T.key),w=a(T,w,C),N===null?_=T:N.sibling=T,N=T);return t&&S.forEach(function(E){return e(v,E)}),St&&Go(v,C),_}function x(v,w,b,j){var _=Oc(b);if(typeof _!="function")throw Error(G(150));if(b=_.call(b),b==null)throw Error(G(151));for(var N=_=null,S=w,C=w=0,T=null,k=b.next();S!==null&&!k.done;C++,k=b.next()){S.index>C?(T=S,S=null):T=S.sibling;var E=m(v,S,k.value,j);if(E===null){S===null&&(S=T);break}t&&S&&E.alternate===null&&e(v,S),w=a(E,w,C),N===null?_=E:N.sibling=E,N=E,S=T}if(k.done)return n(v,S),St&&Go(v,C),_;if(S===null){for(;!k.done;C++,k=b.next())k=u(v,k.value,j),k!==null&&(w=a(k,w,C),N===null?_=k:N.sibling=k,N=k);return St&&Go(v,C),_}for(S=r(v,S);!k.done;C++,k=b.next())k=p(S,v,C,k.value,j),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?C:k.key),w=a(k,w,C),N===null?_=k:N.sibling=k,N=k);return t&&S.forEach(function(O){return e(v,O)}),St&&Go(v,C),_}function y(v,w,b,j){if(typeof b=="object"&&b!==null&&b.type===dl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case of:e:{for(var _=b.key,N=w;N!==null;){if(N.key===_){if(_=b.type,_===dl){if(N.tag===7){n(v,N.sibling),w=s(N,b.props.children),w.return=v,v=w;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ga&&Pj(_)===N.type){n(v,N.sibling),w=s(N,b.props),w.ref=Fc(v,N,b),w.return=v,v=w;break e}n(v,N);break}else e(v,N);N=N.sibling}b.type===dl?(w=ci(b.props.children,v.mode,j,b.key),w.return=v,v=w):(j=th(b.type,b.key,b.props,null,v.mode,j),j.ref=Fc(v,w,b),j.return=v,v=j)}return i(v);case cl:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=s(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=bg(b,v.mode,j),w.return=v,v=w}return i(v);case Ga:return N=b._init,y(v,w,N(b._payload),j)}if(td(b))return g(v,w,b,j);if(Oc(b))return x(v,w,b,j);vf(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,b),w.return=v,v=w):(n(v,w),w=wg(b,v.mode,j),w.return=v,v=w),i(v)):n(v,w)}return y}var Ul=VN(!0),HN=VN(!1),Ah=Po(null),Dh=null,vl=null,fw=null;function hw(){fw=vl=Dh=null}function mw(t){var e=Ah.current;jt(Ah),t._currentValue=e}function sv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function El(t,e){Dh=t,fw=vl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ln=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(fw!==t)if(t={context:t,memoizedValue:e,next:null},vl===null){if(Dh===null)throw Error(G(308));vl=t,Dh.dependencies={lanes:0,firstContext:t}}else vl=vl.next=t;return e}var ni=null;function pw(t){ni===null?ni=[t]:ni.push(t)}function YN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,pw(e)):(n.next=s.next,s.next=n),e.interleaved=n,pa(t,r)}function pa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qa=!1;function gw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pa(t,n)}return s=r.interleaved,s===null?(e.next=e,pw(r)):(e.next=s.next,s.next=e),r.interleaved=e,pa(t,n)}function Kf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tw(t,n)}}function Aj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mh(t,e,n,r){var s=t.updateQueue;qa=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var u=s.baseState;i=0,f=d=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(m=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){u=g.call(p,u,m);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(p,u,m):g,m==null)break e;u=Pt({},u,m);break e;case 2:qa=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=p,c=u):f=f.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=u),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);gi|=i,t.lanes=i,t.memoizedState=u}}function Dj(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var _u={},ws=Po(_u),Fd=Po(_u),Ud=Po(_u);function ri(t){if(t===_u)throw Error(G(174));return t}function yw(t,e){switch(yt(Ud,e),yt(Fd,t),yt(ws,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ly(e,t)}jt(ws),yt(ws,e)}function Bl(){jt(ws),jt(Fd),jt(Ud)}function qN(t){ri(Ud.current);var e=ri(ws.current),n=Ly(e,t.type);e!==n&&(yt(Fd,t),yt(ws,n))}function vw(t){Fd.current===t&&(jt(ws),jt(Fd))}var Et=Po(0);function Oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mg=[];function xw(){for(var t=0;t<mg.length;t++)mg[t]._workInProgressVersionPrimary=null;mg.length=0}var Zf=ja.ReactCurrentDispatcher,pg=ja.ReactCurrentBatchConfig,pi=0,Tt=null,qt=null,Jt=null,Rh=!1,yd=!1,Bd=0,$$=0;function cn(){throw Error(G(321))}function ww(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zr(t[n],e[n]))return!1;return!0}function bw(t,e,n,r,s,a){if(pi=a,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zf.current=t===null||t.memoizedState===null?B$:W$,t=n(r,s),yd){a=0;do{if(yd=!1,Bd=0,25<=a)throw Error(G(301));a+=1,Jt=qt=null,e.updateQueue=null,Zf.current=z$,t=n(r,s)}while(yd)}if(Zf.current=Ih,e=qt!==null&&qt.next!==null,pi=0,Jt=qt=Tt=null,Rh=!1,e)throw Error(G(300));return t}function jw(){var t=Bd!==0;return Bd=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Er(){if(qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Jt===null?Tt.memoizedState:Jt.next;if(e!==null)Jt=e,qt=t;else{if(t===null)throw Error(G(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Wd(t,e){return typeof e=="function"?e(t):e}function gg(t){var e=Er(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=qt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,d=a;do{var f=d.lane;if((pi&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var u={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,i=r):c=c.next=u,Tt.lanes|=f,gi|=f}d=d.next}while(d!==null&&d!==a);c===null?i=r:c.next=l,Zr(r,e.memoizedState)||(Ln=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Tt.lanes|=a,gi|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yg(t){var e=Er(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=t(a,i.action),i=i.next;while(i!==s);Zr(a,e.memoizedState)||(Ln=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function KN(){}function ZN(t,e){var n=Tt,r=Er(),s=e(),a=!Zr(r.memoizedState,s);if(a&&(r.memoizedState=s,Ln=!0),r=r.queue,Sw(QN.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,zd(9,JN.bind(null,n,r,s,e),void 0,null),Qt===null)throw Error(G(349));pi&30||XN(n,e,s)}return s}function XN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JN(t,e,n,r){e.value=n,e.getSnapshot=r,eC(e)&&tC(t)}function QN(t,e,n){return n(function(){eC(e)&&tC(t)})}function eC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zr(t,n)}catch{return!0}}function tC(t){var e=pa(t,1);e!==null&&Vr(e,t,1,-1)}function Mj(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:t},e.queue=t,t=t.dispatch=U$.bind(null,Tt,t),[e.memoizedState,t]}function zd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nC(){return Er().memoizedState}function Xf(t,e,n,r){var s=is();Tt.flags|=t,s.memoizedState=zd(1|e,n,void 0,r===void 0?null:r)}function Am(t,e,n,r){var s=Er();r=r===void 0?null:r;var a=void 0;if(qt!==null){var i=qt.memoizedState;if(a=i.destroy,r!==null&&ww(r,i.deps)){s.memoizedState=zd(e,n,a,r);return}}Tt.flags|=t,s.memoizedState=zd(1|e,n,a,r)}function Oj(t,e){return Xf(8390656,8,t,e)}function Sw(t,e){return Am(2048,8,t,e)}function rC(t,e){return Am(4,2,t,e)}function sC(t,e){return Am(4,4,t,e)}function aC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oC(t,e,n){return n=n!=null?n.concat([t]):null,Am(4,4,aC.bind(null,e,t),n)}function _w(){}function iC(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ww(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lC(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ww(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cC(t,e,n){return pi&21?(Zr(n,e)||(n=mN(),Tt.lanes|=n,gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=n)}function L$(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var r=pg.transition;pg.transition={};try{t(!1),e()}finally{ct=n,pg.transition=r}}function dC(){return Er().memoizedState}function F$(t,e,n){var r=co(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uC(t))fC(e,n);else if(n=YN(t,e,n,r),n!==null){var s=Nn();Vr(n,t,r,s),hC(n,e,r)}}function U$(t,e,n){var r=co(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uC(t))fC(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var i=e.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,Zr(l,i)){var c=e.interleaved;c===null?(s.next=s,pw(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=YN(t,e,s,r),n!==null&&(s=Nn(),Vr(n,t,r,s),hC(n,e,r))}}function uC(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function fC(t,e){yd=Rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tw(t,n)}}var Ih={readContext:kr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},B$={readContext:kr,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:Oj,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xf(4194308,4,aC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xf(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=F$.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:Mj,useDebugValue:_w,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=Mj(!1),e=t[0];return t=L$.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,s=is();if(St){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Qt===null)throw Error(G(349));pi&30||XN(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Oj(QN.bind(null,r,a,t),[t]),r.flags|=2048,zd(9,JN.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=is(),e=Qt.identifierPrefix;if(St){var n=oa,r=aa;n=(r&~(1<<32-zr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W$={readContext:kr,useCallback:iC,useContext:kr,useEffect:Sw,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:sC,useMemo:lC,useReducer:gg,useRef:nC,useState:function(){return gg(Wd)},useDebugValue:_w,useDeferredValue:function(t){var e=Er();return cC(e,qt.memoizedState,t)},useTransition:function(){var t=gg(Wd)[0],e=Er().memoizedState;return[t,e]},useMutableSource:KN,useSyncExternalStore:ZN,useId:dC,unstable_isNewReconciler:!1},z$={readContext:kr,useCallback:iC,useContext:kr,useEffect:Sw,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:sC,useMemo:lC,useReducer:yg,useRef:nC,useState:function(){return yg(Wd)},useDebugValue:_w,useDeferredValue:function(t){var e=Er();return qt===null?e.memoizedState=t:cC(e,qt.memoizedState,t)},useTransition:function(){var t=yg(Wd)[0],e=Er().memoizedState;return[t,e]},useMutableSource:KN,useSyncExternalStore:ZN,useId:dC,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function av(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dm={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=co(t),a=ca(r,s);a.payload=e,n!=null&&(a.callback=n),e=io(t,a,s),e!==null&&(Vr(e,t,s,r),Kf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=co(t),a=ca(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=io(t,a,s),e!==null&&(Vr(e,t,s,r),Kf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=co(t),s=ca(n,r);s.tag=2,e!=null&&(s.callback=e),e=io(t,s,r),e!==null&&(Vr(e,t,r,n),Kf(e,t,r))}};function Rj(t,e,n,r,s,a,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,i):e.prototype&&e.prototype.isPureReactComponent?!Rd(n,r)||!Rd(s,a):!0}function mC(t,e,n){var r=!1,s=yo,a=e.contextType;return typeof a=="object"&&a!==null?a=kr(a):(s=Bn(e)?hi:hn.current,r=e.contextTypes,a=(r=r!=null)?Ll(t,s):yo),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ij(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dm.enqueueReplaceState(e,e.state,null)}function ov(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gw(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=kr(a):(a=Bn(e)?hi:hn.current,s.context=Ll(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(av(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dm.enqueueReplaceState(s,s.state,null),Mh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e){try{var n="",r=e;do n+=yI(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function vg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V$=typeof WeakMap=="function"?WeakMap:Map;function pC(t,e,n){n=ca(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lh||(Lh=!0,yv=r),iv(t,e)},n}function gC(t,e,n){n=ca(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){iv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){iv(t,e),typeof r!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function $j(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V$;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=s4.bind(null,t,e,n),e.then(t,t))}function Lj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fj(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ca(-1,1),e.tag=2,io(n,e,1))),n.lanes|=1),t)}var H$=ja.ReactCurrentOwner,Ln=!1;function Sn(t,e,n,r){e.child=t===null?HN(e,null,n,r):Ul(e,t.child,n,r)}function Uj(t,e,n,r,s){n=n.render;var a=e.ref;return El(e,s),r=bw(t,e,n,r,a,s),n=jw(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ga(t,e,s)):(St&&n&&cw(e),e.flags|=1,Sn(t,e,r,s),e.child)}function Bj(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!Dw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,yC(t,e,a,r,s)):(t=th(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Rd,n(i,r)&&t.ref===e.ref)return ga(t,e,s)}return e.flags|=1,t=uo(a,r),t.ref=e.ref,t.return=e,e.child=t}function yC(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(Rd(a,r)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,ga(t,e,s)}return lv(t,e,n,r,s)}function vC(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(wl,Zn),Zn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(wl,Zn),Zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,yt(wl,Zn),Zn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,yt(wl,Zn),Zn|=r;return Sn(t,e,s,n),e.child}function xC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lv(t,e,n,r,s){var a=Bn(n)?hi:hn.current;return a=Ll(e,a),El(e,s),n=bw(t,e,n,r,a,s),r=jw(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ga(t,e,s)):(St&&r&&cw(e),e.flags|=1,Sn(t,e,n,s),e.child)}function Wj(t,e,n,r,s){if(Bn(n)){var a=!0;Eh(e)}else a=!1;if(El(e,s),e.stateNode===null)Jf(t,e),mC(e,n,r),ov(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=kr(d):(d=Bn(n)?hi:hn.current,d=Ll(e,d));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Ij(e,i,r,d),qa=!1;var m=e.memoizedState;i.state=m,Mh(e,r,i,s),c=e.memoizedState,l!==r||m!==c||Un.current||qa?(typeof f=="function"&&(av(e,n,f,r),c=e.memoizedState),(l=qa||Rj(e,n,l,r,m,c,d))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,GN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ir(e.type,l),i.props=d,u=e.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=kr(c):(c=Bn(n)?hi:hn.current,c=Ll(e,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==u||m!==c)&&Ij(e,i,r,c),qa=!1,m=e.memoizedState,i.state=m,Mh(e,r,i,s);var g=e.memoizedState;l!==u||m!==g||Un.current||qa?(typeof p=="function"&&(av(e,n,p,r),g=e.memoizedState),(d=qa||Rj(e,n,d,r,m,g,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),i.props=r,i.state=g,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return cv(t,e,n,r,a,s)}function cv(t,e,n,r,s,a){xC(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&kj(e,n,!1),ga(t,e,a);r=e.stateNode,H$.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Ul(e,t.child,null,a),e.child=Ul(e,null,l,a)):Sn(t,e,l,a),e.memoizedState=r.state,s&&kj(e,n,!0),e.child}function wC(t){var e=t.stateNode;e.pendingContext?Cj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cj(t,e.context,!1),yw(t,e.containerInfo)}function zj(t,e,n,r,s){return Fl(),uw(s),e.flags|=256,Sn(t,e,n,r),e.child}var dv={dehydrated:null,treeContext:null,retryLane:0};function uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function bC(t,e,n){var r=e.pendingProps,s=Et.current,a=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),yt(Et,s&1),t===null)return rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,a?(r=e.mode,a=e.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Rm(i,r,0,null),t=ci(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=uv(n),e.memoizedState=dv,t):Nw(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Y$(t,e,i,r,l,s,n);if(a){a=r.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=uo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=uo(l,a):(a=ci(a,i,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,i=t.child.memoizedState,i=i===null?uv(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=t.childLanes&~n,e.memoizedState=dv,r}return a=t.child,t=a.sibling,r=uo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nw(t,e){return e=Rm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xf(t,e,n,r){return r!==null&&uw(r),Ul(e,t.child,null,n),t=Nw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y$(t,e,n,r,s,a,i){if(n)return e.flags&256?(e.flags&=-257,r=vg(Error(G(422))),xf(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=Rm({mode:"visible",children:r.children},s,0,null),a=ci(a,s,i,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ul(e,t.child,null,i),e.child.memoizedState=uv(i),e.memoizedState=dv,a);if(!(e.mode&1))return xf(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(G(419)),r=vg(a,r,void 0),xf(t,e,i,r)}if(l=(i&t.childLanes)!==0,Ln||l){if(r=Qt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,pa(t,s),Vr(r,t,s,-1))}return Aw(),r=vg(Error(G(421))),xf(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=a4.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Qn=oo(s.nextSibling),tr=e,St=!0,Fr=null,t!==null&&(gr[yr++]=aa,gr[yr++]=oa,gr[yr++]=mi,aa=t.id,oa=t.overflow,mi=e),e=Nw(e,r.children),e.flags|=4096,e)}function Vj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sv(t.return,e,n)}function xg(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function jC(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(Sn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vj(t,n,e);else if(t.tag===19)Vj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yt(Et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Oh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xg(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Oh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xg(e,!0,n,null,a);break;case"together":xg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ga(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=uo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=uo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G$(t,e,n){switch(e.tag){case 3:wC(e),Fl();break;case 5:qN(e);break;case 1:Bn(e.type)&&Eh(e);break;case 4:yw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;yt(Ah,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yt(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?bC(t,e,n):(yt(Et,Et.current&1),t=ga(t,e,n),t!==null?t.sibling:null);yt(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,vC(t,e,n)}return ga(t,e,n)}var SC,fv,_C,NC;SC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fv=function(){};_C=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ri(ws.current);var a=null;switch(n){case"input":s=Oy(t,s),r=Oy(t,r),a=[];break;case"select":s=Pt({},s,{value:void 0}),r=Pt({},r,{value:void 0}),a=[];break;case"textarea":s=$y(t,s),r=$y(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ch)}Fy(n,r);var i;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ed.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ed.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&wt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};NC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uc(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function q$(t,e,n){var r=e.pendingProps;switch(dw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Bn(e.type)&&kh(),dn(e),null;case 3:return r=e.stateNode,Bl(),jt(Un),jt(hn),xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fr!==null&&(wv(Fr),Fr=null))),fv(t,e),dn(e),null;case 5:vw(e);var s=ri(Ud.current);if(n=e.type,t!==null&&e.stateNode!=null)_C(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return dn(e),null}if(t=ri(ws.current),yf(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[us]=e,r[Ld]=a,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(s=0;s<rd.length;s++)wt(rd[s],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":Q0(r,a),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wt("invalid",r);break;case"textarea":tj(r,a),wt("invalid",r)}Fy(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&gf(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&gf(r.textContent,l,t),s=["children",""+l]):Ed.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&wt("scroll",r)}switch(n){case"input":lf(r),ej(r,a,!0);break;case"textarea":lf(r),nj(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ch)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[us]=e,t[Ld]=r,SC(t,e,!1,!1),e.stateNode=t;e:{switch(i=Uy(n,r),n){case"dialog":wt("cancel",t),wt("close",t),s=r;break;case"iframe":case"object":case"embed":wt("load",t),s=r;break;case"video":case"audio":for(s=0;s<rd.length;s++)wt(rd[s],t);s=r;break;case"source":wt("error",t),s=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),s=r;break;case"details":wt("toggle",t),s=r;break;case"input":Q0(t,r),s=Oy(t,r),wt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pt({},r,{value:void 0}),wt("invalid",t);break;case"textarea":tj(t,r),s=$y(t,r),wt("invalid",t);break;default:s=r}Fy(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?nN(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eN(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Td(t,c):typeof c=="number"&&Td(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ed.hasOwnProperty(a)?c!=null&&a==="onScroll"&&wt("scroll",t):c!=null&&Kx(t,a,c,i))}switch(n){case"input":lf(t),ej(t,r,!1);break;case"textarea":lf(t),nj(t);break;case"option":r.value!=null&&t.setAttribute("value",""+go(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?_l(t,!!r.multiple,a,!1):r.defaultValue!=null&&_l(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)NC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=ri(Ud.current),ri(ws.current),yf(e)){if(r=e.stateNode,n=e.memoizedProps,r[us]=e,(a=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:gf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gf(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=e,e.stateNode=r}return dn(e),null;case 13:if(jt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&Qn!==null&&e.mode&1&&!(e.flags&128))zN(),Fl(),e.flags|=98560,a=!1;else if(a=yf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(G(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[us]=e}else Fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),a=!1}else Fr!==null&&(wv(Fr),Fr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Zt===0&&(Zt=3):Aw())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Bl(),fv(t,e),t===null&&Id(e.stateNode.containerInfo),dn(e),null;case 10:return mw(e.type._context),dn(e),null;case 17:return Bn(e.type)&&kh(),dn(e),null;case 19:if(jt(Et),a=e.memoizedState,a===null)return dn(e),null;if(r=(e.flags&128)!==0,i=a.rendering,i===null)if(r)Uc(a,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Oh(t),i!==null){for(e.flags|=128,Uc(a,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,t=i.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yt(Et,Et.current&1|2),e.child}t=t.sibling}a.tail!==null&&Rt()>zl&&(e.flags|=128,r=!0,Uc(a,!1),e.lanes=4194304)}else{if(!r)if(t=Oh(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!St)return dn(e),null}else 2*Rt()-a.renderingStartTime>zl&&n!==1073741824&&(e.flags|=128,r=!0,Uc(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(n=a.last,n!==null?n.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Rt(),e.sibling=null,n=Et.current,yt(Et,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return Pw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function K$(t,e){switch(dw(e),e.tag){case 1:return Bn(e.type)&&kh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bl(),jt(Un),jt(hn),xw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vw(e),null;case 13:if(jt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Et),null;case 4:return Bl(),null;case 10:return mw(e.type._context),null;case 22:case 23:return Pw(),null;case 24:return null;default:return null}}var wf=!1,fn=!1,Z$=typeof WeakSet=="function"?WeakSet:Set,ce=null;function xl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ot(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){Ot(t,e,r)}}var Hj=!1;function X$(t,e){if(Zy=Sh,t=PN(),lw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,f=0,u=t,m=null;t:for(;;){for(var p;u!==n||s!==0&&u.nodeType!==3||(l=i+s),u!==a||r!==0&&u.nodeType!==3||(c=i+r),u.nodeType===3&&(i+=u.nodeValue.length),(p=u.firstChild)!==null;)m=u,u=p;for(;;){if(u===t)break t;if(m===n&&++d===s&&(l=i),m===a&&++f===r&&(c=i),(p=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xy={focusedElem:t,selectionRange:n},Sh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ir(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Ot(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=Hj,Hj=!1,g}function vd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&hv(e,n,a)}s=s.next}while(s!==r)}}function Mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CC(t){var e=t.alternate;e!==null&&(t.alternate=null,CC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[Ld],delete e[ev],delete e[M$],delete e[O$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kC(t){return t.tag===5||t.tag===3||t.tag===4}function Yj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ch));else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}function gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gv(t,e,n),t=t.sibling;t!==null;)gv(t,e,n),t=t.sibling}var nn=null,$r=!1;function Ia(t,e,n){for(n=n.child;n!==null;)EC(t,e,n),n=n.sibling}function EC(t,e,n){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Nm,n)}catch{}switch(n.tag){case 5:fn||xl(n,e);case 6:var r=nn,s=$r;nn=null,Ia(t,e,n),nn=r,$r=s,nn!==null&&($r?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&($r?(t=nn,n=n.stateNode,t.nodeType===8?fg(t.parentNode,n):t.nodeType===1&&fg(t,n),Md(t)):fg(nn,n.stateNode));break;case 4:r=nn,s=$r,nn=n.stateNode.containerInfo,$r=!0,Ia(t,e,n),nn=r,$r=s;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&hv(n,e,i),s=s.next}while(s!==r)}Ia(t,e,n);break;case 1:if(!fn&&(xl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ot(n,e,l)}Ia(t,e,n);break;case 21:Ia(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Ia(t,e,n),fn=r):Ia(t,e,n);break;default:Ia(t,e,n)}}function Gj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z$),e.forEach(function(r){var s=o4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,$r=!1;break e;case 3:nn=l.stateNode.containerInfo,$r=!0;break e;case 4:nn=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(nn===null)throw Error(G(160));EC(a,i,s),nn=null,$r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ot(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TC(e,t),e=e.sibling}function TC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mr(e,t),os(t),r&4){try{vd(3,t,t.return),Mm(3,t)}catch(x){Ot(t,t.return,x)}try{vd(5,t,t.return)}catch(x){Ot(t,t.return,x)}}break;case 1:Mr(e,t),os(t),r&512&&n!==null&&xl(n,n.return);break;case 5:if(Mr(e,t),os(t),r&512&&n!==null&&xl(n,n.return),t.flags&32){var s=t.stateNode;try{Td(s,"")}catch(x){Ot(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,i=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&X1(s,a),Uy(l,i);var d=Uy(l,a);for(i=0;i<c.length;i+=2){var f=c[i],u=c[i+1];f==="style"?nN(s,u):f==="dangerouslySetInnerHTML"?eN(s,u):f==="children"?Td(s,u):Kx(s,f,u,d)}switch(l){case"input":Ry(s,a);break;case"textarea":J1(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?_l(s,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?_l(s,!!a.multiple,a.defaultValue,!0):_l(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ld]=a}catch(x){Ot(t,t.return,x)}}break;case 6:if(Mr(e,t),os(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(x){Ot(t,t.return,x)}}break;case 3:if(Mr(e,t),os(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Md(e.containerInfo)}catch(x){Ot(t,t.return,x)}break;case 4:Mr(e,t),os(t);break;case 13:Mr(e,t),os(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ew=Rt())),r&4&&Gj(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(d=fn)||f,Mr(e,t),fn=d):Mr(e,t),os(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(u=ce=f;ce!==null;){switch(m=ce,p=m.child,m.tag){case 0:case 11:case 14:case 15:vd(4,m,m.return);break;case 1:xl(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Ot(r,n,x)}}break;case 5:xl(m,m.return);break;case 22:if(m.memoizedState!==null){Kj(u);continue}}p!==null?(p.return=m,ce=p):Kj(u)}f=f.sibling}e:for(f=null,u=t;;){if(u.tag===5){if(f===null){f=u;try{s=u.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tN("display",i))}catch(x){Ot(t,t.return,x)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){Ot(t,t.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Mr(e,t),os(t),r&4&&Gj(t);break;case 21:break;default:Mr(e,t),os(t)}}function os(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kC(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Td(s,""),r.flags&=-33);var a=Yj(t);gv(t,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Yj(t);pv(t,l,i);break;default:throw Error(G(161))}}catch(c){Ot(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J$(t,e,n){ce=t,PC(t)}function PC(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||wf;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||fn;l=wf;var d=fn;if(wf=i,(fn=c)&&!d)for(ce=s;ce!==null;)i=ce,c=i.child,i.tag===22&&i.memoizedState!==null?Zj(s):c!==null?(c.return=i,ce=c):Zj(s);for(;a!==null;)ce=a,PC(a),a=a.sibling;ce=s,wf=l,fn=d}qj(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ce=a):qj(t)}}function qj(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Dj(e,a,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dj(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&Md(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}fn||e.flags&512&&mv(e)}catch(m){Ot(e,e.return,m)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Kj(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Zj(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mm(4,e)}catch(c){Ot(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ot(e,s,c)}}var a=e.return;try{mv(e)}catch(c){Ot(e,a,c)}break;case 5:var i=e.return;try{mv(e)}catch(c){Ot(e,i,c)}}}catch(c){Ot(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var Q$=Math.ceil,$h=ja.ReactCurrentDispatcher,Cw=ja.ReactCurrentOwner,wr=ja.ReactCurrentBatchConfig,nt=0,Qt=null,zt=null,sn=0,Zn=0,wl=Po(0),Zt=0,Vd=null,gi=0,Om=0,kw=0,xd=null,In=null,Ew=0,zl=1/0,ea=null,Lh=!1,yv=null,lo=null,bf=!1,eo=null,Fh=0,wd=0,vv=null,Qf=-1,eh=0;function Nn(){return nt&6?Rt():Qf!==-1?Qf:Qf=Rt()}function co(t){return t.mode&1?nt&2&&sn!==0?sn&-sn:I$.transition!==null?(eh===0&&(eh=mN()),eh):(t=ct,t!==0||(t=window.event,t=t===void 0?16:bN(t.type)),t):1}function Vr(t,e,n,r){if(50<wd)throw wd=0,vv=null,Error(G(185));bu(t,n,r),(!(nt&2)||t!==Qt)&&(t===Qt&&(!(nt&2)&&(Om|=n),Zt===4&&Za(t,sn)),Wn(t,r),n===1&&nt===0&&!(e.mode&1)&&(zl=Rt()+500,Pm&&Ao()))}function Wn(t,e){var n=t.callbackNode;II(t,e);var r=jh(t,t===Qt?sn:0);if(r===0)n!==null&&aj(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aj(n),e===1)t.tag===0?R$(Xj.bind(null,t)):UN(Xj.bind(null,t)),A$(function(){!(nt&6)&&Ao()}),n=null;else{switch(pN(r)){case 1:n=ew;break;case 4:n=fN;break;case 16:n=bh;break;case 536870912:n=hN;break;default:n=bh}n=LC(n,AC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AC(t,e){if(Qf=-1,eh=0,nt&6)throw Error(G(327));var n=t.callbackNode;if(Tl()&&t.callbackNode!==n)return null;var r=jh(t,t===Qt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uh(t,r);else{e=r;var s=nt;nt|=2;var a=MC();(Qt!==t||sn!==e)&&(ea=null,zl=Rt()+500,li(t,e));do try{n4();break}catch(l){DC(t,l)}while(!0);hw(),$h.current=a,nt=s,zt!==null?e=0:(Qt=null,sn=0,e=Zt)}if(e!==0){if(e===2&&(s=Hy(t),s!==0&&(r=s,e=xv(t,s))),e===1)throw n=Vd,li(t,0),Za(t,r),Wn(t,Rt()),n;if(e===6)Za(t,r);else{if(s=t.current.alternate,!(r&30)&&!e4(s)&&(e=Uh(t,r),e===2&&(a=Hy(t),a!==0&&(r=a,e=xv(t,a))),e===1))throw n=Vd,li(t,0),Za(t,r),Wn(t,Rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:qo(t,In,ea);break;case 3:if(Za(t,r),(r&130023424)===r&&(e=Ew+500-Rt(),10<e)){if(jh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qy(qo.bind(null,t,In,ea),e);break}qo(t,In,ea);break;case 4:if(Za(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-zr(r);a=1<<i,i=e[i],i>s&&(s=i),r&=~a}if(r=s,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q$(r/1960))-r,10<r){t.timeoutHandle=Qy(qo.bind(null,t,In,ea),r);break}qo(t,In,ea);break;case 5:qo(t,In,ea);break;default:throw Error(G(329))}}}return Wn(t,Rt()),t.callbackNode===n?AC.bind(null,t):null}function xv(t,e){var n=xd;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=Uh(t,e),t!==2&&(e=In,In=n,e!==null&&wv(e)),t}function wv(t){In===null?In=t:In.push.apply(In,t)}function e4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Zr(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Za(t,e){for(e&=~kw,e&=~Om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zr(e),r=1<<n;t[n]=-1,e&=~r}}function Xj(t){if(nt&6)throw Error(G(327));Tl();var e=jh(t,0);if(!(e&1))return Wn(t,Rt()),null;var n=Uh(t,e);if(t.tag!==0&&n===2){var r=Hy(t);r!==0&&(e=r,n=xv(t,r))}if(n===1)throw n=Vd,li(t,0),Za(t,e),Wn(t,Rt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qo(t,In,ea),Wn(t,Rt()),null}function Tw(t,e){var n=nt;nt|=1;try{return t(e)}finally{nt=n,nt===0&&(zl=Rt()+500,Pm&&Ao())}}function yi(t){eo!==null&&eo.tag===0&&!(nt&6)&&Tl();var e=nt;nt|=1;var n=wr.transition,r=ct;try{if(wr.transition=null,ct=1,t)return t()}finally{ct=r,wr.transition=n,nt=e,!(nt&6)&&Ao()}}function Pw(){Zn=wl.current,jt(wl)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P$(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kh();break;case 3:Bl(),jt(Un),jt(hn),xw();break;case 5:vw(r);break;case 4:Bl();break;case 13:jt(Et);break;case 19:jt(Et);break;case 10:mw(r.type._context);break;case 22:case 23:Pw()}n=n.return}if(Qt=t,zt=t=uo(t.current,null),sn=Zn=e,Zt=0,Vd=null,kw=Om=gi=0,In=xd=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}ni=null}return t}function DC(t,e){do{var n=zt;try{if(hw(),Zf.current=Ih,Rh){for(var r=Tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rh=!1}if(pi=0,Jt=qt=Tt=null,yd=!1,Bd=0,Cw.current=null,n===null||n.return===null){Zt=1,Vd=e,zt=null;break}e:{var a=t,i=n.return,l=n,c=e;if(e=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Lj(i);if(p!==null){p.flags&=-257,Fj(p,i,l,a,e),p.mode&1&&$j(a,d,e),e=p,c=d;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){$j(a,d,e),Aw();break e}c=Error(G(426))}}else if(St&&l.mode&1){var y=Lj(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Fj(y,i,l,a,e),uw(Wl(c,l));break e}}a=c=Wl(c,l),Zt!==4&&(Zt=2),xd===null?xd=[a]:xd.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=pC(a,c,e);Aj(a,v);break e;case 1:l=c;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(lo===null||!lo.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=gC(a,l,e);Aj(a,j);break e}}a=a.return}while(a!==null)}RC(n)}catch(_){e=_,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(!0)}function MC(){var t=$h.current;return $h.current=Ih,t===null?Ih:t}function Aw(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),Qt===null||!(gi&268435455)&&!(Om&268435455)||Za(Qt,sn)}function Uh(t,e){var n=nt;nt|=2;var r=MC();(Qt!==t||sn!==e)&&(ea=null,li(t,e));do try{t4();break}catch(s){DC(t,s)}while(!0);if(hw(),nt=n,$h.current=r,zt!==null)throw Error(G(261));return Qt=null,sn=0,Zt}function t4(){for(;zt!==null;)OC(zt)}function n4(){for(;zt!==null&&!kI();)OC(zt)}function OC(t){var e=$C(t.alternate,t,Zn);t.memoizedProps=t.pendingProps,e===null?RC(t):zt=e,Cw.current=null}function RC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K$(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,zt=null;return}}else if(n=q$(n,e,Zn),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Zt===0&&(Zt=5)}function qo(t,e,n){var r=ct,s=wr.transition;try{wr.transition=null,ct=1,r4(t,e,n,r)}finally{wr.transition=s,ct=r}return null}function r4(t,e,n,r){do Tl();while(eo!==null);if(nt&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if($I(t,a),t===Qt&&(zt=Qt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bf||(bf=!0,LC(bh,function(){return Tl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=wr.transition,wr.transition=null;var i=ct;ct=1;var l=nt;nt|=4,Cw.current=null,X$(t,n),TC(n,t),S$(Xy),Sh=!!Zy,Xy=Zy=null,t.current=n,J$(n),EI(),nt=l,ct=i,wr.transition=a}else t.current=n;if(bf&&(bf=!1,eo=t,Fh=s),a=t.pendingLanes,a===0&&(lo=null),AI(n.stateNode),Wn(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lh)throw Lh=!1,t=yv,yv=null,t;return Fh&1&&t.tag!==0&&Tl(),a=t.pendingLanes,a&1?t===vv?wd++:(wd=0,vv=t):wd=0,Ao(),null}function Tl(){if(eo!==null){var t=pN(Fh),e=wr.transition,n=ct;try{if(wr.transition=null,ct=16>t?16:t,eo===null)var r=!1;else{if(t=eo,eo=null,Fh=0,nt&6)throw Error(G(331));var s=nt;for(nt|=4,ce=t.current;ce!==null;){var a=ce,i=a.child;if(ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ce=d;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:vd(8,f,a)}var u=f.child;if(u!==null)u.return=f,ce=u;else for(;ce!==null;){f=ce;var m=f.sibling,p=f.return;if(CC(f),f===d){ce=null;break}if(m!==null){m.return=p,ce=m;break}ce=p}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}ce=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ce=i;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vd(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ce=v;break e}ce=a.return}}var w=t.current;for(ce=w;ce!==null;){i=ce;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ce=b;else e:for(i=w;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mm(9,l)}}catch(_){Ot(l,l.return,_)}if(l===i){ce=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ce=j;break e}ce=l.return}}if(nt=s,Ao(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(Nm,t)}catch{}r=!0}return r}finally{ct=n,wr.transition=e}}return!1}function Jj(t,e,n){e=Wl(n,e),e=pC(t,e,1),t=io(t,e,1),e=Nn(),t!==null&&(bu(t,1,e),Wn(t,e))}function Ot(t,e,n){if(t.tag===3)Jj(t,t,n);else for(;e!==null;){if(e.tag===3){Jj(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lo===null||!lo.has(r))){t=Wl(n,t),t=gC(e,t,1),e=io(e,t,1),t=Nn(),e!==null&&(bu(e,1,t),Wn(e,t));break}}e=e.return}}function s4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(sn&n)===n&&(Zt===4||Zt===3&&(sn&130023424)===sn&&500>Rt()-Ew?li(t,0):kw|=n),Wn(t,e)}function IC(t,e){e===0&&(t.mode&1?(e=uf,uf<<=1,!(uf&130023424)&&(uf=4194304)):e=1);var n=Nn();t=pa(t,e),t!==null&&(bu(t,e,n),Wn(t,n))}function a4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IC(t,n)}function o4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),IC(t,n)}var $C;$C=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ln=!1,G$(t,e,n);Ln=!!(t.flags&131072)}else Ln=!1,St&&e.flags&1048576&&BN(e,Ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jf(t,e),t=e.pendingProps;var s=Ll(e,hn.current);El(e,n),s=bw(null,e,r,t,s,n);var a=jw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(a=!0,Eh(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gw(e),s.updater=Dm,e.stateNode=s,s._reactInternals=e,ov(e,r,t,n),e=cv(null,e,r,!0,a,n)):(e.tag=0,St&&a&&cw(e),Sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=l4(r),t=Ir(r,t),s){case 0:e=lv(null,e,r,t,n);break e;case 1:e=Wj(null,e,r,t,n);break e;case 11:e=Uj(null,e,r,t,n);break e;case 14:e=Bj(null,e,r,Ir(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),lv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),Wj(t,e,r,s,n);case 3:e:{if(wC(e),t===null)throw Error(G(387));r=e.pendingProps,a=e.memoizedState,s=a.element,GN(t,e),Mh(e,r,null,n);var i=e.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Wl(Error(G(423)),e),e=zj(t,e,r,n,s);break e}else if(r!==s){s=Wl(Error(G(424)),e),e=zj(t,e,r,n,s);break e}else for(Qn=oo(e.stateNode.containerInfo.firstChild),tr=e,St=!0,Fr=null,n=HN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fl(),r===s){e=ga(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return qN(e),t===null&&rv(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Jy(r,s)?i=null:a!==null&&Jy(r,a)&&(e.flags|=32),xC(t,e),Sn(t,e,i,n),e.child;case 6:return t===null&&rv(e),null;case 13:return bC(t,e,n);case 4:return yw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ul(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),Uj(t,e,r,s,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,i=s.value,yt(Ah,r._currentValue),r._currentValue=i,a!==null)if(Zr(a.value,i)){if(a.children===s.children&&!Un.current){e=ga(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ca(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),sv(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===e.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(G(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sv(i,n,e),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,El(e,n),s=kr(s),r=r(s),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,s=Ir(r,e.pendingProps),s=Ir(r.type,s),Bj(t,e,r,s,n);case 15:return yC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),Jf(t,e),e.tag=1,Bn(r)?(t=!0,Eh(e)):t=!1,El(e,n),mC(e,r,s),ov(e,r,s,n),cv(null,e,r,!0,t,n);case 19:return jC(t,e,n);case 22:return vC(t,e,n)}throw Error(G(156,e.tag))};function LC(t,e){return uN(t,e)}function i4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new i4(t,e,n,r)}function Dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l4(t){if(typeof t=="function")return Dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xx)return 11;if(t===Jx)return 14}return 2}function uo(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,r,s,a){var i=2;if(r=t,typeof t=="function")Dw(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case dl:return ci(n.children,s,a,e);case Zx:i=8,s|=8;break;case Py:return t=xr(12,n,e,s|2),t.elementType=Py,t.lanes=a,t;case Ay:return t=xr(13,n,e,s),t.elementType=Ay,t.lanes=a,t;case Dy:return t=xr(19,n,e,s),t.elementType=Dy,t.lanes=a,t;case q1:return Rm(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y1:i=10;break e;case G1:i=9;break e;case Xx:i=11;break e;case Jx:i=14;break e;case Ga:i=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=xr(i,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function ci(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function Rm(t,e,n,r){return t=xr(22,t,r,e),t.elementType=q1,t.lanes=n,t.stateNode={isHidden:!1},t}function wg(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function bg(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tg(0),this.expirationTimes=tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mw(t,e,n,r,s,a,i,l,c){return t=new c4(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=xr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gw(a),t}function d4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FC(t){if(!t)return yo;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Bn(n))return FN(t,n,e)}return e}function UC(t,e,n,r,s,a,i,l,c){return t=Mw(n,r,!0,t,s,a,i,l,c),t.context=FC(null),n=t.current,r=Nn(),s=co(n),a=ca(r,s),a.callback=e??null,io(n,a,s),t.current.lanes=s,bu(t,s,r),Wn(t,r),t}function Im(t,e,n,r){var s=e.current,a=Nn(),i=co(s);return n=FC(n),e.context===null?e.context=n:e.pendingContext=n,e=ca(a,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=io(s,e,i),t!==null&&(Vr(t,s,i,a),Kf(t,s,i)),i}function Bh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ow(t,e){Qj(t,e),(t=t.alternate)&&Qj(t,e)}function u4(){return null}var BC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rw(t){this._internalRoot=t}$m.prototype.render=Rw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Im(t,e,null,null)};$m.prototype.unmount=Rw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yi(function(){Im(null,t,null,null)}),e[ma]=null}};function $m(t){this._internalRoot=t}$m.prototype.unstable_scheduleHydration=function(t){if(t){var e=vN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ka.length&&e!==0&&e<Ka[n].priority;n++);Ka.splice(n,0,t),n===0&&wN(t)}};function Iw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eS(){}function f4(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=Bh(i);a.call(d)}}var i=UC(e,r,t,0,null,!1,!1,"",eS);return t._reactRootContainer=i,t[ma]=i.current,Id(t.nodeType===8?t.parentNode:t),yi(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Bh(c);l.call(d)}}var c=Mw(t,0,!1,null,null,!1,!1,"",eS);return t._reactRootContainer=c,t[ma]=c.current,Id(t.nodeType===8?t.parentNode:t),yi(function(){Im(e,c,n,r)}),c}function Fm(t,e,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Bh(i);l.call(c)}}Im(e,i,t,s)}else i=f4(n,e,t,s,r);return Bh(i)}gN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nd(e.pendingLanes);n!==0&&(tw(e,n|1),Wn(e,Rt()),!(nt&6)&&(zl=Rt()+500,Ao()))}break;case 13:yi(function(){var r=pa(t,1);if(r!==null){var s=Nn();Vr(r,t,1,s)}}),Ow(t,1)}};nw=function(t){if(t.tag===13){var e=pa(t,134217728);if(e!==null){var n=Nn();Vr(e,t,134217728,n)}Ow(t,134217728)}};yN=function(t){if(t.tag===13){var e=co(t),n=pa(t,e);if(n!==null){var r=Nn();Vr(n,t,e,r)}Ow(t,e)}};vN=function(){return ct};xN=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};Wy=function(t,e,n){switch(e){case"input":if(Ry(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tm(r);if(!s)throw Error(G(90));Z1(r),Ry(r,s)}}}break;case"textarea":J1(t,n);break;case"select":e=n.value,e!=null&&_l(t,!!n.multiple,e,!1)}};aN=Tw;oN=yi;var h4={usingClientEntryPoint:!1,Events:[Su,ml,Tm,rN,sN,Tw]},Bc={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m4={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ja.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cN(t),t===null?null:t.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||u4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Nm=jf.inject(m4),xs=jf}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h4;fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iw(e))throw Error(G(200));return d4(t,e,null,n)};fr.createRoot=function(t,e){if(!Iw(t))throw Error(G(299));var n=!1,r="",s=BC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Mw(t,1,!1,null,null,n,!1,r,s),t[ma]=e.current,Id(t.nodeType===8?t.parentNode:t),new Rw(e)};fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=cN(e),t=t===null?null:t.stateNode,t};fr.flushSync=function(t){return yi(t)};fr.hydrate=function(t,e,n){if(!Lm(e))throw Error(G(200));return Fm(null,t,e,!0,n)};fr.hydrateRoot=function(t,e,n){if(!Iw(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=BC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=UC(e,null,t,1,n??null,s,!1,a,i),t[ma]=e.current,Id(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $m(e)};fr.render=function(t,e,n){if(!Lm(e))throw Error(G(200));return Fm(null,t,e,!1,n)};fr.unmountComponentAtNode=function(t){if(!Lm(t))throw Error(G(40));return t._reactRootContainer?(yi(function(){Fm(null,null,t,!1,function(){t._reactRootContainer=null,t[ma]=null})}),!0):!1};fr.unstable_batchedUpdates=Tw;fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lm(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Fm(t,e,n,!1,r)};fr.version="18.3.1-next-f1338f8080-20240426";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(t){console.error(t)}}WC(),W1.exports=fr;var Sa=W1.exports;const zC=Bx(Sa);var tS=Sa;Ey.createRoot=tS.createRoot,Ey.hydrateRoot=tS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}var to;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(to||(to={}));const nS="popstate";function p4(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:i,hash:l}=r.location;return bv("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wh(s)}return y4(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g4(){return Math.random().toString(36).substr(2,8)}function rS(t,e){return{usr:t.state,key:t.key,idx:e}}function bv(t,e,n,r){return n===void 0&&(n=null),Hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ic(e):e,{state:n,key:e&&e.key||r||g4()})}function Wh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l=to.Pop,c=null,d=f();d==null&&(d=0,i.replaceState(Hd({},i.state,{idx:d}),""));function f(){return(i.state||{idx:null}).idx}function u(){l=to.Pop;let y=f(),v=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:v})}function m(y,v){l=to.Push;let w=bv(x.location,y,v);d=f()+1;let b=rS(w,d),j=x.createHref(w);try{i.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}a&&c&&c({action:l,location:x.location,delta:1})}function p(y,v){l=to.Replace;let w=bv(x.location,y,v);d=f();let b=rS(w,d),j=x.createHref(w);i.replaceState(b,"",j),a&&c&&c({action:l,location:x.location,delta:0})}function g(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Wh(y);return w=w.replace(/ $/,"%20"),Ft(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let x={get action(){return l},get location(){return t(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nS,u),c=y,()=>{s.removeEventListener(nS,u),c=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(y){return i.go(y)}};return x}var sS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sS||(sS={}));function v4(t,e,n){return n===void 0&&(n="/"),x4(t,e,n)}function x4(t,e,n,r){let s=typeof e=="string"?ic(e):e,a=$w(s.pathname||"/",n);if(a==null)return null;let i=HC(t);w4(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=D4(a);l=T4(i[c],d)}return l}function HC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=fo([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(Ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),HC(a.children,e,f,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:k4(d,a.index),routesMeta:f})};return t.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of YC(a.path))s(a,i,c)}),e}function YC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=YC(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function w4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b4=/^:[\w-]+$/,j4=3,S4=2,_4=1,N4=10,C4=-2,aS=t=>t==="*";function k4(t,e){let n=t.split("/"),r=n.length;return n.some(aS)&&(r+=C4),e&&(r+=S4),n.filter(s=>!aS(s)).reduce((s,a)=>s+(b4.test(a)?j4:a===""?_4:N4),r)}function E4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function T4(t,e,n){let{routesMeta:r}=t,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",u=P4({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:fo([a,u.pathname]),pathnameBase:I4(fo([a,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(a=fo([a,u.pathnameBase]))}return i}function P4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,f,u)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let x=l[u]||"";i=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[u];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:t}}function A4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function D4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $w(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function M4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ic(t):t;return{pathname:n?n.startsWith("/")?n:O4(n,e):e,search:$4(r),hash:L4(s)}}function O4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lw(t,e){let n=R4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ic(t):(s=Hd({},t),Ft(!s.pathname||!s.pathname.includes("?"),jg("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),jg("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),jg("#","search","hash",s)));let a=t===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let u=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),u-=1;s.pathname=m.join("/")}l=u>=0?e[u]:"/"}let c=M4(s,l),d=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const fo=t=>t.join("/").replace(/\/\/+/g,"/"),I4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GC=["post","put","patch","delete"];new Set(GC);const U4=["get",...GC];new Set(U4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}const Uw=h.createContext(null),B4=h.createContext(null),Do=h.createContext(null),Um=h.createContext(null),_a=h.createContext({outlet:null,matches:[],isDataRoute:!1}),qC=h.createContext(null);function W4(t,e){let{relative:n}=e===void 0?{}:e;lc()||Ft(!1);let{basename:r,navigator:s}=h.useContext(Do),{hash:a,pathname:i,search:l}=ZC(t,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:fo([r,i])),s.createHref({pathname:c,search:l,hash:a})}function lc(){return h.useContext(Um)!=null}function es(){return lc()||Ft(!1),h.useContext(Um).location}function KC(t){h.useContext(Do).static||h.useLayoutEffect(t)}function Mo(){let{isDataRoute:t}=h.useContext(_a);return t?nL():z4()}function z4(){lc()||Ft(!1);let t=h.useContext(Uw),{basename:e,future:n,navigator:r}=h.useContext(Do),{matches:s}=h.useContext(_a),{pathname:a}=es(),i=JSON.stringify(Lw(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return KC(()=>{l.current=!0}),h.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let u=Fw(d,JSON.parse(i),a,f.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:fo([e,u.pathname])),(f.replace?r.replace:r.push)(u,f.state,f)},[e,r,i,a,t])}function V4(){let{matches:t}=h.useContext(_a),e=t[t.length-1];return e?e.params:{}}function ZC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(Do),{matches:s}=h.useContext(_a),{pathname:a}=es(),i=JSON.stringify(Lw(s,r.v7_relativeSplatPath));return h.useMemo(()=>Fw(t,JSON.parse(i),a,n==="path"),[t,i,a,n])}function H4(t,e){return Y4(t,e)}function Y4(t,e,n,r){lc()||Ft(!1);let{navigator:s}=h.useContext(Do),{matches:a}=h.useContext(_a),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=es(),f;if(e){var u;let y=typeof e=="string"?ic(e):e;c==="/"||(u=y.pathname)!=null&&u.startsWith(c)||Ft(!1),f=y}else f=d;let m=f.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=v4(t,{pathname:p}),x=X4(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:fo([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:fo([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&x?h.createElement(Um.Provider,{value:{location:Yd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:to.Pop}},x):x}function G4(){let t=tL(),e=F4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:s},n):null,null)}const q4=h.createElement(G4,null);class K4 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(_a.Provider,{value:this.props.routeContext},h.createElement(qC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z4(t){let{routeContext:e,match:n,children:r}=t,s=h.useContext(Uw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(_a.Provider,{value:e},r)}function X4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=i.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);f>=0||Ft(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let u=i[f];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=f),u.route.id){let{loaderData:m,errors:p}=n,g=u.route.loader&&m[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,u,m)=>{let p,g=!1,x=null,y=null;n&&(p=l&&u.route.id?l[u.route.id]:void 0,x=u.route.errorElement||q4,c&&(d<0&&m===0?(rL("route-fallback"),g=!0,y=null):d===m&&(g=!0,y=u.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),w=()=>{let b;return p?b=x:g?b=y:u.route.Component?b=h.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=f,h.createElement(Z4,{match:u,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?h.createElement(K4,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var XC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XC||{}),JC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(JC||{});function J4(t){let e=h.useContext(Uw);return e||Ft(!1),e}function Q4(t){let e=h.useContext(B4);return e||Ft(!1),e}function eL(t){let e=h.useContext(_a);return e||Ft(!1),e}function QC(t){let e=eL(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function tL(){var t;let e=h.useContext(qC),n=Q4(),r=QC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nL(){let{router:t}=J4(XC.UseNavigateStable),e=QC(JC.UseNavigateStable),n=h.useRef(!1);return KC(()=>{n.current=!0}),h.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yd({fromRouteId:e},a)))},[t,e])}const oS={};function rL(t,e,n){oS[t]||(oS[t]=!0)}function sL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ek(t){let{to:e,replace:n,state:r,relative:s}=t;lc()||Ft(!1);let{future:a,static:i}=h.useContext(Do),{matches:l}=h.useContext(_a),{pathname:c}=es(),d=Mo(),f=Fw(e,Lw(l,a.v7_relativeSplatPath),c,s==="path"),u=JSON.stringify(f);return h.useEffect(()=>d(JSON.parse(u),{replace:n,state:r,relative:s}),[d,u,s,n,r]),null}function $e(t){Ft(!1)}function aL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=to.Pop,navigator:a,static:i=!1,future:l}=t;lc()&&Ft(!1);let c=e.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:a,static:i,future:Yd({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof r=="string"&&(r=ic(r));let{pathname:f="/",search:u="",hash:m="",state:p=null,key:g="default"}=r,x=h.useMemo(()=>{let y=$w(f,c);return y==null?null:{location:{pathname:y,search:u,hash:m,state:p,key:g},navigationType:s}},[c,f,u,m,p,g,s]);return x==null?null:h.createElement(Do.Provider,{value:d},h.createElement(Um.Provider,{children:n,value:x}))}function oL(t){let{children:e,location:n}=t;return H4(jv(e),n)}new Promise(()=>{});function jv(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,s)=>{if(!h.isValidElement(r))return;let a=[...e,s];if(r.type===h.Fragment){n.push.apply(n,jv(r.props.children,a));return}r.type!==$e&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=jv(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function iL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function lL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cL(t,e){return t.button===0&&(!e||e==="_self")&&!lL(t)}function _v(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function dL(t,e){let n=_v(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}const uL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fL="6";try{window.__reactRouterVersion=fL}catch{}const hL="startTransition",iS=Ms[hL];function mL(t){let{basename:e,children:n,future:r,window:s}=t,a=h.useRef();a.current==null&&(a.current=p4({window:s,v5Compat:!0}));let i=a.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},f=h.useCallback(u=>{d&&iS?iS(()=>c(u)):c(u)},[c,d]);return h.useLayoutEffect(()=>i.listen(f),[i,f]),h.useEffect(()=>sL(r),[r]),h.createElement(aL,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const pL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=h.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:d,preventScrollReset:f,viewTransition:u}=e,m=iL(e,uL),{basename:p}=h.useContext(Do),g,x=!1;if(typeof d=="string"&&gL.test(d)&&(g=d,pL))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),_=$w(j.pathname,p);j.origin===b.origin&&_!=null?d=_+j.search+j.hash:x=!0}catch{}let y=W4(d,{relative:s}),v=yL(d,{replace:i,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:u});function w(b){r&&r(b),b.defaultPrevented||v(b)}return h.createElement("a",Sv({},m,{href:g||y,onClick:x||a?r:w,ref:n,target:c}))});var lS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lS||(lS={}));var cS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cS||(cS={}));function yL(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:l}=e===void 0?{}:e,c=Mo(),d=es(),f=ZC(t,{relative:i});return h.useCallback(u=>{if(cL(u,n)){u.preventDefault();let m=r!==void 0?r:Wh(d)===Wh(f);c(t,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[d,c,f,r,s,n,t,a,i,l])}function vL(t){let e=h.useRef(_v(t)),n=h.useRef(!1),r=es(),s=h.useMemo(()=>dL(r.search,n.current?null:e.current),[r.search]),a=Mo(),i=h.useCallback((l,c)=>{const d=_v(typeof l=="function"?l(s):l);n.current=!0,a("?"+d,c)},[a,s]);return[s,i]}const xL=1,wL=1e6;let Sg=0;function bL(){return Sg=(Sg+1)%Number.MAX_SAFE_INTEGER,Sg.toString()}const _g=new Map,dS=t=>{if(_g.has(t))return;const e=setTimeout(()=>{_g.delete(t),bd({type:"REMOVE_TOAST",toastId:t})},wL);_g.set(t,e)},jL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,xL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?dS(n):t.toasts.forEach(r=>{dS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nh=[];let rh={toasts:[]};function bd(t){rh=jL(rh,t),nh.forEach(e=>{e(rh)})}function SL({...t}){const e=bL(),n=s=>bd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>bd({type:"DISMISS_TOAST",toastId:e});return bd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function dt(){const[t,e]=h.useState(rh);return h.useEffect(()=>(nh.push(e),()=>{const n=nh.indexOf(e);n>-1&&nh.splice(n,1)}),[t]),{...t,toast:SL,dismiss:n=>bd({type:"DISMISS_TOAST",toastId:n})}}function ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function uS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Na(...t){return e=>{let n=!1;const r=t.map(s=>{const a=uS(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():uS(t[s],null)}}}}function st(...t){return h.useCallback(Na(...t),t)}function _L(t,e){const n=h.createContext(e),r=a=>{const{children:i,...l}=a,c=h.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(a){const i=h.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,s]}function ts(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,NL(s,...e)]}function NL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Nv=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),a=s.find(kL);if(a){const i=a.props.children,l=s.map(c=>c===a?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return o.jsx(Cv,{...r,ref:e,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return o.jsx(Cv,{...r,ref:e,children:n})});Nv.displayName="Slot";var Cv=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=TL(n),a=EL(r,n.props);return n.type!==h.Fragment&&(a.ref=e?Na(e,s):s),h.cloneElement(n,a)}return h.Children.count(n)>1?h.Children.only(null):null});Cv.displayName="SlotClone";var CL=({children:t})=>o.jsx(o.Fragment,{children:t});function kL(t){return h.isValidElement(t)&&t.type===CL}function EL(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function TL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nu(t){const e=t+"CollectionProvider",[n,r]=ts(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:x}=p,y=D.useRef(null),v=D.useRef(new Map).current;return o.jsx(s,{scope:g,itemMap:v,collectionRef:y,children:x})};i.displayName=e;const l=t+"CollectionSlot",c=D.forwardRef((p,g)=>{const{scope:x,children:y}=p,v=a(l,x),w=st(g,v.collectionRef);return o.jsx(Nv,{ref:w,children:y})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",u=D.forwardRef((p,g)=>{const{scope:x,children:y,...v}=p,w=D.useRef(null),b=st(g,w),j=a(d,x);return D.useEffect(()=>(j.itemMap.set(w,{ref:w,...v}),()=>void j.itemMap.delete(w))),o.jsx(Nv,{[f]:"",ref:b,children:y})});u.displayName=d;function m(p){const g=a(t+"CollectionConsumer",p);return D.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((j,_)=>v.indexOf(j.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:u},m,r]}var tk=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),a=s.find(AL);if(a){const i=a.props.children,l=s.map(c=>c===a?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return o.jsx(kv,{...r,ref:e,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return o.jsx(kv,{...r,ref:e,children:n})});tk.displayName="Slot";var kv=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=ML(n),a=DL(r,n.props);return n.type!==h.Fragment&&(a.ref=e?Na(e,s):s),h.cloneElement(n,a)}return h.Children.count(n)>1?h.Children.only(null):null});kv.displayName="SlotClone";var PL=({children:t})=>o.jsx(o.Fragment,{children:t});function AL(t){return h.isValidElement(t)&&t.type===PL}function DL(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function ML(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var OL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Re=OL.reduce((t,e)=>{const n=h.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?tk:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Bw(t,e){t&&Sa.flushSync(()=>t.dispatchEvent(e))}function mn(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RL(t,e=globalThis==null?void 0:globalThis.document){const n=mn(t);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IL="DismissableLayer",Ev="dismissableLayer.update",$L="dismissableLayer.pointerDownOutside",LL="dismissableLayer.focusOutside",fS,nk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cu=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=t,d=h.useContext(nk),[f,u]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),g=st(e,S=>u(S)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(y),w=f?x.indexOf(f):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=v,_=UL(S=>{const C=S.target,T=[...d.branches].some(k=>k.contains(C));!j||T||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),N=BL(S=>{const C=S.target;[...d.branches].some(k=>k.contains(C))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return RL(S=>{w===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(fS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),hS(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=fS)}},[f,m,n,d]),h.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),hS())},[f,d]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(Ev,S),()=>document.removeEventListener(Ev,S)},[]),o.jsx(Re.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,N.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,_.onPointerDownCapture)})});Cu.displayName=IL;var FL="DismissableLayerBranch",rk=h.forwardRef((t,e)=>{const n=h.useContext(nk),r=h.useRef(null),s=st(e,r);return h.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Re.div,{...t,ref:s})});rk.displayName=FL;function UL(t,e=globalThis==null?void 0:globalThis.document){const n=mn(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){sk($L,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BL(t,e=globalThis==null?void 0:globalThis.document){const n=mn(t),r=h.useRef(!1);return h.useEffect(()=>{const s=a=>{a.target&&!r.current&&sk(LL,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hS(){const t=new CustomEvent(Ev);document.dispatchEvent(t)}function sk(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bw(s,a):s.dispatchEvent(a)}var WL=Cu,zL=rk,on=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},VL="Portal",ku=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,a]=h.useState(!1);on(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?zC.createPortal(o.jsx(Re.div,{...r,ref:e}),i):null});ku.displayName=VL;function HL(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var Os=t=>{const{present:e,children:n}=t,r=YL(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=st(r.ref,GL(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};Os.displayName="Presence";function YL(t){const[e,n]=h.useState(),r=h.useRef({}),s=h.useRef(t),a=h.useRef("none"),i=t?"mounted":"unmounted",[l,c]=HL(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Sf(r.current);a.current=l==="mounted"?d:"none"},[l]),on(()=>{const d=r.current,f=s.current;if(f!==t){const m=a.current,p=Sf(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),on(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,u=p=>{const x=Sf(r.current).includes(p.animationName);if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(a.current=Sf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Sf(t){return(t==null?void 0:t.animationName)||"none"}function GL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ya({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=qL({defaultProp:e,onChange:n}),a=t!==void 0,i=a?t:r,l=mn(n),c=h.useCallback(d=>{if(a){const u=typeof d=="function"?d(t):d;u!==t&&l(u)}else s(d)},[a,t,s,l]);return[i,c]}function qL({defaultProp:t,onChange:e}){const n=h.useState(t),[r]=n,s=h.useRef(r),a=mn(e);return h.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var KL="VisuallyHidden",Bm=h.forwardRef((t,e)=>o.jsx(Re.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Bm.displayName=KL;var Ww="ToastProvider",[zw,ZL,XL]=Nu("Toast"),[ak,cae]=ts("Toast",[XL]),[JL,Wm]=ak(Ww),ok=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=t,[l,c]=h.useState(null),[d,f]=h.useState(0),u=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ww}\`. Expected non-empty \`string\`.`),o.jsx(zw.Provider,{scope:e,children:o.jsx(JL,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>f(p=>p+1),[]),onToastRemove:h.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:i})})};ok.displayName=Ww;var ik="ToastViewport",QL=["F8"],Tv="toast.viewportPause",Pv="toast.viewportResume",lk=h.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=QL,label:s="Notifications ({hotkey})",...a}=t,i=Wm(ik,n),l=ZL(n),c=h.useRef(null),d=h.useRef(null),f=h.useRef(null),u=h.useRef(null),m=st(e,u,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;h.useEffect(()=>{const y=v=>{var b;r.length!==0&&r.every(j=>v[j]||v.code===j)&&((b=u.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),h.useEffect(()=>{const y=c.current,v=u.current;if(g&&y&&v){const w=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Tv);v.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Pv);v.dispatchEvent(N),i.isClosePausedRef.current=!1}},j=N=>{!y.contains(N.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",j),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[g,i.isClosePausedRef]);const x=h.useCallback(({tabbingDirection:y})=>{const w=l().map(b=>{const j=b.ref.current,_=[j,...fF(j)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return h.useEffect(()=>{const y=u.current;if(y){const v=w=>{var _,N,S;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const C=document.activeElement,T=w.shiftKey;if(w.target===y&&T){(_=d.current)==null||_.focus();return}const O=x({tabbingDirection:T?"backwards":"forwards"}),P=O.findIndex(M=>M===C);Ng(O.slice(P+1))?w.preventDefault():T?(N=d.current)==null||N.focus():(S=f.current)==null||S.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,x]),o.jsxs(zL,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(Av,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});Ng(y)}}),o.jsx(zw.Slot,{scope:n,children:o.jsx(Re.ol,{tabIndex:-1,...a,ref:m})}),g&&o.jsx(Av,{ref:f,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});Ng(y)}})]})});lk.displayName=ik;var ck="ToastFocusProxy",Av=h.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,a=Wm(ck,n);return o.jsx(Bm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Av.displayName=ck;var zm="Toast",eF="toast.swipeStart",tF="toast.swipeMove",nF="toast.swipeCancel",rF="toast.swipeEnd",dk=h.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=t,[l=!0,c]=ya({prop:r,defaultProp:s,onChange:a});return o.jsx(Os,{present:n||l,children:o.jsx(oF,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:mn(t.onPause),onResume:mn(t.onResume),onSwipeStart:ae(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,d=>{const{x:f,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ae(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,d=>{const{x:f,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});dk.displayName=zm;var[sF,aF]=ak(zm,{onClose(){}}),oF=h.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:p,...g}=t,x=Wm(zm,n),[y,v]=h.useState(null),w=st(e,M=>v(M)),b=h.useRef(null),j=h.useRef(null),_=s||x.duration,N=h.useRef(0),S=h.useRef(_),C=h.useRef(0),{onToastAdd:T,onToastRemove:k}=x,E=mn(()=>{var L;(y==null?void 0:y.contains(document.activeElement))&&((L=x.viewport)==null||L.focus()),i()}),O=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(E,M))},[E]);h.useEffect(()=>{const M=x.viewport;if(M){const L=()=>{O(S.current),d==null||d()},F=()=>{const z=new Date().getTime()-N.current;S.current=S.current-z,window.clearTimeout(C.current),c==null||c()};return M.addEventListener(Tv,F),M.addEventListener(Pv,L),()=>{M.removeEventListener(Tv,F),M.removeEventListener(Pv,L)}}},[x.viewport,_,c,d,O]),h.useEffect(()=>{a&&!x.isClosePausedRef.current&&O(_)},[a,_,x.isClosePausedRef,O]),h.useEffect(()=>(T(),()=>k()),[T,k]);const P=h.useMemo(()=>y?yk(y):null,[y]);return x.viewport?o.jsxs(o.Fragment,{children:[P&&o.jsx(iF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),o.jsx(sF,{scope:n,onClose:E,children:Sa.createPortal(o.jsx(zw.ItemSlot,{scope:n,children:o.jsx(WL,{asChild:!0,onEscapeKeyDown:ae(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||E(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:ae(t.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:ae(t.onPointerMove,M=>{if(!b.current)return;const L=M.clientX-b.current.x,F=M.clientY-b.current.y,z=!!j.current,R=["left","right"].includes(x.swipeDirection),$=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,V=R?$(0,L):0,Q=R?0:$(0,F),be=M.pointerType==="touch"?10:2,Ge={x:V,y:Q},He={originalEvent:M,delta:Ge};z?(j.current=Ge,_f(tF,u,He,{discrete:!1})):mS(Ge,x.swipeDirection,be)?(j.current=Ge,_f(eF,f,He,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(L)>be||Math.abs(F)>be)&&(b.current=null)}),onPointerUp:ae(t.onPointerUp,M=>{const L=j.current,F=M.target;if(F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),j.current=null,b.current=null,L){const z=M.currentTarget,R={originalEvent:M,delta:L};mS(L,x.swipeDirection,x.swipeThreshold)?_f(rF,p,R,{discrete:!0}):_f(nF,m,R,{discrete:!0}),z.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iF=t=>{const{__scopeToast:e,children:n,...r}=t,s=Wm(zm,e),[a,i]=h.useState(!1),[l,c]=h.useState(!1);return dF(()=>i(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(ku,{asChild:!0,children:o.jsx(Bm,{...r,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},lF="ToastTitle",uk=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});uk.displayName=lF;var cF="ToastDescription",fk=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});fk.displayName=cF;var hk="ToastAction",mk=h.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(gk,{altText:n,asChild:!0,children:o.jsx(Vw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hk}\`. Expected non-empty \`string\`.`),null)});mk.displayName=hk;var pk="ToastClose",Vw=h.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=aF(pk,n);return o.jsx(gk,{asChild:!0,children:o.jsx(Re.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,s.onClose)})})});Vw.displayName=pk;var gk=h.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function yk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),uF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...yk(r))}}),e}function _f(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bw(s,a):s.dispatchEvent(a)}var mS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),a=r>s;return e==="left"||e==="right"?a&&r>n:!a&&s>n};function dF(t=()=>{}){const e=mn(t);on(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function uF(t){return t.nodeType===t.ELEMENT_NODE}function fF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ng(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hF=ok,vk=lk,xk=dk,wk=uk,bk=fk,jk=mk,Sk=Vw;function _k(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=_k(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=_k(t))&&(r&&(r+=" "),r+=e);return r}const pS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gS=Nk,Mi=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,i=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],u=a==null?void 0:a[d];if(f===null)return null;const m=pS(f)||pS(u);return s[d][m]}),l=n&&Object.entries(n).reduce((d,f)=>{let[u,m]=f;return m===void 0||(d[u]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:u,className:m,...p}=f;return Object.entries(p).every(g=>{let[x,y]=g;return Array.isArray(y)?y.includes({...a,...l}[x]):{...a,...l}[x]===y})?[...d,u,m]:d},[]);return gS(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=h.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:c,...d},f)=>h.createElement("svg",{ref:f,...mF,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:["lucide",`lucide-${pF(t)}`,l].join(" "),...d},[...e.map(([u,m])=>h.createElement(u,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Z("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Z("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Z("BookUser",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Z("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=Z("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Z("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=Z("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Z("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Z("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Z("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Z("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=Z("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Z("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Z("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=Z("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Z("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=Z("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Z("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Z("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Z("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Z("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Z("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Z("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Zw="-",UF=t=>{const e=WF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const l=i.split(Zw);return l[0]===""&&l.length!==1&&l.shift(),Rk(l,e)||BF(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Rk=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Rk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(Zw);return(i=e.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},_S=/^\[(.+)\]$/,BF=t=>{if(_S.test(t)){const e=_S.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},WF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return VF(Object.entries(t.classGroups),n).forEach(([a,i])=>{Wv(i,r,a,e)}),r},Wv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:NS(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(zF(s)){Wv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{Wv(i,NS(e,a),n,r)})})},NS=(t,e)=>{let n=t;return e.split(Zw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zF=t=>t.isThemeGetter,VF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[e+i,l])):a);return[n,s]}):t,HF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},Ik="!",YF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],a=e.length,i=l=>{const c=[];let d=0,f=0,u;for(let y=0;y<l.length;y++){let v=l[y];if(d===0){if(v===s&&(r||l.slice(y,y+a)===e)){c.push(l.slice(f,y)),f=y+a;continue}if(v==="/"){u=y;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(f),p=m.startsWith(Ik),g=p?m.substring(1):m,x=u&&u>f?u-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:i}):i},GF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qF=t=>({cache:HF(t.cacheSize),parseClassName:YF(t),...UF(t)}),KF=/\s+/,ZF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],i=t.trim().split(KF);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:f,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let g=!!p,x=r(g?m.substring(0,p):m);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const y=GF(f).join(":"),v=u?y+Ik:y,w=v+x;if(a.includes(w))continue;a.push(w);const b=s(x,g);for(let j=0;j<b.length;++j){const _=b[j];a.push(v+_)}l=d+(l.length>0?" "+l:l)}return l};function XF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$k(e))&&(r&&(r+=" "),r+=n);return r}const $k=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=$k(t[r]))&&(n&&(n+=" "),n+=e);return n};function JF(t,...e){let n,r,s,a=i;function i(c){const d=e.reduce((f,u)=>u(f),t());return n=qF(d),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=ZF(c,n);return s(c,f),f}return function(){return a(XF.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Lk=/^\[(?:([a-z-]+):)?(.+)\]$/i,QF=/^\d+\/\d+$/,e3=new Set(["px","full","screen"]),t3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=t=>Al(t)||e3.has(t)||QF.test(t),$a=t=>mc(t,"length",h3),Al=t=>!!t&&!Number.isNaN(Number(t)),kg=t=>mc(t,"number",Al),Wc=t=>!!t&&Number.isInteger(Number(t)),o3=t=>t.endsWith("%")&&Al(t.slice(0,-1)),Ve=t=>Lk.test(t),La=t=>t3.test(t),i3=new Set(["length","size","percentage"]),l3=t=>mc(t,i3,Fk),c3=t=>mc(t,"position",Fk),d3=new Set(["image","url"]),u3=t=>mc(t,d3,p3),f3=t=>mc(t,"",m3),zc=()=>!0,mc=(t,e,n)=>{const r=Lk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},h3=t=>n3.test(t)&&!r3.test(t),Fk=()=>!1,m3=t=>s3.test(t),p3=t=>a3.test(t),g3=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),r=xt("brightness"),s=xt("borderColor"),a=xt("borderRadius"),i=xt("borderSpacing"),l=xt("borderWidth"),c=xt("contrast"),d=xt("grayscale"),f=xt("hueRotate"),u=xt("invert"),m=xt("gap"),p=xt("gradientColorStops"),g=xt("gradientColorStopPositions"),x=xt("inset"),y=xt("margin"),v=xt("opacity"),w=xt("padding"),b=xt("saturate"),j=xt("scale"),_=xt("sepia"),N=xt("skew"),S=xt("space"),C=xt("translate"),T=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Ve,e],O=()=>[Ve,e],P=()=>["",Ks,$a],M=()=>["auto",Al,Ve],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ve],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Al,Ve];return{cacheSize:500,separator:":",theme:{colors:[zc],spacing:[Ks,$a],blur:["none","",La,Ve],brightness:Q(),borderColor:[t],borderRadius:["none","","full",La,Ve],borderSpacing:O(),borderWidth:P(),contrast:Q(),grayscale:$(),hueRotate:Q(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[o3,$a],inset:E(),margin:E(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:$(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[La]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ve]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wc,Ve]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Wc,Ve]}],"grid-cols":[{"grid-cols":[zc]}],"col-start-end":[{col:["auto",{span:["full",Wc,Ve]},Ve]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[zc]}],"row-start-end":[{row:["auto",{span:[Wc,Ve]},Ve]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[La]},La]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",La,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kg]}],"font-family":[{font:[zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Al,kg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,$a]}],"underline-offset":[{"underline-offset":["auto",Ks,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),c3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Ks,Ve]}],"outline-w":[{outline:[Ks,$a]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ks,$a]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",La,f3]}],"shadow-color":[{shadow:[zc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",La,Ve]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Wc,Ve]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ks,$a,kg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y3=JF(g3);function U(...t){return y3(Nk(t))}const v3=hF,Uk=h.forwardRef(({className:t,...e},n)=>o.jsx(vk,{ref:n,className:U("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Uk.displayName=vk.displayName;const x3=Mi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bk=h.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(xk,{ref:r,className:U(x3({variant:e}),t),...n}));Bk.displayName=xk.displayName;const w3=h.forwardRef(({className:t,...e},n)=>o.jsx(jk,{ref:n,className:U("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));w3.displayName=jk.displayName;const Wk=h.forwardRef(({className:t,...e},n)=>o.jsx(Sk,{ref:n,className:U("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(hc,{className:"h-4 w-4"})}));Wk.displayName=Sk.displayName;const zk=h.forwardRef(({className:t,...e},n)=>o.jsx(wk,{ref:n,className:U("text-sm font-semibold",t),...e}));zk.displayName=wk.displayName;const Vk=h.forwardRef(({className:t,...e},n)=>o.jsx(bk,{ref:n,className:U("text-sm opacity-90",t),...e}));Vk.displayName=bk.displayName;function b3(){const{toasts:t}=dt();return o.jsxs(v3,{children:[t.map(function({id:e,title:n,description:r,action:s,...a}){return o.jsxs(Bk,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(zk,{children:n}),r&&o.jsx(Vk,{children:r})]}),s,o.jsx(Wk,{})]},e)}),o.jsx(Uk,{})]})}function CS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function j3(...t){return e=>{let n=!1;const r=t.map(s=>{const a=CS(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():CS(t[s],null)}}}}function Tr(t){const e=S3(t),n=h.forwardRef((r,s)=>{const{children:a,...i}=r,l=h.Children.toArray(a),c=l.find(N3);if(c){const d=c.props.children,f=l.map(u=>u===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:u);return o.jsx(e,{...i,ref:s,children:h.isValidElement(d)?h.cloneElement(d,void 0,f):null})}return o.jsx(e,{...i,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var Oi=Tr("Slot");function S3(t){const e=h.forwardRef((n,r)=>{const{children:s,...a}=n;if(h.isValidElement(s)){const i=k3(s),l=C3(a,s.props);return s.type!==h.Fragment&&(l.ref=r?j3(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Hk=Symbol("radix.slottable");function _3(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Hk,e}function N3(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Hk}function C3(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function k3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Zd=Mi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-red-50 hover:text-red-900 hover:border-red-300",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-red-50 hover:text-red-900",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=h.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},a)=>{const i=r?Oi:"button";return o.jsx(i,{className:U(Zd({variant:e,size:n,className:t})),ref:a,...s})});W.displayName="Button";var E3=Ms.useId||(()=>{}),T3=0;function Hr(t){const[e,n]=h.useState(E3());return on(()=>{n(r=>r??String(T3++))},[t]),e?`radix-${e}`:""}var Eg="focusScope.autoFocusOnMount",Tg="focusScope.autoFocusOnUnmount",kS={bubbles:!1,cancelable:!0},P3="FocusScope",qm=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=t,[l,c]=h.useState(null),d=mn(s),f=mn(a),u=h.useRef(null),m=st(e,x=>c(x)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?u.current=j:za(u.current,{select:!0})},y=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||za(u.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&za(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){TS.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(Eg,kS);l.addEventListener(Eg,d),l.dispatchEvent(v),v.defaultPrevented||(A3(I3(Yk(l)),{select:!0}),document.activeElement===x&&za(l))}return()=>{l.removeEventListener(Eg,d),setTimeout(()=>{const v=new CustomEvent(Tg,kS);l.addEventListener(Tg,f),l.dispatchEvent(v),v.defaultPrevented||za(x??document.body,{select:!0}),l.removeEventListener(Tg,f),TS.remove(p)},0)}}},[l,d,f,p]);const g=h.useCallback(x=>{if(!n&&!r||p.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(y&&v){const w=x.currentTarget,[b,j]=D3(w);b&&j?!x.shiftKey&&v===j?(x.preventDefault(),n&&za(b,{select:!0})):x.shiftKey&&v===b&&(x.preventDefault(),n&&za(j,{select:!0})):v===w&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(Re.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});qm.displayName=P3;function A3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(za(r,{select:e}),document.activeElement!==n)return}function D3(t){const e=Yk(t),n=ES(e,t),r=ES(e.reverse(),t);return[n,r]}function Yk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ES(t,e){for(const n of t)if(!M3(n,{upTo:e}))return n}function M3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O3(t){return t instanceof HTMLInputElement&&"select"in t}function za(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O3(t)&&e&&t.select()}}var TS=R3();function R3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=PS(t,e),t.unshift(e)},remove(e){var n;t=PS(t,e),(n=t[0])==null||n.resume()}}}function PS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function I3(t){return t.filter(e=>e.tagName!=="A")}var Pg=0;function Xw(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AS()),document.body.insertAdjacentElement("beforeend",t[1]??AS()),Pg++,()=>{Pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pg--}},[])}function AS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fs=function(){return fs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fs.apply(this,arguments)};function Gk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var oh="right-scroll-bar-position",ih="width-before-scroll-bar",L3="with-scroll-bars-hidden",F3="--removed-body-scroll-bar-size";function Ag(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function U3(t,e){var n=h.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var B3=typeof window<"u"?h.useLayoutEffect:h.useEffect,DS=new WeakMap;function W3(t,e){var n=U3(null,function(r){return t.forEach(function(s){return Ag(s,r)})});return B3(function(){var r=DS.get(n);if(r){var s=new Set(r),a=new Set(t),i=n.current;s.forEach(function(l){a.has(l)||Ag(l,null)}),a.forEach(function(l){s.has(l)||Ag(l,i)})}DS.set(n,t)},[t]),n}function z3(t){return t}function V3(t,e){e===void 0&&(e=z3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var i=e(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var f=i;i=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){i.push(f),d()},filter:function(f){return i=i.filter(f),n}}}};return s}function H3(t){t===void 0&&(t={});var e=V3(null);return e.options=fs({async:!0,ssr:!1},t),e}var qk=function(t){var e=t.sideCar,n=Gk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,fs({},n))};qk.isSideCarExport=!0;function Y3(t,e){return t.useMedium(e),qk}var Kk=H3(),Dg=function(){},Km=h.forwardRef(function(t,e){var n=h.useRef(null),r=h.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),s=r[0],a=r[1],i=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,u=t.shards,m=t.sideCar,p=t.noIsolation,g=t.inert,x=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,w=t.gapMode,b=Gk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,_=W3([n,e]),N=fs(fs({},b),s);return h.createElement(h.Fragment,null,f&&h.createElement(j,{sideCar:Kk,removeScrollBar:d,shards:u,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?h.cloneElement(h.Children.only(l),fs(fs({},N),{ref:_})):h.createElement(v,fs({},N,{className:c,ref:_}),l))});Km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Km.classNames={fullWidth:ih,zeroRight:oh};var G3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function q3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=G3();return e&&t.setAttribute("nonce",e),t}function K3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Z3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var X3=function(){var t=0,e=null;return{add:function(n){t==0&&(e=q3())&&(K3(e,n),Z3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},J3=function(){var t=X3();return function(e,n){h.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Zk=function(){var t=J3(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Q3={left:0,top:0,right:0,gap:0},Mg=function(t){return parseInt(t||"",10)||0},eU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Mg(n),Mg(r),Mg(s)]},tU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Q3;var e=eU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},nU=Zk(),Dl="data-scroll-locked",rU=function(t,e,n,r){var s=t.left,a=t.top,i=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(L3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Dl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ih,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(oh," .").concat(oh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Dl,`] {
    `).concat(F3,": ").concat(l,`px;
  }
`)},MS=function(){var t=parseInt(document.body.getAttribute(Dl)||"0",10);return isFinite(t)?t:0},sU=function(){h.useEffect(function(){return document.body.setAttribute(Dl,(MS()+1).toString()),function(){var t=MS()-1;t<=0?document.body.removeAttribute(Dl):document.body.setAttribute(Dl,t.toString())}},[])},aU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;sU();var a=h.useMemo(function(){return tU(s)},[s]);return h.createElement(nU,{styles:rU(a,!e,s,n?"":"!important")})},zv=!1;if(typeof window<"u")try{var Nf=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{zv=!1}var Gi=zv?{passive:!1}:!1,oU=function(t){return t.tagName==="TEXTAREA"},Xk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!oU(t)&&n[e]==="visible")},iU=function(t){return Xk(t,"overflowY")},lU=function(t){return Xk(t,"overflowX")},OS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Jk(t,r);if(s){var a=Qk(t,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Jk=function(t,e){return t==="v"?iU(e):lU(e)},Qk=function(t,e){return t==="v"?cU(e):dU(e)},uU=function(t,e){return t==="h"&&e==="rtl"?-1:1},fU=function(t,e,n,r,s){var a=uU(t,window.getComputedStyle(e).direction),i=a*r,l=n.target,c=e.contains(l),d=!1,f=i>0,u=0,m=0;do{var p=Qk(t,l),g=p[0],x=p[1],y=p[2],v=x-y-a*g;(g||v)&&Jk(t,l)&&(u+=v,m+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(u)<1||!f&&Math.abs(m)<1)&&(d=!0),d},Cf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RS=function(t){return[t.deltaX,t.deltaY]},IS=function(t){return t&&"current"in t?t.current:t},hU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pU=0,qi=[];function gU(t){var e=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(pU++)[0],a=h.useState(Zk)[0],i=h.useRef(t);h.useEffect(function(){i.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=$3([t.lockRef.current],(t.shards||[]).map(IS),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=h.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=Cf(x),w=n.current,b="deltaX"in x?x.deltaX:w[0]-v[0],j="deltaY"in x?x.deltaY:w[1]-v[1],_,N=x.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&S==="h"&&N.type==="range")return!1;var C=OS(S,N);if(!C)return!0;if(C?_=S:(_=S==="v"?"h":"v",C=OS(S,N)),!C)return!1;if(!r.current&&"changedTouches"in x&&(b||j)&&(r.current=_),!_)return!0;var T=r.current||_;return fU(T,y,x,T==="h"?b:j)},[]),c=h.useCallback(function(x){var y=x;if(!(!qi.length||qi[qi.length-1]!==a)){var v="deltaY"in y?RS(y):Cf(y),w=e.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&hU(_.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(IS).filter(Boolean).filter(function(_){return _.contains(y.target)}),j=b.length>0?l(y,b[0]):!i.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),d=h.useCallback(function(x,y,v,w){var b={name:x,delta:y,target:v,should:w,shadowParent:yU(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),f=h.useCallback(function(x){n.current=Cf(x),r.current=void 0},[]),u=h.useCallback(function(x){d(x.type,RS(x),x.target,l(x,t.lockRef.current))},[]),m=h.useCallback(function(x){d(x.type,Cf(x),x.target,l(x,t.lockRef.current))},[]);h.useEffect(function(){return qi.push(a),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Gi),document.addEventListener("touchmove",c,Gi),document.addEventListener("touchstart",f,Gi),function(){qi=qi.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Gi),document.removeEventListener("touchmove",c,Gi),document.removeEventListener("touchstart",f,Gi)}},[]);var p=t.removeScrollBar,g=t.inert;return h.createElement(h.Fragment,null,g?h.createElement(a,{styles:mU(s)}):null,p?h.createElement(aU,{gapMode:t.gapMode}):null)}function yU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vU=Y3(Kk,gU);var Tu=h.forwardRef(function(t,e){return h.createElement(Km,fs({},t,{ref:e,sideCar:vU}))});Tu.classNames=Km.classNames;var xU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ki=new WeakMap,kf=new WeakMap,Ef={},Og=0,eE=function(t){return t&&(t.host||eE(t.parentNode))},wU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bU=function(t,e,n,r){var s=wU(e,Array.isArray(t)?t:[t]);Ef[n]||(Ef[n]=new WeakMap);var a=Ef[n],i=[],l=new Set,c=new Set(s),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};s.forEach(d);var f=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",x=(Ki.get(m)||0)+1,y=(a.get(m)||0)+1;Ki.set(m,x),a.set(m,y),i.push(m),x===1&&g&&kf.set(m,!0),y===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return f(e),l.clear(),Og++,function(){i.forEach(function(u){var m=Ki.get(u)-1,p=a.get(u)-1;Ki.set(u,m),a.set(u,p),m||(kf.has(u)||u.removeAttribute(r),kf.delete(u)),p||u.removeAttribute(n)}),Og--,Og||(Ki=new WeakMap,Ki=new WeakMap,kf=new WeakMap,Ef={})}},Zm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=xU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),bU(r,s,n,"aria-hidden")):function(){return null}},tE=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),a=s.find(SU);if(a){const i=a.props.children,l=s.map(c=>c===a?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return o.jsx(Vv,{...r,ref:e,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return o.jsx(Vv,{...r,ref:e,children:n})});tE.displayName="Slot";var Vv=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=NU(n),a=_U(r,n.props);return n.type!==h.Fragment&&(a.ref=e?Na(e,s):s),h.cloneElement(n,a)}return h.Children.count(n)>1?h.Children.only(null):null});Vv.displayName="SlotClone";var jU=({children:t})=>o.jsx(o.Fragment,{children:t});function SU(t){return h.isValidElement(t)&&t.type===jU}function _U(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function NU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jw="Dialog",[nE,rE]=ts(Jw),[CU,rs]=nE(Jw),sE=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=t,l=h.useRef(null),c=h.useRef(null),[d=!1,f]=ya({prop:r,defaultProp:s,onChange:a});return o.jsx(CU,{scope:e,triggerRef:l,contentRef:c,contentId:Hr(),titleId:Hr(),descriptionId:Hr(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(u=>!u),[f]),modal:i,children:n})};sE.displayName=Jw;var aE="DialogTrigger",oE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(aE,n),a=st(e,s.triggerRef);return o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tb(s.open),...r,ref:a,onClick:ae(t.onClick,s.onOpenToggle)})});oE.displayName=aE;var Qw="DialogPortal",[kU,iE]=nE(Qw,{forceMount:void 0}),lE=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,a=rs(Qw,e);return o.jsx(kU,{scope:e,forceMount:n,children:h.Children.map(r,i=>o.jsx(Os,{present:n||a.open,children:o.jsx(ku,{asChild:!0,container:s,children:i})}))})};lE.displayName=Qw;var zh="DialogOverlay",cE=h.forwardRef((t,e)=>{const n=iE(zh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=rs(zh,t.__scopeDialog);return a.modal?o.jsx(Os,{present:r||a.open,children:o.jsx(EU,{...s,ref:e})}):null});cE.displayName=zh;var EU=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(zh,n);return o.jsx(Tu,{as:tE,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Re.div,{"data-state":tb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xi="DialogContent",dE=h.forwardRef((t,e)=>{const n=iE(xi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,a=rs(xi,t.__scopeDialog);return o.jsx(Os,{present:r||a.open,children:a.modal?o.jsx(TU,{...s,ref:e}):o.jsx(PU,{...s,ref:e})})});dE.displayName=xi;var TU=h.forwardRef((t,e)=>{const n=rs(xi,t.__scopeDialog),r=h.useRef(null),s=st(e,n.contentRef,r);return h.useEffect(()=>{const a=r.current;if(a)return Zm(a)},[]),o.jsx(uE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:ae(t.onFocusOutside,a=>a.preventDefault())})}),PU=h.forwardRef((t,e)=>{const n=rs(xi,t.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return o.jsx(uE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),uE=h.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=t,l=rs(xi,n),c=h.useRef(null),d=st(e,c);return Xw(),o.jsxs(o.Fragment,{children:[o.jsx(qm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Cu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tb(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(DU,{titleId:l.titleId}),o.jsx(OU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eb="DialogTitle",fE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(eb,n);return o.jsx(Re.h2,{id:s.titleId,...r,ref:e})});fE.displayName=eb;var hE="DialogDescription",mE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(hE,n);return o.jsx(Re.p,{id:s.descriptionId,...r,ref:e})});mE.displayName=hE;var pE="DialogClose",gE=h.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(pE,n);return o.jsx(Re.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,()=>s.onOpenChange(!1))})});gE.displayName=pE;function tb(t){return t?"open":"closed"}var yE="DialogTitleWarning",[AU,vE]=_L(yE,{contentName:xi,titleName:eb,docsSlug:"dialog"}),DU=({titleId:t})=>{const e=vE(yE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},MU="DialogDescriptionWarning",OU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vE(MU).contentName}}.`;return h.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Xm=sE,Jm=oE,Qm=lE,pc=cE,gc=dE,yc=fE,vc=mE,Pu=gE;const nb=Xm,xE=Jm,zo=Pu,RU=Qm,wE=h.forwardRef(({className:t,...e},n)=>o.jsx(pc,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));wE.displayName=pc.displayName;const IU=Mi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ep=h.forwardRef(({side:t="right",className:e,children:n,closeIcon:r=!0,...s},a)=>o.jsxs(RU,{children:[o.jsx(wE,{}),o.jsxs(gc,{ref:a,className:U(IU({side:t}),e),...s,children:[n,r&&o.jsxs(Pu,{className:"absolute right-4 top-4 rounded-md p-1 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary hover:bg-destructive/10",children:[o.jsx(hc,{className:"h-5 w-5 text-muted-foreground group-hover:text-destructive"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ep.displayName=gc.displayName;const bE=({className:t,...e})=>o.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",t),...e});bE.displayName="SheetHeader";const rb=h.forwardRef(({className:t,...e},n)=>o.jsx(yc,{ref:n,className:U("text-lg font-semibold text-foreground",t),...e}));rb.displayName=yc.displayName;const $U=h.forwardRef(({className:t,...e},n)=>o.jsx(vc,{ref:n,className:U("text-sm text-muted-foreground",t),...e}));$U.displayName=vc.displayName;const jE=h.createContext(void 0),LU=({children:t})=>{const[e,n]=h.useState("en"),r=()=>{n(s=>s==="en"?"cy":"en")};return o.jsx(jE.Provider,{value:{language:e,setLanguage:n,toggleLanguage:r},children:t})},Ce=()=>{const t=h.useContext(jE);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},SE=h.createContext(void 0);function $S(){const t=localStorage.getItem("isAuthenticated")==="true",e=localStorage.getItem("userRole"),n=localStorage.getItem("userEmail");return{isAuthenticated:t,userRole:e,userEmail:n}}function FU({children:t}){const[{isAuthenticated:e,userRole:n,userEmail:r},s]=h.useState($S()),a=()=>s($S()),i=({role:d,email:f})=>{localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userRole",d),f&&localStorage.setItem("userEmail",f),a(),window.dispatchEvent(new Event("auth:refresh"))},l=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole"),a(),window.dispatchEvent(new Event("auth:refresh"))};h.useEffect(()=>{a();const d=p=>{(p.key==="isAuthenticated"||p.key==="userRole"||p.key==="userEmail"||p.key===null)&&a()},f=()=>a(),u=()=>{document.visibilityState==="visible"&&a()},m=()=>a();return window.addEventListener("storage",d),window.addEventListener("focus",f),document.addEventListener("visibilitychange",u),window.addEventListener("auth:refresh",m),()=>{window.removeEventListener("storage",d),window.removeEventListener("focus",f),document.removeEventListener("visibilitychange",u),window.removeEventListener("auth:refresh",m)}},[]);const c=h.useMemo(()=>({isAuthenticated:e,userRole:n??null,userEmail:r??null,login:i,logout:l,refresh:a}),[e,n,r]);return o.jsx(SE.Provider,{value:c,children:t})}function xc(){const t=h.useContext(SE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const UU={en:{nav:[{href:"/",label:"Home",icon:xS},{href:"/about",label:"About",icon:$v},{href:"/news",label:"News",icon:Gd},{href:"/admissions",label:"Admissions",icon:qd},{href:"/curriculum",label:"Curriculum",icon:yS},{href:"/contact",label:"Contact",icon:ks}],kidsCorner:{href:"/kids-corner",label:"Kids' Corner",icon:Rv},portal:"Parent Portal",staffLogin:"Staff Login",dashboard:"Return to Dashboard",logout:"Log out",lang1:"Cymraeg",lang2:"English",menu:"Menu"},cy:{nav:[{href:"/",label:"Hafan",icon:xS},{href:"/about",label:"Amdanom Ni",icon:$v},{href:"/news",label:"Newyddion",icon:Gd},{href:"/admissions",label:"Derbyniadau",icon:qd},{href:"/curriculum",label:"Cwricwlwm",icon:yS},{href:"/contact",label:"Cysylltu",icon:ks}],kidsCorner:{href:"/kids-corner",label:"Cornel y Plant",icon:Rv},portal:"Porth Rieni",staffLogin:"Mewngofnodi Staff",dashboard:"Yn l i'r Dangosfwrdd",logout:"Allgofnodi",lang1:"Cymraeg",lang2:"English",menu:"Bwydlen"}};function BU(){const{language:t,setLanguage:e}=Ce(),{isAuthenticated:n,userRole:r}=xc(),s=UU[t],a=s.nav,i=l=>{switch(l){case"admin":return"/admin/dashboard";case"teacher":return"/teacher/dashboard";default:return"/dashboard"}};return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsxs("div",{className:"container flex h-20 max-w-7xl items-center justify-between px-8",children:[o.jsx("div",{className:"flex items-center gap-x-8",children:o.jsx(ie,{to:"/",className:"flex items-center gap-2 font-bold shrink-0",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o.jsx("img",{src:"/logo-header.png",alt:"Maes Y Morfa logo",className:"h-14 w-auto max-h-14"})})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"hidden sm:flex items-center gap-1 border rounded-full p-1 text-sm bg-background",children:[o.jsx(W,{variant:t==="cy"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="cy"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("cy"),children:s.lang1}),o.jsx("div",{className:"w-px h-4 bg-border"}),o.jsx(W,{variant:t==="en"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="en"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("en"),children:s.lang2})]}),o.jsxs(nb,{children:[o.jsx(xE,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:"px-2 lg:px-4",children:[o.jsx(Lv,{className:"h-5 w-5 lg:hidden"}),o.jsxs("span",{className:"hidden lg:flex items-center",children:[o.jsx(Lv,{className:"h-5 w-5 mr-2"}),s.menu]})]})}),o.jsx(ep,{side:"right",className:"w-[22rem] bg-background p-0 text-foreground",closeIcon:!1,children:o.jsxs("div",{className:"flex h-full flex-col",children:[o.jsxs("div",{className:"flex h-20 items-center justify-between border-b border-border/40 px-6",children:[o.jsx(ie,{to:"/",className:"flex items-center gap-3",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o.jsx("img",{src:"/logo-header.png",alt:"Maes Y Morfa logo",className:"h-14 w-auto max-h-14"})}),o.jsx(zo,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[o.jsx(hc,{className:"h-5 w-5 text-muted-foreground"}),o.jsx("span",{className:"sr-only",children:"Close"})]})})]}),o.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-6",children:[o.jsx(rb,{className:"sr-only",children:"Navigation Menu"}),a.map(l=>{const c=l.icon;return o.jsx(zo,{asChild:!0,children:o.jsxs(ie,{to:l.href,className:"flex items-center gap-4 rounded-lg p-3 text-lg font-medium text-foreground/80 transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(c,{className:"h-6 w-6 text-primary"}),o.jsx("span",{children:l.label})]})},l.href)})]}),o.jsxs("div",{className:"space-y-2 border-t border-border/40 p-6",children:[o.jsx(zo,{asChild:!0,children:o.jsx(W,{asChild:!0,className:"w-full text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:o.jsxs(ie,{to:s.kidsCorner.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(s.kidsCorner.icon,{className:"mr-2 h-4 w-4"}),s.kidsCorner.label]})})}),n?o.jsxs(o.Fragment,{children:[o.jsx(zo,{asChild:!0,children:o.jsx(W,{asChild:!0,className:"w-full",children:o.jsxs(ie,{to:i(r),onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(Ym,{className:"mr-2 h-4 w-4"})," ",s.dashboard]})})}),o.jsx(zo,{asChild:!0,children:o.jsx(W,{asChild:!0,variant:"destructive",className:"w-full",children:o.jsxs(ie,{to:"/logout",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(vi,{className:"mr-2 h-4 w-4"})," ",s.logout]})})})]}):o.jsx(zo,{asChild:!0,children:o.jsx(W,{asChild:!0,className:"w-full",children:o.jsx(ie,{to:"/login",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:s.portal})})}),o.jsx(zo,{asChild:!0,children:o.jsx(W,{asChild:!0,variant:"outline",className:"w-full",children:o.jsx(ie,{to:"/staff/login",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:s.staffLogin})})})]})]})})]})]})]})})}var Au=t=>t.type==="checkbox",si=t=>t instanceof Date,_n=t=>t==null;const _E=t=>typeof t=="object";var Ut=t=>!_n(t)&&!Array.isArray(t)&&_E(t)&&!si(t),NE=t=>Ut(t)&&t.target?Au(t.target)?t.target.checked:t.target.value:t,WU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,CE=(t,e)=>t.has(WU(e)),zU=t=>{const e=t.constructor&&t.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},sb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(sb&&(t instanceof Blob||r))&&(n||Ut(t)))if(e=n?[]:{},!n&&!zU(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Gt(t[s]));else return t;return e}var Du=t=>Array.isArray(t)?t.filter(Boolean):[],bt=t=>t===void 0,K=(t,e,n)=>{if(!e||!Ut(t))return n;const r=Du(e.split(/[,[\].]+?/)).reduce((s,a)=>_n(s)?s:s[a],t);return bt(r)||r===t?bt(t[e])?n:t[e]:r},pr=t=>typeof t=="boolean",ab=t=>/^\w*$/.test(t),kE=t=>Du(t.replace(/["|']|\]/g,"").split(/\.|\[/)),at=(t,e,n)=>{let r=-1;const s=ab(e)?[e]:kE(e),a=s.length,i=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==i){const d=t[l];c=Ut(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Vh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},EE=D.createContext(null),Mu=()=>D.useContext(EE),VU=t=>{const{children:e,...n}=t;return D.createElement(EE.Provider,{value:n},e)};var TE=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const i=a;return e._proxyFormState[i]!==vr.all&&(e._proxyFormState[i]=!r||vr.all),n&&(n[i]=!0),t[i]}});return s},jn=t=>Ut(t)&&!Object.keys(t).length,PE=(t,e,n,r)=>{n(t);const{name:s,...a}=t;return jn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(i=>e[i]===(!r||vr.all))},Fn=t=>Array.isArray(t)?t:[t],AE=(t,e,n)=>!t||!e||t===e||Fn(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function tp(t){const e=D.useRef(t);e.current=t,D.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function HU(t){const e=Mu(),{control:n=e.control,disabled:r,name:s,exact:a}=t||{},[i,l]=D.useState(n._formState),c=D.useRef(!0),d=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=D.useRef(s);return f.current=s,tp({disabled:r,next:u=>c.current&&AE(f.current,u.name,a)&&PE(u,d.current,n._updateFormState)&&l({...n._formState,...u}),subject:n._subjects.state}),D.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),D.useMemo(()=>TE(i,n,d.current,!1),[i,n])}var gs=t=>typeof t=="string",DE=(t,e,n,r,s)=>gs(t)?(r&&e.watch.add(t),K(n,t,s)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),K(n,a))):(r&&(e.watchAll=!0),n);function YU(t){const e=Mu(),{control:n=e.control,name:r,defaultValue:s,disabled:a,exact:i}=t||{},l=D.useRef(r);l.current=r,tp({disabled:a,subject:n._subjects.values,next:f=>{AE(l.current,f.name,i)&&d(Gt(DE(l.current,n._names,f.values||n._formValues,!1,s)))}});const[c,d]=D.useState(n._getWatch(r,s));return D.useEffect(()=>n._removeUnmounted()),c}function GU(t){const e=Mu(),{name:n,disabled:r,control:s=e.control,shouldUnregister:a}=t,i=CE(s._names.array,n),l=YU({control:s,name:n,defaultValue:K(s._formValues,n,K(s._defaultValues,n,t.defaultValue)),exact:!0}),c=HU({control:s,name:n,exact:!0}),d=D.useRef(s.register(n,{...t.rules,value:l,...pr(t.disabled)?{disabled:t.disabled}:{}})),f=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!K(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!K(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!K(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!K(c.validatingFields,n)},error:{enumerable:!0,get:()=>K(c.errors,n)}}),[c,n]),u=D.useMemo(()=>({name:n,value:l,...pr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m=>d.current.onChange({target:{value:NE(m),name:n},type:Vh.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:K(s._formValues,n),name:n},type:Vh.BLUR}),ref:m=>{const p=K(s._fields,n);p&&m&&(p._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:g=>m.setCustomValidity(g),reportValidity:()=>m.reportValidity()})}}),[n,s._formValues,r,c.disabled,l,s._fields]);return D.useEffect(()=>{const m=s._options.shouldUnregister||a,p=(g,x)=>{const y=K(s._fields,g);y&&y._f&&(y._f.mount=x)};if(p(n,!0),m){const g=Gt(K(s._options.defaultValues,n));at(s._defaultValues,n,g),bt(K(s._formValues,n))&&at(s._formValues,n,g)}return!i&&s.register(n),()=>{(i?m&&!s._state.action:m)?s.unregister(n):p(n,!1)}},[n,s,i,a]),D.useEffect(()=>{s._updateDisabledField({disabled:r,fields:s._fields,name:n})},[r,n,s]),D.useMemo(()=>({field:u,formState:c,fieldState:f}),[u,c,f])}const qU=t=>t.render(GU(t));var ME=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Fa=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Rg=(t,e,n={})=>n.shouldFocus||bt(n.shouldFocus)?n.focusName||`${t}.${bt(n.focusIndex)?e:n.focusIndex}.`:"",jd=t=>({isOnSubmit:!t||t===vr.onSubmit,isOnBlur:t===vr.onBlur,isOnChange:t===vr.onChange,isOnAll:t===vr.all,isOnTouch:t===vr.onTouched}),Hv=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ml=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const a=K(t,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],s)&&!r)return!0;if(i.ref&&e(i.ref,i.name)&&!r)return!0;if(Ml(l,e))break}else if(Ut(l)&&Ml(l,e))break}}};var OE=(t,e,n)=>{const r=Fn(K(t,n));return at(r,"root",e[n]),at(t,n,r),t},ob=t=>t.type==="file",hs=t=>typeof t=="function",Hh=t=>{if(!sb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},lh=t=>gs(t),ib=t=>t.type==="radio",Yh=t=>t instanceof RegExp;const LS={value:!1,isValid:!1},FS={value:!0,isValid:!0};var RE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bt(t[0].attributes.value)?bt(t[0].value)||t[0].value===""?FS:{value:t[0].value,isValid:!0}:FS:LS}return LS};const US={isValid:!1,value:null};var IE=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,US):US;function BS(t,e,n="validate"){if(lh(t)||Array.isArray(t)&&t.every(lh)||pr(t)&&!t)return{type:n,message:lh(t)?t:"",ref:e}}var Zi=t=>Ut(t)&&!Yh(t)?t:{value:t,message:""},Yv=async(t,e,n,r,s,a)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:f,min:u,max:m,pattern:p,validate:g,name:x,valueAsNumber:y,mount:v}=t._f,w=K(n,x);if(!v||e.has(x))return{};const b=l?l[0]:i,j=O=>{s&&b.reportValidity&&(b.setCustomValidity(pr(O)?"":O||""),b.reportValidity())},_={},N=ib(i),S=Au(i),C=N||S,T=(y||ob(i))&&bt(i.value)&&bt(w)||Hh(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,k=ME.bind(null,x,r,_),E=(O,P,M,L=Zs.maxLength,F=Zs.minLength)=>{const z=O?P:M;_[x]={type:O?L:F,message:z,ref:i,...k(O?L:F,z)}};if(a?!Array.isArray(w)||!w.length:c&&(!C&&(T||_n(w))||pr(w)&&!w||S&&!RE(l).isValid||N&&!IE(l).isValid)){const{value:O,message:P}=lh(c)?{value:!!c,message:c}:Zi(c);if(O&&(_[x]={type:Zs.required,message:P,ref:b,...k(Zs.required,P)},!r))return j(P),_}if(!T&&(!_n(u)||!_n(m))){let O,P;const M=Zi(m),L=Zi(u);if(!_n(w)&&!isNaN(w)){const F=i.valueAsNumber||w&&+w;_n(M.value)||(O=F>M.value),_n(L.value)||(P=F<L.value)}else{const F=i.valueAsDate||new Date(w),z=V=>new Date(new Date().toDateString()+" "+V),R=i.type=="time",$=i.type=="week";gs(M.value)&&w&&(O=R?z(w)>z(M.value):$?w>M.value:F>new Date(M.value)),gs(L.value)&&w&&(P=R?z(w)<z(L.value):$?w<L.value:F<new Date(L.value))}if((O||P)&&(E(!!O,M.message,L.message,Zs.max,Zs.min),!r))return j(_[x].message),_}if((d||f)&&!T&&(gs(w)||a&&Array.isArray(w))){const O=Zi(d),P=Zi(f),M=!_n(O.value)&&w.length>+O.value,L=!_n(P.value)&&w.length<+P.value;if((M||L)&&(E(M,O.message,P.message),!r))return j(_[x].message),_}if(p&&!T&&gs(w)){const{value:O,message:P}=Zi(p);if(Yh(O)&&!w.match(O)&&(_[x]={type:Zs.pattern,message:P,ref:i,...k(Zs.pattern,P)},!r))return j(P),_}if(g){if(hs(g)){const O=await g(w,n),P=BS(O,b);if(P&&(_[x]={...P,...k(Zs.validate,P.message)},!r))return j(P.message),_}else if(Ut(g)){let O={};for(const P in g){if(!jn(O)&&!r)break;const M=BS(await g[P](w,n),b,P);M&&(O={...M,...k(P,M.message)},j(M.message),r&&(_[x]=O))}if(!jn(O)&&(_[x]={ref:b,...O},!r))return _}}return j(!0),_},Ig=(t,e)=>[...t,...Fn(e)],$g=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Lg(t,e,n){return[...t.slice(0,e),...Fn(n),...t.slice(e)]}var Fg=(t,e,n)=>Array.isArray(t)?(bt(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Ug=(t,e)=>[...Fn(e),...Fn(t)];function KU(t,e){let n=0;const r=[...t];for(const s of e)r.splice(s-n,1),n++;return Du(r).length?r:[]}var Bg=(t,e)=>bt(e)?[]:KU(t,Fn(e).sort((n,r)=>n-r)),Wg=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]};function ZU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=bt(t)?r++:t[e[r++]];return t}function XU(t){for(const e in t)if(t.hasOwnProperty(e)&&!bt(t[e]))return!1;return!0}function Bt(t,e){const n=Array.isArray(e)?e:ab(e)?[e]:kE(e),r=n.length===1?t:ZU(t,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(Ut(r)&&jn(r)||Array.isArray(r)&&XU(r))&&Bt(t,n.slice(0,-1)),t}var WS=(t,e,n)=>(t[e]=n,t);function Gv(t){const e=Mu(),{control:n=e.control,name:r,keyName:s="id",shouldUnregister:a,rules:i}=t,[l,c]=D.useState(n._getFieldArray(r)),d=D.useRef(n._getFieldArray(r).map(Fa)),f=D.useRef(l),u=D.useRef(r),m=D.useRef(!1);u.current=r,f.current=l,n._names.array.add(r),i&&n.register(r,i),tp({next:({values:N,name:S})=>{if(S===u.current||!S){const C=K(N,u.current);Array.isArray(C)&&(c(C),d.current=C.map(Fa))}},subject:n._subjects.array});const p=D.useCallback(N=>{m.current=!0,n._updateFieldArray(r,N)},[n,r]),g=(N,S)=>{const C=Fn(Gt(N)),T=Ig(n._getFieldArray(r),C);n._names.focus=Rg(r,T.length-1,S),d.current=Ig(d.current,C.map(Fa)),p(T),c(T),n._updateFieldArray(r,T,Ig,{argA:$g(N)})},x=(N,S)=>{const C=Fn(Gt(N)),T=Ug(n._getFieldArray(r),C);n._names.focus=Rg(r,0,S),d.current=Ug(d.current,C.map(Fa)),p(T),c(T),n._updateFieldArray(r,T,Ug,{argA:$g(N)})},y=N=>{const S=Bg(n._getFieldArray(r),N);d.current=Bg(d.current,N),p(S),c(S),!Array.isArray(K(n._fields,r))&&at(n._fields,r,void 0),n._updateFieldArray(r,S,Bg,{argA:N})},v=(N,S,C)=>{const T=Fn(Gt(S)),k=Lg(n._getFieldArray(r),N,T);n._names.focus=Rg(r,N,C),d.current=Lg(d.current,N,T.map(Fa)),p(k),c(k),n._updateFieldArray(r,k,Lg,{argA:N,argB:$g(S)})},w=(N,S)=>{const C=n._getFieldArray(r);Wg(C,N,S),Wg(d.current,N,S),p(C),c(C),n._updateFieldArray(r,C,Wg,{argA:N,argB:S},!1)},b=(N,S)=>{const C=n._getFieldArray(r);Fg(C,N,S),Fg(d.current,N,S),p(C),c(C),n._updateFieldArray(r,C,Fg,{argA:N,argB:S},!1)},j=(N,S)=>{const C=Gt(S),T=WS(n._getFieldArray(r),N,C);d.current=[...T].map((k,E)=>!k||E===N?Fa():d.current[E]),p(T),c([...T]),n._updateFieldArray(r,T,WS,{argA:N,argB:C},!0,!1)},_=N=>{const S=Fn(Gt(N));d.current=S.map(Fa),p([...S]),c([...S]),n._updateFieldArray(r,[...S],C=>C,{},!0,!1)};return D.useEffect(()=>{if(n._state.action=!1,Hv(r,n._names)&&n._subjects.state.next({...n._formState}),m.current&&(!jd(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(N=>{const S=K(N.errors,r),C=K(n._formState.errors,r);(C?!S&&C.type||S&&(C.type!==S.type||C.message!==S.message):S&&S.type)&&(S?at(n._formState.errors,r,S):Bt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const N=K(n._fields,r);N&&N._f&&!(jd(n._options.reValidateMode).isOnSubmit&&jd(n._options.mode).isOnSubmit)&&Yv(N,n._names.disabled,n._formValues,n._options.criteriaMode===vr.all,n._options.shouldUseNativeValidation,!0).then(S=>!jn(S)&&n._subjects.state.next({errors:OE(n._formState.errors,S,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Ml(n._fields,(N,S)=>{if(n._names.focus&&S.startsWith(n._names.focus)&&N.focus)return N.focus(),1}),n._names.focus="",n._updateValid(),m.current=!1},[l,r,n]),D.useEffect(()=>(!K(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||a)&&n.unregister(r)}),[r,n,s,a]),{swap:D.useCallback(w,[p,r,n]),move:D.useCallback(b,[p,r,n]),prepend:D.useCallback(x,[p,r,n]),append:D.useCallback(g,[p,r,n]),remove:D.useCallback(y,[p,r,n]),insert:D.useCallback(v,[p,r,n]),update:D.useCallback(j,[p,r,n]),replace:D.useCallback(_,[p,r,n]),fields:D.useMemo(()=>l.map((N,S)=>({...N,[s]:d.current[S]||Fa()})),[l,s])}}var zg=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},qv=t=>_n(t)||!_E(t);function Xa(t,e){if(qv(t)||qv(e))return t===e;if(si(t)&&si(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const a=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const i=e[s];if(si(a)&&si(i)||Ut(a)&&Ut(i)||Array.isArray(a)&&Array.isArray(i)?!Xa(a,i):a!==i)return!1}}return!0}var $E=t=>t.type==="select-multiple",JU=t=>ib(t)||Au(t),Vg=t=>Hh(t)&&t.isConnected,LE=t=>{for(const e in t)if(hs(t[e]))return!0;return!1};function Gh(t,e={}){const n=Array.isArray(t);if(Ut(t)||n)for(const r in t)Array.isArray(t[r])||Ut(t[r])&&!LE(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Gh(t[r],e[r])):_n(t[r])||(e[r]=!0);return e}function FE(t,e,n){const r=Array.isArray(t);if(Ut(t)||r)for(const s in t)Array.isArray(t[s])||Ut(t[s])&&!LE(t[s])?bt(e)||qv(n[s])?n[s]=Array.isArray(t[s])?Gh(t[s],[]):{...Gh(t[s])}:FE(t[s],_n(e)?{}:e[s],n[s]):n[s]=!Xa(t[s],e[s]);return n}var Vc=(t,e)=>FE(t,e,Gh(e)),UE=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>bt(t)?t:e?t===""?NaN:t&&+t:n&&gs(t)?new Date(t):r?r(t):t;function Hg(t){const e=t.ref;return ob(e)?e.files:ib(e)?IE(t.refs).value:$E(e)?[...e.selectedOptions].map(({value:n})=>n):Au(e)?RE(t.refs).value:UE(bt(e.value)?t.ref.value:e.value,t)}var QU=(t,e,n,r)=>{const s={};for(const a of t){const i=K(e,a);i&&at(s,a,i._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Hc=t=>bt(t)?t:Yh(t)?t.source:Ut(t)?Yh(t.value)?t.value.source:t.value:t;const zS="AsyncFunction";var e5=t=>!!t&&!!t.validate&&!!(hs(t.validate)&&t.validate.constructor.name===zS||Ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zS)),t5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function VS(t,e,n){const r=K(t,n);if(r||ab(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),i=K(e,a),l=K(t,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var n5=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,r5=(t,e)=>!Du(K(t,e)).length&&Bt(t,e);const s5={mode:vr.onSubmit,reValidateMode:vr.onChange,shouldFocusError:!0};function a5(t={}){let e={...s5,...t},n={submitCount:0,isDirty:!1,isLoading:hs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ut(e.defaultValues)||Ut(e.values)?Gt(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Gt(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:zg(),array:zg(),state:zg()},m=jd(e.mode),p=jd(e.reValidateMode),g=e.criteriaMode===vr.all,x=A=>I=>{clearTimeout(d),d=setTimeout(A,I)},y=async A=>{if(!e.disabled&&(f.isValid||A)){const I=e.resolver?jn((await C()).errors):await k(r,!0);I!==n.isValid&&u.state.next({isValid:I})}},v=(A,I)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((A||Array.from(l.mount)).forEach(B=>{B&&(I?at(n.validatingFields,B,I):Bt(n.validatingFields,B))}),u.state.next({validatingFields:n.validatingFields,isValidating:!jn(n.validatingFields)}))},w=(A,I=[],B,ee,X=!0,Y=!0)=>{if(ee&&B&&!e.disabled){if(i.action=!0,Y&&Array.isArray(K(r,A))){const ve=B(K(r,A),ee.argA,ee.argB);X&&at(r,A,ve)}if(Y&&Array.isArray(K(n.errors,A))){const ve=B(K(n.errors,A),ee.argA,ee.argB);X&&at(n.errors,A,ve),r5(n.errors,A)}if(f.touchedFields&&Y&&Array.isArray(K(n.touchedFields,A))){const ve=B(K(n.touchedFields,A),ee.argA,ee.argB);X&&at(n.touchedFields,A,ve)}f.dirtyFields&&(n.dirtyFields=Vc(s,a)),u.state.next({name:A,isDirty:O(A,I),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else at(a,A,I)},b=(A,I)=>{at(n.errors,A,I),u.state.next({errors:n.errors})},j=A=>{n.errors=A,u.state.next({errors:n.errors,isValid:!1})},_=(A,I,B,ee)=>{const X=K(r,A);if(X){const Y=K(a,A,bt(B)?K(s,A):B);bt(Y)||ee&&ee.defaultChecked||I?at(a,A,I?Y:Hg(X._f)):L(A,Y),i.mount&&y()}},N=(A,I,B,ee,X)=>{let Y=!1,ve=!1;const Fe={name:A};if(!e.disabled){const At=!!(K(r,A)&&K(r,A)._f&&K(r,A)._f.disabled);if(!B||ee){f.isDirty&&(ve=n.isDirty,n.isDirty=Fe.isDirty=O(),Y=ve!==Fe.isDirty);const Dt=At||Xa(K(s,A),I);ve=!!(!At&&K(n.dirtyFields,A)),Dt||At?Bt(n.dirtyFields,A):at(n.dirtyFields,A,!0),Fe.dirtyFields=n.dirtyFields,Y=Y||f.dirtyFields&&ve!==!Dt}if(B){const Dt=K(n.touchedFields,A);Dt||(at(n.touchedFields,A,B),Fe.touchedFields=n.touchedFields,Y=Y||f.touchedFields&&Dt!==B)}Y&&X&&u.state.next(Fe)}return Y?Fe:{}},S=(A,I,B,ee)=>{const X=K(n.errors,A),Y=f.isValid&&pr(I)&&n.isValid!==I;if(e.delayError&&B?(c=x(()=>b(A,B)),c(e.delayError)):(clearTimeout(d),c=null,B?at(n.errors,A,B):Bt(n.errors,A)),(B?!Xa(X,B):X)||!jn(ee)||Y){const ve={...ee,...Y&&pr(I)?{isValid:I}:{},errors:n.errors,name:A};n={...n,...ve},u.state.next(ve)}},C=async A=>{v(A,!0);const I=await e.resolver(a,e.context,QU(A||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(A),I},T=async A=>{const{errors:I}=await C(A);if(A)for(const B of A){const ee=K(I,B);ee?at(n.errors,B,ee):Bt(n.errors,B)}else n.errors=I;return I},k=async(A,I,B={valid:!0})=>{for(const ee in A){const X=A[ee];if(X){const{_f:Y,...ve}=X;if(Y){const Fe=l.array.has(Y.name),At=X._f&&e5(X._f);At&&f.validatingFields&&v([ee],!0);const Dt=await Yv(X,l.disabled,a,g,e.shouldUseNativeValidation&&!I,Fe);if(At&&f.validatingFields&&v([ee]),Dt[Y.name]&&(B.valid=!1,I))break;!I&&(K(Dt,Y.name)?Fe?OE(n.errors,Dt,Y.name):at(n.errors,Y.name,Dt[Y.name]):Bt(n.errors,Y.name))}!jn(ve)&&await k(ve,I,B)}}return B.valid},E=()=>{for(const A of l.unMount){const I=K(r,A);I&&(I._f.refs?I._f.refs.every(B=>!Vg(B)):!Vg(I._f.ref))&&qe(A)}l.unMount=new Set},O=(A,I)=>!e.disabled&&(A&&I&&at(a,A,I),!Xa(Q(),s)),P=(A,I,B)=>DE(A,l,{...i.mount?a:bt(I)?s:gs(A)?{[A]:I}:I},B,I),M=A=>Du(K(i.mount?a:s,A,e.shouldUnregister?K(s,A,[]):[])),L=(A,I,B={})=>{const ee=K(r,A);let X=I;if(ee){const Y=ee._f;Y&&(!Y.disabled&&at(a,A,UE(I,Y)),X=Hh(Y.ref)&&_n(I)?"":I,$E(Y.ref)?[...Y.ref.options].forEach(ve=>ve.selected=X.includes(ve.value)):Y.refs?Au(Y.ref)?Y.refs.length>1?Y.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(X)?!!X.find(Fe=>Fe===ve.value):X===ve.value)):Y.refs[0]&&(Y.refs[0].checked=!!X):Y.refs.forEach(ve=>ve.checked=ve.value===X):ob(Y.ref)?Y.ref.value="":(Y.ref.value=X,Y.ref.type||u.values.next({name:A,values:{...a}})))}(B.shouldDirty||B.shouldTouch)&&N(A,X,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&V(A)},F=(A,I,B)=>{for(const ee in I){const X=I[ee],Y=`${A}.${ee}`,ve=K(r,Y);(l.array.has(A)||Ut(X)||ve&&!ve._f)&&!si(X)?F(Y,X,B):L(Y,X,B)}},z=(A,I,B={})=>{const ee=K(r,A),X=l.array.has(A),Y=Gt(I);at(a,A,Y),X?(u.array.next({name:A,values:{...a}}),(f.isDirty||f.dirtyFields)&&B.shouldDirty&&u.state.next({name:A,dirtyFields:Vc(s,a),isDirty:O(A,Y)})):ee&&!ee._f&&!_n(Y)?F(A,Y,B):L(A,Y,B),Hv(A,l)&&u.state.next({...n}),u.values.next({name:i.mount?A:void 0,values:{...a}})},R=async A=>{i.mount=!0;const I=A.target;let B=I.name,ee=!0;const X=K(r,B),Y=()=>I.type?Hg(X._f):NE(A),ve=Fe=>{ee=Number.isNaN(Fe)||si(Fe)&&isNaN(Fe.getTime())||Xa(Fe,K(a,B,Fe))};if(X){let Fe,At;const Dt=Y(),wn=A.type===Vh.BLUR||A.type===Vh.FOCUS_OUT,Dc=!t5(X._f)&&!e.resolver&&!K(n.errors,B)&&!X._f.deps||n5(wn,K(n.touchedFields,B),n.isSubmitted,p,m),Ra=Hv(B,l,wn);at(a,B,Dt),wn?(X._f.onBlur&&X._f.onBlur(A),c&&c(0)):X._f.onChange&&X._f.onChange(A);const Bo=N(B,Dt,wn,!1),qs=!jn(Bo)||Ra;if(!wn&&u.values.next({name:B,type:A.type,values:{...a}}),Dc)return f.isValid&&(e.mode==="onBlur"&&wn?y():wn||y()),qs&&u.state.next({name:B,...Ra?{}:Bo});if(!wn&&Ra&&u.state.next({...n}),e.resolver){const{errors:Wo}=await C([B]);if(ve(Dt),ee){const Mc=VS(n.errors,r,B),Hi=VS(Wo,r,Mc.name||B);Fe=Hi.error,B=Hi.name,At=jn(Wo)}}else v([B],!0),Fe=(await Yv(X,l.disabled,a,g,e.shouldUseNativeValidation))[B],v([B]),ve(Dt),ee&&(Fe?At=!1:f.isValid&&(At=await k(r,!0)));ee&&(X._f.deps&&V(X._f.deps),S(B,At,Fe,Bo))}},$=(A,I)=>{if(K(n.errors,I)&&A.focus)return A.focus(),1},V=async(A,I={})=>{let B,ee;const X=Fn(A);if(e.resolver){const Y=await T(bt(A)?A:X);B=jn(Y),ee=A?!X.some(ve=>K(Y,ve)):B}else A?(ee=(await Promise.all(X.map(async Y=>{const ve=K(r,Y);return await k(ve&&ve._f?{[Y]:ve}:ve)}))).every(Boolean),!(!ee&&!n.isValid)&&y()):ee=B=await k(r);return u.state.next({...!gs(A)||f.isValid&&B!==n.isValid?{}:{name:A},...e.resolver||!A?{isValid:B}:{},errors:n.errors}),I.shouldFocus&&!ee&&Ml(r,$,A?X:l.mount),ee},Q=A=>{const I={...i.mount?a:s};return bt(A)?I:gs(A)?K(I,A):A.map(B=>K(I,B))},be=(A,I)=>({invalid:!!K((I||n).errors,A),isDirty:!!K((I||n).dirtyFields,A),error:K((I||n).errors,A),isValidating:!!K(n.validatingFields,A),isTouched:!!K((I||n).touchedFields,A)}),Ge=A=>{A&&Fn(A).forEach(I=>Bt(n.errors,I)),u.state.next({errors:A?n.errors:{}})},He=(A,I,B)=>{const ee=(K(r,A,{_f:{}})._f||{}).ref,X=K(n.errors,A)||{},{ref:Y,message:ve,type:Fe,...At}=X;at(n.errors,A,{...At,...I,ref:ee}),u.state.next({name:A,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&ee&&ee.focus&&ee.focus()},pt=(A,I)=>hs(A)?u.values.subscribe({next:B=>A(P(void 0,I),B)}):P(A,I,!0),qe=(A,I={})=>{for(const B of A?Fn(A):l.mount)l.mount.delete(B),l.array.delete(B),I.keepValue||(Bt(r,B),Bt(a,B)),!I.keepError&&Bt(n.errors,B),!I.keepDirty&&Bt(n.dirtyFields,B),!I.keepTouched&&Bt(n.touchedFields,B),!I.keepIsValidating&&Bt(n.validatingFields,B),!e.shouldUnregister&&!I.keepDefaultValue&&Bt(s,B);u.values.next({values:{...a}}),u.state.next({...n,...I.keepDirty?{isDirty:O()}:{}}),!I.keepIsValid&&y()},re=({disabled:A,name:I,field:B,fields:ee})=>{(pr(A)&&i.mount||A||l.disabled.has(I))&&(A?l.disabled.add(I):l.disabled.delete(I),N(I,Hg(B?B._f:K(ee,I)._f),!1,!1,!0))},Ae=(A,I={})=>{let B=K(r,A);const ee=pr(I.disabled)||pr(e.disabled);return at(r,A,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:A}},name:A,mount:!0,...I}}),l.mount.add(A),B?re({field:B,disabled:pr(I.disabled)?I.disabled:e.disabled,name:A}):_(A,!0,I.value),{...ee?{disabled:I.disabled||e.disabled}:{},...e.progressive?{required:!!I.required,min:Hc(I.min),max:Hc(I.max),minLength:Hc(I.minLength),maxLength:Hc(I.maxLength),pattern:Hc(I.pattern)}:{},name:A,onChange:R,onBlur:R,ref:X=>{if(X){Ae(A,I),B=K(r,A);const Y=bt(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,ve=JU(Y),Fe=B._f.refs||[];if(ve?Fe.find(At=>At===Y):Y===B._f.ref)return;at(r,A,{_f:{...B._f,...ve?{refs:[...Fe.filter(Vg),Y,...Array.isArray(K(s,A))?[{}]:[]],ref:{type:Y.type,name:A}}:{ref:Y}}}),_(A,!1,void 0,Y)}else B=K(r,A,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||I.shouldUnregister)&&!(CE(l.array,A)&&i.action)&&l.unMount.add(A)}}},Ie=()=>e.shouldFocusError&&Ml(r,$,l.mount),Le=A=>{pr(A)&&(u.state.next({disabled:A}),Ml(r,(I,B)=>{const ee=K(r,B);ee&&(I.disabled=ee._f.disabled||A,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(X=>{X.disabled=ee._f.disabled||A}))},0,!1))},Me=(A,I)=>async B=>{let ee;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let X=Gt(a);if(l.disabled.size)for(const Y of l.disabled)at(X,Y,void 0);if(u.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:ve}=await C();n.errors=Y,X=ve}else await k(r);if(Bt(n.errors,"root"),jn(n.errors)){u.state.next({errors:{}});try{await A(X,B)}catch(Y){ee=Y}}else I&&await I({...n.errors},B),Ie(),setTimeout(Ie);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},ze=(A,I={})=>{K(r,A)&&(bt(I.defaultValue)?z(A,Gt(K(s,A))):(z(A,I.defaultValue),at(s,A,Gt(I.defaultValue))),I.keepTouched||Bt(n.touchedFields,A),I.keepDirty||(Bt(n.dirtyFields,A),n.isDirty=I.defaultValue?O(A,Gt(K(s,A))):O()),I.keepError||(Bt(n.errors,A),f.isValid&&y()),u.state.next({...n}))},tt=(A,I={})=>{const B=A?Gt(A):s,ee=Gt(B),X=jn(A),Y=X?s:ee;if(I.keepDefaultValues||(s=B),!I.keepValues){if(I.keepDirtyValues){const ve=new Set([...l.mount,...Object.keys(Vc(s,a))]);for(const Fe of Array.from(ve))K(n.dirtyFields,Fe)?at(Y,Fe,K(a,Fe)):z(Fe,K(Y,Fe))}else{if(sb&&bt(A))for(const ve of l.mount){const Fe=K(r,ve);if(Fe&&Fe._f){const At=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Hh(At)){const Dt=At.closest("form");if(Dt){Dt.reset();break}}}}r={}}a=e.shouldUnregister?I.keepDefaultValues?Gt(s):{}:Gt(Y),u.array.next({values:{...Y}}),u.values.next({values:{...Y}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!I.keepIsValid||!!I.keepDirtyValues,i.watch=!!e.shouldUnregister,u.state.next({submitCount:I.keepSubmitCount?n.submitCount:0,isDirty:X?!1:I.keepDirty?n.isDirty:!!(I.keepDefaultValues&&!Xa(A,s)),isSubmitted:I.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:I.keepDirtyValues?I.keepDefaultValues&&a?Vc(s,a):n.dirtyFields:I.keepDefaultValues&&A?Vc(s,A):I.keepDirty?n.dirtyFields:{},touchedFields:I.keepTouched?n.touchedFields:{},errors:I.keepErrors?n.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},fe=(A,I)=>tt(hs(A)?A(a):A,I);return{control:{register:Ae,unregister:qe,getFieldState:be,handleSubmit:Me,setError:He,_executeSchema:C,_getWatch:P,_getDirty:O,_updateValid:y,_removeUnmounted:E,_updateFieldArray:w,_updateDisabledField:re,_getFieldArray:M,_reset:tt,_resetDefaultValues:()=>hs(e.defaultValues)&&e.defaultValues().then(A=>{fe(A,e.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:A=>{n={...n,...A}},_disableForm:Le,_subjects:u,_proxyFormState:f,_setErrors:j,get _fields(){return r},get _formValues(){return a},get _state(){return i},set _state(A){i=A},get _defaultValues(){return s},get _names(){return l},set _names(A){l=A},get _formState(){return n},set _formState(A){n=A},get _options(){return e},set _options(A){e={...e,...A}}},trigger:V,register:Ae,handleSubmit:Me,watch:pt,setValue:z,getValues:Q,reset:fe,resetField:ze,clearErrors:Ge,unregister:qe,setError:He,setFocus:(A,I={})=>{const B=K(r,A),ee=B&&B._f;if(ee){const X=ee.refs?ee.refs[0]:ee.ref;X.focus&&(X.focus(),I.shouldSelect&&hs(X.select)&&X.select())}},getFieldState:be}}function Tn(t={}){const e=D.useRef(void 0),n=D.useRef(void 0),[r,s]=D.useState({isDirty:!1,isValidating:!1,isLoading:hs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:hs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...a5(t),formState:r});const a=e.current.control;return a._options=t,tp({subject:a._subjects.state,next:i=>{PE(i,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),D.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),D.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==r.isDirty&&a._subjects.state.next({isDirty:i})}},[a,r.isDirty]),D.useEffect(()=>{t.values&&!Xa(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,s(i=>({...i}))):a._resetDefaultValues()},[t.values,a]),D.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),D.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),D.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=TE(r,a),e.current}const HS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=K(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},BE=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?HS(r.ref,n,t):r.refs&&r.refs.forEach(s=>HS(s,n,t))}},o5=(t,e)=>{e.shouldUseNativeValidation&&BE(t,e);const n={};for(const r in t){const s=K(e.fields,r),a=Object.assign(t[r]||{},{ref:s&&s.ref});if(i5(e.names||Object.keys(t),r)){const i=Object.assign({},K(n,r));at(i,"root",a),at(n,r,i)}else at(n,r,a)}return n},i5=(t,e)=>t.some(n=>n.startsWith(e+"."));var l5=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,a=r.message,i=r.path.join(".");if(!n[i])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[i]={message:l.message,type:l.code}}else n[i]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(u){return t.push(u)})}),e){var c=n[i].types,d=c&&c[r.code];n[i]=ME(i,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},Pn=function(t,e,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&BE({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:o5(l5(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},et;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of a)i[l]=s[l];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(const i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(et||(et={}));var Kv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Kv||(Kv={}));const se=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ra=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},H=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),c5=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class nr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let l=r,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(i))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof nr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}nr.create=t=>new nr(t);const Vl=(t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,et.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${et.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${et.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${et.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:et.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,et.assertNever(t)}return{message:n}};let WE=Vl;function d5(t){WE=t}function qh(){return WE}const Kh=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(i,{data:e,defaultError:l}).message;return{...s,path:a,message:l}},u5=[];function te(t,e){const n=qh(),r=Kh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Vl?void 0:Vl].filter(s=>!!s)});t.common.issues.push(r)}class pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Pe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return pn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Pe;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const Pe=Object.freeze({status:"aborted"}),jl=t=>({status:"dirty",value:t}),Cn=t=>({status:"valid",value:t}),Zv=t=>t.status==="aborted",Xv=t=>t.status==="dirty",wi=t=>t.status==="valid",Xd=t=>typeof Promise<"u"&&t instanceof Promise;function Zh(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function zE(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(pe||(pe={}));var sd,ad;class Ts{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const YS=(t,e)=>{if(wi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new nr(t.common.issues);return this._error=n,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,l)=>{var c,d;const{message:f}=t;return i.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Ye{get description(){return this._def.description}_getType(e){return ra(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pn,ctx:{common:e.parent.common,data:e.data,parsedType:ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Xd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)},a=this._parseSync({data:e,path:s.path,parent:s});return YS(s,a)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return wi(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>wi(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Xd(s)?s:Promise.resolve(s));return YS(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=e(s),l=()=>a.addIssue({code:H.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Xr({schema:this,typeName:Te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return js.create(this,this._def)}nullable(){return jo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this)}promise(){return Yl.create(this,this._def)}or(e){return tu.create([this,e],this._def)}and(e){return nu.create(this,e,this._def)}transform(e){return new Xr({...Be(this._def),schema:this,typeName:Te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new iu({...Be(this._def),innerType:this,defaultValue:n,typeName:Te.ZodDefault})}brand(){return new lb({typeName:Te.ZodBranded,type:this,...Be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new lu({...Be(this._def),innerType:this,catchValue:n,typeName:Te.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ou.create(this,e)}readonly(){return cu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const f5=/^c[^\s-]{8,}$/i,h5=/^[0-9a-z]+$/,m5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,p5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g5=/^[a-z0-9_-]{21}$/i,y5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,v5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,x5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,w5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yg;const b5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,j5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",k5=new RegExp(`^${VE}$`);function HE(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function E5(t){return new RegExp(`^${HE(t)}$`)}function YE(t){let e=`${VE}T${HE(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function T5(t,e){return!!((e==="v4"||!e)&&b5.test(t)||(e==="v6"||!e)&&S5.test(t))}function P5(t,e){if(!y5.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function A5(t,e){return!!((e==="v4"||!e)&&j5.test(t)||(e==="v6"||!e)&&_5.test(t))}class Ur extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const a=this._getOrReturnCtx(e);return te(a,{code:H.invalid_type,expected:se.string,received:a.parsedType}),Pe}const r=new pn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:H.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:H.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,l=e.data.length<a.value;(i||l)&&(s=this._getOrReturnCtx(e,s),i?te(s,{code:H.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&te(s,{code:H.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")x5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"email",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Yg||(Yg=new RegExp(w5,"u")),Yg.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"emoji",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")p5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"uuid",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")g5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"nanoid",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")f5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")h5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid2",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")m5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ulid",code:H.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),te(s,{validation:"url",code:H.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"regex",code:H.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),te(s,{code:H.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:H.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:H.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?YE(a).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:H.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?k5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:H.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?E5(a).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:H.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?v5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"duration",code:H.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?T5(e.data,a.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ip",code:H.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?P5(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"jwt",code:H.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?A5(e.data,a.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cidr",code:H.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?N5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64",code:H.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?C5.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64url",code:H.invalid_string,message:a.message}),r.dirty()):et.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:H.invalid_string,...pe.errToObj(r)})}_addCheck(e){return new Ur({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...pe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...pe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...pe.errToObj(n)})}nonempty(e){return this.min(1,pe.errToObj(e))}trim(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ur.create=t=>{var e;return new Ur({checks:[],typeName:Te.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Be(t)})};function D5(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class xo extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const a=this._getOrReturnCtx(e);return te(a,{code:H.invalid_type,expected:se.number,received:a.parsedType}),Pe}let r;const s=new pn;for(const a of this._def.checks)a.kind==="int"?et.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:H.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:H.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:H.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?D5(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:H.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:H.not_finite,message:a.message}),s.dirty()):et.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pe.toString(n))}setLimit(e,n,r,s){return new xo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:pe.toString(s)}]})}_addCheck(e){return new xo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&et.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}xo.create=t=>new xo({checks:[],typeName:Te.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class wo extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==se.bigint)return this._getInvalidInput(e);let r;const s=new pn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:H.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:H.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:H.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):et.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:H.invalid_type,expected:se.bigint,received:n.parsedType}),Pe}gte(e,n){return this.setLimit("min",e,!0,pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pe.toString(n))}setLimit(e,n,r,s){return new wo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:pe.toString(s)}]})}_addCheck(e){return new wo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wo.create=t=>{var e;return new wo({checks:[],typeName:Te.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Be(t)})};class Jd extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:H.invalid_type,expected:se.boolean,received:r.parsedType}),Pe}return Cn(e.data)}}Jd.create=t=>new Jd({typeName:Te.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class bi extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const a=this._getOrReturnCtx(e);return te(a,{code:H.invalid_type,expected:se.date,received:a.parsedType}),Pe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return te(a,{code:H.invalid_date}),Pe}const r=new pn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:H.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:H.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):et.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bi({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}bi.create=t=>new bi({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Te.ZodDate,...Be(t)});class Xh extends Ye{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:H.invalid_type,expected:se.symbol,received:r.parsedType}),Pe}return Cn(e.data)}}Xh.create=t=>new Xh({typeName:Te.ZodSymbol,...Be(t)});class Qd extends Ye{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:H.invalid_type,expected:se.undefined,received:r.parsedType}),Pe}return Cn(e.data)}}Qd.create=t=>new Qd({typeName:Te.ZodUndefined,...Be(t)});class eu extends Ye{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return te(r,{code:H.invalid_type,expected:se.null,received:r.parsedType}),Pe}return Cn(e.data)}}eu.create=t=>new eu({typeName:Te.ZodNull,...Be(t)});class Hl extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return Cn(e.data)}}Hl.create=t=>new Hl({typeName:Te.ZodAny,...Be(t)});class di extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cn(e.data)}}di.create=t=>new di({typeName:Te.ZodUnknown,...Be(t)});class va extends Ye{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:H.invalid_type,expected:se.never,received:n.parsedType}),Pe}}va.create=t=>new va({typeName:Te.ZodNever,...Be(t)});class Jh extends Ye{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:H.invalid_type,expected:se.void,received:r.parsedType}),Pe}return Cn(e.data)}}Jh.create=t=>new Jh({typeName:Te.ZodVoid,...Be(t)});class Yr extends Ye{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==se.array)return te(n,{code:H.invalid_type,expected:se.array,received:n.parsedType}),Pe;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(i||l)&&(te(n,{code:i?H.too_big:H.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,l)=>s.type._parseAsync(new Ts(n,i,n.path,l)))).then(i=>pn.mergeArray(r,i));const a=[...n.data].map((i,l)=>s.type._parseSync(new Ts(n,i,n.path,l)));return pn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Yr({...this._def,minLength:{value:e,message:pe.toString(n)}})}max(e,n){return new Yr({...this._def,maxLength:{value:e,message:pe.toString(n)}})}length(e,n){return new Yr({...this._def,exactLength:{value:e,message:pe.toString(n)}})}nonempty(e){return this.min(1,e)}}Yr.create=(t,e)=>new Yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Te.ZodArray,...Be(e)});function ol(t){if(t instanceof Ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=js.create(ol(r))}return new Ct({...t._def,shape:()=>e})}else return t instanceof Yr?new Yr({...t._def,type:ol(t.element)}):t instanceof js?js.create(ol(t.unwrap())):t instanceof jo?jo.create(ol(t.unwrap())):t instanceof Ps?Ps.create(t.items.map(e=>ol(e))):t}class Ct extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=et.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==se.object){const d=this._getOrReturnCtx(e);return te(d,{code:H.invalid_type,expected:se.object,received:d.parsedType}),Pe}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof va&&this._def.unknownKeys==="strip"))for(const d in s.data)i.includes(d)||l.push(d);const c=[];for(const d of i){const f=a[d],u=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Ts(s,u,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof va){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(te(s,{code:H.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const u=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Ts(s,u,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const u=await f.key,m=await f.value;d.push({key:u,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>pn.mergeObjectSync(r,d)):pn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return pe.errToObj,new Ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,i,l;const c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=pe.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Te.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ct({...this._def,catchall:e})}pick(e){const n={};return et.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(e){const n={};return et.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return ol(this)}partial(e){const n={};return et.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ct({...this._def,shape:()=>n})}required(e){const n={};return et.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof js;)a=a._def.innerType;n[r]=a}}),new Ct({...this._def,shape:()=>n})}keyof(){return GE(et.objectKeys(this.shape))}}Ct.create=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strip",catchall:va.create(),typeName:Te.ZodObject,...Be(e)});Ct.strictCreate=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strict",catchall:va.create(),typeName:Te.ZodObject,...Be(e)});Ct.lazycreate=(t,e)=>new Ct({shape:t,unknownKeys:"strip",catchall:va.create(),typeName:Te.ZodObject,...Be(e)});class tu extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new nr(l.ctx.common.issues));return te(n,{code:H.invalid_union,unionErrors:i}),Pe}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(c=>new nr(c));return te(n,{code:H.invalid_union,unionErrors:l}),Pe}}get options(){return this._def.options}}tu.create=(t,e)=>new tu({options:t,typeName:Te.ZodUnion,...Be(e)});const Js=t=>t instanceof su?Js(t.schema):t instanceof Xr?Js(t.innerType()):t instanceof au?[t.value]:t instanceof bo?t.options:t instanceof ou?et.objectValues(t.enum):t instanceof iu?Js(t._def.innerType):t instanceof Qd?[void 0]:t instanceof eu?[null]:t instanceof js?[void 0,...Js(t.unwrap())]:t instanceof jo?[null,...Js(t.unwrap())]:t instanceof lb||t instanceof cu?Js(t.unwrap()):t instanceof lu?Js(t._def.innerType):[];class np extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.object)return te(n,{code:H.invalid_type,expected:se.object,received:n.parsedType}),Pe;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:H.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const i=Js(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of i){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,a)}}return new np({typeName:Te.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Be(r)})}}function Jv(t,e){const n=ra(t),r=ra(e);if(t===e)return{valid:!0,data:t};if(n===se.object&&r===se.object){const s=et.objectKeys(e),a=et.objectKeys(t).filter(l=>s.indexOf(l)!==-1),i={...t,...e};for(const l of a){const c=Jv(t[l],e[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(n===se.array&&r===se.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],c=Jv(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===se.date&&r===se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class nu extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(Zv(a)||Zv(i))return Pe;const l=Jv(a.value,i.value);return l.valid?((Xv(a)||Xv(i))&&n.dirty(),{status:n.value,value:l.data}):(te(r,{code:H.invalid_intersection_types}),Pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nu.create=(t,e,n)=>new nu({left:t,right:e,typeName:Te.ZodIntersection,...Be(n)});class Ps extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.array)return te(r,{code:H.invalid_type,expected:se.array,received:r.parsedType}),Pe;if(r.data.length<this._def.items.length)return te(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ts(r,i,r.path,l)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>pn.mergeArray(n,i)):pn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ps({...this._def,rest:e})}}Ps.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ps({items:t,typeName:Te.ZodTuple,rest:null,...Be(e)})};class ru extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.object)return te(r,{code:H.invalid_type,expected:se.object,received:r.parsedType}),Pe;const s=[],a=this._def.keyType,i=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new Ts(r,l,r.path,l)),value:i._parse(new Ts(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?pn.mergeObjectAsync(n,s):pn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ye?new ru({keyType:e,valueType:n,typeName:Te.ZodRecord,...Be(r)}):new ru({keyType:Ur.create(),valueType:e,typeName:Te.ZodRecord,...Be(n)})}}class Qh extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.map)return te(r,{code:H.invalid_type,expected:se.map,received:r.parsedType}),Pe;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new Ts(r,l,r.path,[d,"key"])),value:a._parse(new Ts(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Pe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of i){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Pe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Qh.create=(t,e,n)=>new Qh({valueType:e,keyType:t,typeName:Te.ZodMap,...Be(n)});class ji extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.set)return te(r,{code:H.invalid_type,expected:se.set,received:r.parsedType}),Pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(te(r,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(te(r,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Pe;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ts(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(e,n){return new ji({...this._def,minSize:{value:e,message:pe.toString(n)}})}max(e,n){return new ji({...this._def,maxSize:{value:e,message:pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ji.create=(t,e)=>new ji({valueType:t,minSize:null,maxSize:null,typeName:Te.ZodSet,...Be(e)});class Ol extends Ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.function)return te(n,{code:H.invalid_type,expected:se.function,received:n.parsedType}),Pe;function r(l,c){return Kh({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qh(),Vl].filter(d=>!!d),issueData:{code:H.invalid_arguments,argumentsError:c}})}function s(l,c){return Kh({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qh(),Vl].filter(d=>!!d),issueData:{code:H.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Yl){const l=this;return Cn(async function(...c){const d=new nr([]),f=await l._def.args.parseAsync(c,a).catch(p=>{throw d.addIssue(r(c,p)),d}),u=await Reflect.apply(i,this,f);return await l._def.returns._def.type.parseAsync(u,a).catch(p=>{throw d.addIssue(s(u,p)),d})})}else{const l=this;return Cn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new nr([r(c,d.error)]);const f=Reflect.apply(i,this,d.data),u=l._def.returns.safeParse(f,a);if(!u.success)throw new nr([s(f,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ol({...this._def,args:Ps.create(e).rest(di.create())})}returns(e){return new Ol({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ol({args:e||Ps.create([]).rest(di.create()),returns:n||di.create(),typeName:Te.ZodFunction,...Be(r)})}}class su extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}su.create=(t,e)=>new su({getter:t,typeName:Te.ZodLazy,...Be(e)});class au extends Ye{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}au.create=(t,e)=>new au({value:t,typeName:Te.ZodLiteral,...Be(e)});function GE(t,e){return new bo({values:t,typeName:Te.ZodEnum,...Be(e)})}class bo extends Ye{constructor(){super(...arguments),sd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:et.joinValues(r),received:n.parsedType,code:H.invalid_type}),Pe}if(Zh(this,sd)||zE(this,sd,new Set(this._def.values)),!Zh(this,sd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:H.invalid_enum_value,options:r}),Pe}return Cn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return bo.create(e,{...this._def,...n})}exclude(e,n=this._def){return bo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}sd=new WeakMap;bo.create=GE;class ou extends Ye{constructor(){super(...arguments),ad.set(this,void 0)}_parse(e){const n=et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==se.string&&r.parsedType!==se.number){const s=et.objectValues(n);return te(r,{expected:et.joinValues(s),received:r.parsedType,code:H.invalid_type}),Pe}if(Zh(this,ad)||zE(this,ad,new Set(et.getValidEnumValues(this._def.values))),!Zh(this,ad).has(e.data)){const s=et.objectValues(n);return te(r,{received:r.data,code:H.invalid_enum_value,options:s}),Pe}return Cn(e.data)}get enum(){return this._def.values}}ad=new WeakMap;ou.create=(t,e)=>new ou({values:t,typeName:Te.ZodNativeEnum,...Be(e)});class Yl extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.promise&&n.common.async===!1)return te(n,{code:H.invalid_type,expected:se.promise,received:n.parsedType}),Pe;const r=n.parsedType===se.promise?n.data:Promise.resolve(n.data);return Cn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Yl.create=(t,e)=>new Yl({type:t,typeName:Te.ZodPromise,...Be(e)});class Xr extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{te(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async l=>{if(n.value==="aborted")return Pe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Pe:c.status==="dirty"||n.value==="dirty"?jl(c.value):c});{if(n.value==="aborted")return Pe;const l=this._def.schema._parseSync({data:i,path:r.path,parent:r});return l.status==="aborted"?Pe:l.status==="dirty"||n.value==="dirty"?jl(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),i(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),i(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wi(i))return i;const l=s.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>wi(i)?Promise.resolve(s.transform(i.value,a)).then(l=>({status:n.value,value:l})):i);et.assertNever(s)}}Xr.create=(t,e,n)=>new Xr({schema:t,typeName:Te.ZodEffects,effect:e,...Be(n)});Xr.createWithPreprocess=(t,e,n)=>new Xr({schema:e,effect:{type:"preprocess",transform:t},typeName:Te.ZodEffects,...Be(n)});class js extends Ye{_parse(e){return this._getType(e)===se.undefined?Cn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}js.create=(t,e)=>new js({innerType:t,typeName:Te.ZodOptional,...Be(e)});class jo extends Ye{_parse(e){return this._getType(e)===se.null?Cn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jo.create=(t,e)=>new jo({innerType:t,typeName:Te.ZodNullable,...Be(e)});class iu extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:Te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class lu extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Xd(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new nr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new nr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lu.create=(t,e)=>new lu({innerType:t,typeName:Te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class em extends Ye{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return te(r,{code:H.invalid_type,expected:se.nan,received:r.parsedType}),Pe}return{status:"valid",value:e.data}}}em.create=t=>new em({typeName:Te.ZodNaN,...Be(t)});const M5=Symbol("zod_brand");class lb extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ou extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Pe:a.status==="dirty"?(n.dirty(),jl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Ou({in:e,out:n,typeName:Te.ZodPipeline})}}class cu extends Ye{_parse(e){const n=this._def.innerType._parse(e),r=s=>(wi(s)&&(s.value=Object.freeze(s.value)),s);return Xd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}cu.create=(t,e)=>new cu({innerType:t,typeName:Te.ZodReadonly,...Be(e)});function GS(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function qE(t,e={},n){return t?Hl.create().superRefine((r,s)=>{var a,i;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,f;if(!c){const u=GS(e,r),m=(f=(d=u.fatal)!==null&&d!==void 0?d:n)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...u,fatal:m})}});if(!l){const c=GS(e,r),d=(i=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&i!==void 0?i:!0;s.addIssue({code:"custom",...c,fatal:d})}}):Hl.create()}const O5={object:Ct.lazycreate};var Te;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Te||(Te={}));const R5=(t,e={message:`Input not instance of ${t.name}`})=>qE(n=>n instanceof t,e),Ke=Ur.create,KE=xo.create,I5=em.create,$5=wo.create,ho=Jd.create,Ru=bi.create,L5=Xh.create,F5=Qd.create,U5=eu.create,Ri=Hl.create,B5=di.create,W5=va.create,z5=Jh.create,Si=Yr.create,yn=Ct.create,V5=Ct.strictCreate,H5=tu.create,Y5=np.create,G5=nu.create,q5=Ps.create,K5=ru.create,Z5=Qh.create,X5=ji.create,J5=Ol.create,Q5=su.create,ZE=au.create,cb=bo.create,e6=ou.create,t6=Yl.create,qS=Xr.create,n6=js.create,r6=jo.create,s6=Xr.createWithPreprocess,a6=Ou.create,o6=()=>Ke().optional(),i6=()=>KE().optional(),l6=()=>ho().optional(),c6={string:t=>Ur.create({...t,coerce:!0}),number:t=>xo.create({...t,coerce:!0}),boolean:t=>Jd.create({...t,coerce:!0}),bigint:t=>wo.create({...t,coerce:!0}),date:t=>bi.create({...t,coerce:!0})},d6=Pe;var ys=Object.freeze({__proto__:null,defaultErrorMap:Vl,setErrorMap:d5,getErrorMap:qh,makeIssue:Kh,EMPTY_PATH:u5,addIssueToContext:te,ParseStatus:pn,INVALID:Pe,DIRTY:jl,OK:Cn,isAborted:Zv,isDirty:Xv,isValid:wi,isAsync:Xd,get util(){return et},get objectUtil(){return Kv},ZodParsedType:se,getParsedType:ra,ZodType:Ye,datetimeRegex:YE,ZodString:Ur,ZodNumber:xo,ZodBigInt:wo,ZodBoolean:Jd,ZodDate:bi,ZodSymbol:Xh,ZodUndefined:Qd,ZodNull:eu,ZodAny:Hl,ZodUnknown:di,ZodNever:va,ZodVoid:Jh,ZodArray:Yr,ZodObject:Ct,ZodUnion:tu,ZodDiscriminatedUnion:np,ZodIntersection:nu,ZodTuple:Ps,ZodRecord:ru,ZodMap:Qh,ZodSet:ji,ZodFunction:Ol,ZodLazy:su,ZodLiteral:au,ZodEnum:bo,ZodNativeEnum:ou,ZodPromise:Yl,ZodEffects:Xr,ZodTransformer:Xr,ZodOptional:js,ZodNullable:jo,ZodDefault:iu,ZodCatch:lu,ZodNaN:em,BRAND:M5,ZodBranded:lb,ZodPipeline:Ou,ZodReadonly:cu,custom:qE,Schema:Ye,ZodSchema:Ye,late:O5,get ZodFirstPartyTypeKind(){return Te},coerce:c6,any:Ri,array:Si,bigint:$5,boolean:ho,date:Ru,discriminatedUnion:Y5,effect:qS,enum:cb,function:J5,instanceof:R5,intersection:G5,lazy:Q5,literal:ZE,map:Z5,nan:I5,nativeEnum:e6,never:W5,null:U5,nullable:r6,number:KE,object:yn,oboolean:l6,onumber:i6,optional:n6,ostring:o6,pipeline:a6,preprocess:s6,promise:t6,record:K5,set:X5,strictObject:V5,string:Ke,symbol:L5,transformer:qS,tuple:q5,undefined:F5,union:H5,unknown:B5,void:z5,NEVER:d6,ZodIssueCode:H,quotelessJson:c5,ZodError:nr}),u6="Label",XE=h.forwardRef((t,e)=>o.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));XE.displayName=u6;var JE=XE;const f6=Mi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=h.forwardRef(({className:t,...e},n)=>o.jsx(JE,{ref:n,className:U(f6(),t),...e}));ot.displayName=JE.displayName;const An=VU,QE=h.createContext({}),he=({...t})=>o.jsx(QE.Provider,{value:{name:t.name},children:o.jsx(qU,{...t})}),rp=()=>{const t=h.useContext(QE),e=h.useContext(eT),{getFieldState:n,formState:r}=Mu(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},eT=h.createContext({}),me=h.forwardRef(({className:t,...e},n)=>{const r=h.useId();return o.jsx(eT.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:U("space-y-2",t),...e})})});me.displayName="FormItem";const de=h.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=rp();return o.jsx(ot,{ref:n,className:U(r&&"text-destructive",t),htmlFor:s,...e})});de.displayName="FormLabel";const ye=h.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=rp();return o.jsx(Oi,{ref:e,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...t})});ye.displayName="FormControl";const It=h.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=rp();return o.jsx("p",{ref:n,id:r,className:U("text-sm text-muted-foreground",t),...e})});It.displayName="FormDescription";const Ee=h.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:a}=rp(),i=s?String((s==null?void 0:s.message)??""):e;return i?o.jsx("p",{ref:r,id:a,className:U("text-sm font-medium text-destructive",t),...n,children:i}):null});Ee.displayName="FormMessage";const De=h.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:U("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));De.displayName="Input";function KS(t,[e,n]){return Math.min(n,Math.max(e,t))}var h6=h.createContext(void 0);function sp(t){const e=h.useContext(h6);return t||e||"ltr"}const m6=["top","right","bottom","left"],So=Math.min,Jn=Math.max,tm=Math.round,Tf=Math.floor,Ss=t=>({x:t,y:t}),p6={left:"right",right:"left",bottom:"top",top:"bottom"},g6={start:"end",end:"start"};function Qv(t,e,n){return Jn(t,So(e,n))}function xa(t,e){return typeof t=="function"?t(e):t}function wa(t){return t.split("-")[0]}function wc(t){return t.split("-")[1]}function db(t){return t==="x"?"y":"x"}function ub(t){return t==="y"?"height":"width"}function _o(t){return["top","bottom"].includes(wa(t))?"y":"x"}function fb(t){return db(_o(t))}function y6(t,e,n){n===void 0&&(n=!1);const r=wc(t),s=fb(t),a=ub(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(i=nm(i)),[i,nm(i)]}function v6(t){const e=nm(t);return[ex(t),e,ex(e)]}function ex(t){return t.replace(/start|end/g,e=>g6[e])}function x6(t,e,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?a:i;default:return[]}}function w6(t,e,n,r){const s=wc(t);let a=x6(wa(t),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),e&&(a=a.concat(a.map(ex)))),a}function nm(t){return t.replace(/left|right|bottom|top/g,e=>p6[e])}function b6(t){return{top:0,right:0,bottom:0,left:0,...t}}function tT(t){return typeof t!="number"?b6(t):{top:t,right:t,bottom:t,left:t}}function rm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ZS(t,e,n){let{reference:r,floating:s}=t;const a=_o(e),i=fb(e),l=ub(i),c=wa(e),d=a==="y",f=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:r.y-s.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-s.width,y:u};break;default:p={x:r.x,y:r.y}}switch(wc(e)){case"start":p[i]-=m*(n&&d?-1:1);break;case"end":p[i]+=m*(n&&d?-1:1);break}return p}const j6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let d=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:u}=ZS(d,r,c),m=r,p={},g=0;for(let x=0;x<l.length;x++){const{name:y,fn:v}=l[x],{x:w,y:b,data:j,reset:_}=await v({x:f,y:u,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:d,platform:i,elements:{reference:t,floating:e}});f=w??f,u=b??u,p={...p,[y]:{...p[y],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:f,y:u}=ZS(d,m,c)),x=-1)}return{x:f,y:u,placement:m,strategy:s,middlewareData:p}};async function du(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=xa(e,t),g=tT(p),y=l[m?u==="floating"?"reference":"floating":u],v=rm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),w=u==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=rm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(v.top-_.top+g.top)/j.y,bottom:(_.bottom-v.bottom+g.bottom)/j.y,left:(v.left-_.left+g.left)/j.x,right:(_.right-v.right+g.right)/j.x}}const S6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=xa(t,e)||{};if(d==null)return{};const u=tT(f),m={x:n,y:r},p=fb(s),g=ub(p),x=await i.getDimensions(d),y=p==="y",v=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=a.reference[g]+a.reference[p]-m[p]-a.floating[g],_=m[p]-a.reference[p],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let S=N?N[b]:0;(!S||!await(i.isElement==null?void 0:i.isElement(N)))&&(S=l.floating[b]||a.floating[g]);const C=j/2-_/2,T=S/2-x[g]/2-1,k=So(u[v],T),E=So(u[w],T),O=k,P=S-x[g]-E,M=S/2-x[g]/2+C,L=Qv(O,M,P),F=!c.arrow&&wc(s)!=null&&M!==L&&a.reference[g]/2-(M<O?k:E)-x[g]/2<0,z=F?M<O?M-O:M-P:0;return{[p]:m[p]+z,data:{[p]:L,centerOffset:M-L-z,...F&&{alignmentOffset:z}},reset:F}}}),_6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=xa(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=wa(s),w=_o(l),b=wa(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(b||!x?[nm(l)]:v6(l)),N=g!=="none";!m&&N&&_.push(...w6(l,x,g,j));const S=[l,..._],C=await du(e,y),T=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&T.push(C[v]),u){const M=y6(s,i,j);T.push(C[M[0]],C[M[1]])}if(k=[...k,{placement:s,overflows:T}],!T.every(M=>M<=0)){var E,O;const M=(((E=a.flip)==null?void 0:E.index)||0)+1,L=S[M];if(L)return{data:{index:M,overflows:k},reset:{placement:L}};let F=(O=k.filter(z=>z.overflows[0]<=0).sort((z,R)=>z.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!F)switch(p){case"bestFit":{var P;const z=(P=k.filter(R=>{if(N){const $=_o(R.placement);return $===w||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,V)=>$+V,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:P[0];z&&(F=z);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function XS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function JS(t){return m6.some(e=>t[e]>=0)}const N6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=xa(t,e);switch(r){case"referenceHidden":{const a=await du(e,{...s,elementContext:"reference"}),i=XS(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:JS(i)}}}case"escaped":{const a=await du(e,{...s,altBoundary:!0}),i=XS(a,n.floating);return{data:{escapedOffsets:i,escaped:JS(i)}}}default:return{}}}}};async function C6(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=wa(n),l=wc(n),c=_o(n)==="y",d=["left","top"].includes(i)?-1:1,f=a&&c?-1:1,u=xa(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const k6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=e,c=await C6(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},E6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...c}=xa(t,e),d={x:n,y:r},f=await du(e,c),u=_o(wa(s)),m=db(u);let p=d[m],g=d[u];if(a){const y=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=p+f[y],b=p-f[v];p=Qv(w,p,b)}if(i){const y=u==="y"?"top":"left",v=u==="y"?"bottom":"right",w=g+f[y],b=g-f[v];g=Qv(w,g,b)}const x=l.fn({...e,[m]:p,[u]:g});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[u]:i}}}}}},T6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=xa(t,e),f={x:n,y:r},u=_o(s),m=db(u);let p=f[m],g=f[u];const x=xa(l,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",j=a.reference[m]-a.floating[b]+y.mainAxis,_=a.reference[m]+a.reference[b]-y.mainAxis;p<j?p=j:p>_&&(p=_)}if(d){var v,w;const b=m==="y"?"width":"height",j=["top","left"].includes(wa(s)),_=a.reference[u]-a.floating[b]+(j&&((v=i.offset)==null?void 0:v[u])||0)+(j?0:y.crossAxis),N=a.reference[u]+a.reference[b]+(j?0:((w=i.offset)==null?void 0:w[u])||0)-(j?y.crossAxis:0);g<_?g=_:g>N&&(g=N)}return{[m]:p,[u]:g}}}},P6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:i,elements:l}=e,{apply:c=()=>{},...d}=xa(t,e),f=await du(e,d),u=wa(s),m=wc(s),p=_o(s)==="y",{width:g,height:x}=a.floating;let y,v;u==="top"||u==="bottom"?(y=u,v=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=u,y=m==="end"?"top":"bottom");const w=x-f.top-f.bottom,b=g-f.left-f.right,j=So(x-f[y],w),_=So(g-f[v],b),N=!e.middlewareData.shift;let S=j,C=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),N&&!m){const k=Jn(f.left,0),E=Jn(f.right,0),O=Jn(f.top,0),P=Jn(f.bottom,0);p?C=g-2*(k!==0||E!==0?k+E:Jn(f.left,f.right)):S=x-2*(O!==0||P!==0?O+P:Jn(f.top,f.bottom))}await c({...e,availableWidth:C,availableHeight:S});const T=await i.getDimensions(l.floating);return g!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function ap(){return typeof window<"u"}function bc(t){return nT(t)?(t.nodeName||"").toLowerCase():"#document"}function rr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rs(t){var e;return(e=(nT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nT(t){return ap()?t instanceof Node||t instanceof rr(t).Node:!1}function Jr(t){return ap()?t instanceof Element||t instanceof rr(t).Element:!1}function As(t){return ap()?t instanceof HTMLElement||t instanceof rr(t).HTMLElement:!1}function QS(t){return!ap()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rr(t).ShadowRoot}function Iu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function A6(t){return["table","td","th"].includes(bc(t))}function op(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hb(t){const e=mb(),n=Jr(t)?Qr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function D6(t){let e=No(t);for(;As(e)&&!Gl(e);){if(hb(e))return e;if(op(e))return null;e=No(e)}return null}function mb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gl(t){return["html","body","#document"].includes(bc(t))}function Qr(t){return rr(t).getComputedStyle(t)}function ip(t){return Jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function No(t){if(bc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QS(t)&&t.host||Rs(t);return QS(e)?e.host:e}function rT(t){const e=No(t);return Gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:As(e)&&Iu(e)?e:rT(e)}function uu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=rT(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),i=rr(s);if(a){const l=tx(i);return e.concat(i,i.visualViewport||[],Iu(s)?s:[],l&&n?uu(l):[])}return e.concat(s,uu(s,[],n))}function tx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sT(t){const e=Qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=As(t),a=s?t.offsetWidth:n,i=s?t.offsetHeight:r,l=tm(n)!==a||tm(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function pb(t){return Jr(t)?t:t.contextElement}function Rl(t){const e=pb(t);if(!As(e))return Ss(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=sT(e);let i=(a?tm(n.width):n.width)/r,l=(a?tm(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const M6=Ss(0);function aT(t){const e=rr(t);return!mb()||!e.visualViewport?M6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rr(t)?!1:e}function _i(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=pb(t);let i=Ss(1);e&&(r?Jr(r)&&(i=Rl(r)):i=Rl(t));const l=O6(a,n,r)?aT(a):Ss(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,f=s.width/i.x,u=s.height/i.y;if(a){const m=rr(a),p=r&&Jr(r)?rr(r):r;let g=m,x=tx(g);for(;x&&r&&p!==g;){const y=Rl(x),v=x.getBoundingClientRect(),w=Qr(x),b=v.left+(x.clientLeft+parseFloat(w.paddingLeft))*y.x,j=v.top+(x.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,d*=y.y,f*=y.x,u*=y.y,c+=b,d+=j,g=rr(x),x=tx(g)}}return rm({width:f,height:u,x:c,y:d})}function gb(t,e){const n=ip(t).scrollLeft;return e?e.left+n:_i(Rs(t)).left+n}function oT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:gb(t,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function R6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",i=Rs(r),l=e?op(e.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Ss(1);const f=Ss(0),u=As(r);if((u||!u&&!a)&&((bc(r)!=="body"||Iu(i))&&(c=ip(r)),As(r))){const p=_i(r);d=Rl(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const m=i&&!u&&!a?oT(i,c,!0):Ss(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function I6(t){return Array.from(t.getClientRects())}function $6(t){const e=Rs(t),n=ip(t),r=t.ownerDocument.body,s=Jn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Jn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+gb(t);const l=-n.scrollTop;return Qr(r).direction==="rtl"&&(i+=Jn(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function L6(t,e){const n=rr(t),r=Rs(t),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=mb();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}function F6(t,e){const n=_i(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=As(t)?Rl(t):Ss(1),i=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,d=r*a.y;return{width:i,height:l,x:c,y:d}}function e_(t,e,n){let r;if(e==="viewport")r=L6(t,n);else if(e==="document")r=$6(Rs(t));else if(Jr(e))r=F6(e,n);else{const s=aT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rm(r)}function iT(t,e){const n=No(t);return n===e||!Jr(n)||Gl(n)?!1:Qr(n).position==="fixed"||iT(n,e)}function U6(t,e){const n=e.get(t);if(n)return n;let r=uu(t,[],!1).filter(l=>Jr(l)&&bc(l)!=="body"),s=null;const a=Qr(t).position==="fixed";let i=a?No(t):t;for(;Jr(i)&&!Gl(i);){const l=Qr(i),c=hb(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Iu(i)&&!c&&iT(t,i))?r=r.filter(f=>f!==i):s=l,i=No(i)}return e.set(t,r),r}function B6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?op(e)?[]:U6(e,this._c):[].concat(n),r],l=i[0],c=i.reduce((d,f)=>{const u=e_(e,f,s);return d.top=Jn(u.top,d.top),d.right=So(u.right,d.right),d.bottom=So(u.bottom,d.bottom),d.left=Jn(u.left,d.left),d},e_(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function W6(t){const{width:e,height:n}=sT(t);return{width:e,height:n}}function z6(t,e,n){const r=As(e),s=Rs(e),a=n==="fixed",i=_i(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Ss(0);if(r||!r&&!a)if((bc(e)!=="body"||Iu(s))&&(l=ip(e)),r){const m=_i(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=gb(s));const d=s&&!r&&!a?oT(s,l):Ss(0),f=i.left+l.scrollLeft-c.x-d.x,u=i.top+l.scrollTop-c.y-d.y;return{x:f,y:u,width:i.width,height:i.height}}function Gg(t){return Qr(t).position==="static"}function t_(t,e){if(!As(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rs(t)===n&&(n=n.ownerDocument.body),n}function lT(t,e){const n=rr(t);if(op(t))return n;if(!As(t)){let s=No(t);for(;s&&!Gl(s);){if(Jr(s)&&!Gg(s))return s;s=No(s)}return n}let r=t_(t,e);for(;r&&A6(r)&&Gg(r);)r=t_(r,e);return r&&Gl(r)&&Gg(r)&&!hb(r)?n:r||D6(t)||n}const V6=async function(t){const e=this.getOffsetParent||lT,n=this.getDimensions,r=await n(t.floating);return{reference:z6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function H6(t){return Qr(t).direction==="rtl"}const Y6={convertOffsetParentRelativeRectToViewportRelativeRect:R6,getDocumentElement:Rs,getClippingRect:B6,getOffsetParent:lT,getElementRects:V6,getClientRects:I6,getDimensions:W6,getScale:Rl,isElement:Jr,isRTL:H6};function cT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function G6(t,e){let n=null,r;const s=Rs(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:u,width:m,height:p}=d;if(l||e(),!m||!p)return;const g=Tf(u),x=Tf(s.clientWidth-(f+m)),y=Tf(s.clientHeight-(u+p)),v=Tf(f),b={rootMargin:-g+"px "+-x+"px "+-y+"px "+-v+"px",threshold:Jn(0,So(1,c))||1};let j=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!j)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!cT(d,t.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(t)}return i(!0),a}function yb(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=pb(t),f=s||a?[...d?uu(d):[],...uu(e)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const u=d&&l?G6(d,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),d&&!c&&p.observe(d),p.observe(e));let g,x=c?_i(t):null;c&&y();function y(){const v=_i(t);x&&!cT(x,v)&&n(),x=v,g=requestAnimationFrame(y)}return n(),()=>{var v;f.forEach(w=>{s&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),u==null||u(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const q6=k6,K6=E6,Z6=_6,X6=P6,J6=N6,n_=S6,Q6=T6,eB=(t,e,n)=>{const r=new Map,s={platform:Y6,...n},a={...s.platform,_c:r};return j6(t,e,{...s,platform:a})};var ch=typeof document<"u"?h.useLayoutEffect:h.useEffect;function sm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!sm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function dT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function r_(t,e){const n=dT(t);return Math.round(e*n)/n}function qg(t){const e=h.useRef(t);return ch(()=>{e.current=t}),e}function vb(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,u]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);sm(m,r)||p(r);const[g,x]=h.useState(null),[y,v]=h.useState(null),w=h.useCallback(R=>{R!==N.current&&(N.current=R,x(R))},[]),b=h.useCallback(R=>{R!==S.current&&(S.current=R,v(R))},[]),j=a||g,_=i||y,N=h.useRef(null),S=h.useRef(null),C=h.useRef(f),T=c!=null,k=qg(c),E=qg(s),O=qg(d),P=h.useCallback(()=>{if(!N.current||!S.current)return;const R={placement:e,strategy:n,middleware:m};E.current&&(R.platform=E.current),eB(N.current,S.current,R).then($=>{const V={...$,isPositioned:O.current!==!1};M.current&&!sm(C.current,V)&&(C.current=V,Sa.flushSync(()=>{u(V)}))})},[m,e,n,E,O]);ch(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[d]);const M=h.useRef(!1);ch(()=>(M.current=!0,()=>{M.current=!1}),[]),ch(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(k.current)return k.current(j,_,P);P()}},[j,_,P,k,T]);const L=h.useMemo(()=>({reference:N,floating:S,setReference:w,setFloating:b}),[w,b]),F=h.useMemo(()=>({reference:j,floating:_}),[j,_]),z=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!F.floating)return R;const $=r_(F.floating,f.x),V=r_(F.floating,f.y);return l?{...R,transform:"translate("+$+"px, "+V+"px)",...dT(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:V}},[n,l,F.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:P,refs:L,elements:F,floatingStyles:z}),[f,P,L,F,z])}const tB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?n_({element:r.current,padding:s}).fn(n):{}:r?n_({element:r,padding:s}).fn(n):{}}}},xb=(t,e)=>({...q6(t),options:[t,e]}),wb=(t,e)=>({...K6(t),options:[t,e]}),bb=(t,e)=>({...Q6(t),options:[t,e]}),jb=(t,e)=>({...Z6(t),options:[t,e]}),Sb=(t,e)=>({...X6(t),options:[t,e]}),_b=(t,e)=>({...J6(t),options:[t,e]}),Nb=(t,e)=>({...tB(t),options:[t,e]});var nB="Arrow",uT=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return o.jsx(Re.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});uT.displayName=nB;var rB=uT;function sB(t){const[e,n]=h.useState(void 0);return on(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Cb="Popper",[fT,lp]=ts(Cb),[aB,hT]=fT(Cb),mT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return o.jsx(aB,{scope:e,anchor:r,onAnchorChange:s,children:n})};mT.displayName=Cb;var pT="PopperAnchor",gT=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=hT(pT,n),i=h.useRef(null),l=st(e,i);return h.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(Re.div,{...s,ref:l})});gT.displayName=pT;var kb="PopperContent",[oB,iB]=fT(kb),yT=h.forwardRef((t,e)=>{var re,Ae,Ie,Le,Me,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=t,y=hT(kb,n),[v,w]=h.useState(null),b=st(e,tt=>w(tt)),[j,_]=h.useState(null),N=sB(j),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,T=r+(a!=="center"?"-"+a:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(d)?d:[d],O=E.length>0,P={padding:k,boundary:E.filter(cB),altBoundary:O},{refs:M,floatingStyles:L,placement:F,isPositioned:z,middlewareData:R}=vb({strategy:"fixed",placement:T,whileElementsMounted:(...tt)=>yb(...tt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[xb({mainAxis:s+C,alignmentAxis:i}),c&&wb({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?bb():void 0,...P}),c&&jb({...P}),Sb({...P,apply:({elements:tt,rects:fe,availableWidth:vn,availableHeight:xn})=>{const{width:ln,height:A}=fe.reference,I=tt.floating.style;I.setProperty("--radix-popper-available-width",`${vn}px`),I.setProperty("--radix-popper-available-height",`${xn}px`),I.setProperty("--radix-popper-anchor-width",`${ln}px`),I.setProperty("--radix-popper-anchor-height",`${A}px`)}}),j&&Nb({element:j,padding:l}),dB({arrowWidth:S,arrowHeight:C}),m&&_b({strategy:"referenceHidden",...P})]}),[$,V]=wT(F),Q=mn(g);on(()=>{z&&(Q==null||Q())},[z,Q]);const be=(re=R.arrow)==null?void 0:re.x,Ge=(Ae=R.arrow)==null?void 0:Ae.y,He=((Ie=R.arrow)==null?void 0:Ie.centerOffset)!==0,[pt,qe]=h.useState();return on(()=>{v&&qe(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[(Le=R.transformOrigin)==null?void 0:Le.x,(Me=R.transformOrigin)==null?void 0:Me.y].join(" "),...((ze=R.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(oB,{scope:n,placedSide:$,onArrowChange:_,arrowX:be,arrowY:Ge,shouldHideArrow:He,children:o.jsx(Re.div,{"data-side":$,"data-align":V,...x,ref:b,style:{...x.style,animation:z?void 0:"none"}})})})});yT.displayName=kb;var vT="PopperArrow",lB={top:"bottom",right:"left",bottom:"top",left:"right"},xT=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=iB(vT,r),i=lB[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(rB,{...s,ref:n,style:{...s.style,display:"block"}})})});xT.displayName=vT;function cB(t){return t!==null}var dB=t=>({name:"transformOrigin",options:t,fn(e){var y,v,w;const{placement:n,rects:r,middlewareData:s}=e,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,f]=wT(n),u={start:"0%",center:"50%",end:"100%"}[f],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=i?u:`${m}px`,x=`${-c}px`):d==="top"?(g=i?u:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=i?u:`${p}px`):d==="left"&&(g=`${r.floating.width+c}px`,x=i?u:`${p}px`),{data:{x:g,y:x}}}});function wT(t){const[e,n="center"]=t.split("-");return[e,n]}var bT=mT,jT=gT,ST=yT,_T=xT,NT=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),a=s.find(fB);if(a){const i=a.props.children,l=s.map(c=>c===a?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return o.jsx(nx,{...r,ref:e,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return o.jsx(nx,{...r,ref:e,children:n})});NT.displayName="Slot";var nx=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=mB(n),a=hB(r,n.props);return n.type!==h.Fragment&&(a.ref=e?Na(e,s):s),h.cloneElement(n,a)}return h.Children.count(n)>1?h.Children.only(null):null});nx.displayName="SlotClone";var uB=({children:t})=>o.jsx(o.Fragment,{children:t});function fB(t){return h.isValidElement(t)&&t.type===uB}function hB(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function mB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pB(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gB=[" ","Enter","ArrowUp","ArrowDown"],yB=[" ","Enter"],$u="Select",[cp,dp,vB]=Nu($u),[jc,dae]=ts($u,[vB,lp]),up=lp(),[xB,Oo]=jc($u),[wB,bB]=jc($u),CT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:u,disabled:m,required:p,form:g}=t,x=up(e),[y,v]=h.useState(null),[w,b]=h.useState(null),[j,_]=h.useState(!1),N=sp(d),[S=!1,C]=ya({prop:r,defaultProp:s,onChange:a}),[T,k]=ya({prop:i,defaultProp:l,onChange:c}),E=h.useRef(null),O=y?g||!!y.closest("form"):!0,[P,M]=h.useState(new Set),L=Array.from(P).map(F=>F.props.value).join(";");return o.jsx(bT,{...x,children:o.jsxs(xB,{required:p,scope:e,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Hr(),value:T,onValueChange:k,open:S,onOpenChange:C,dir:N,triggerPointerDownPosRef:E,disabled:m,children:[o.jsx(cp.Provider,{scope:e,children:o.jsx(wB,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(F=>{M(z=>new Set(z).add(F))},[]),onNativeOptionRemove:h.useCallback(F=>{M(z=>{const R=new Set(z);return R.delete(F),R})},[]),children:n})}),O?o.jsxs(XT,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:u,value:T,onChange:F=>k(F.target.value),disabled:m,form:g,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(P)]},L):null]})})};CT.displayName=$u;var kT="SelectTrigger",ET=h.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,a=up(n),i=Oo(kT,n),l=i.disabled||r,c=st(e,i.onTriggerChange),d=dp(n),f=h.useRef("touch"),[u,m,p]=JT(x=>{const y=d().filter(b=>!b.disabled),v=y.find(b=>b.value===i.value),w=QT(y,x,v);w!==void 0&&i.onValueChange(w.value)}),g=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(jT,{asChild:!0,...a,children:o.jsx(Re.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ZT(i.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&g(x)}),onPointerDown:ae(s.onPointerDown,x=>{f.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:ae(s.onKeyDown,x=>{const y=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&gB.includes(x.key)&&(g(),x.preventDefault())})})})});ET.displayName=kT;var TT="SelectValue",PT=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=t,c=Oo(TT,n),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,u=st(e,c.onValueNodeChange);return on(()=>{d(f)},[d,f]),o.jsx(Re.span,{...l,ref:u,style:{pointerEvents:"none"},children:ZT(c.value)?o.jsx(o.Fragment,{children:i}):a})});PT.displayName=TT;var jB="SelectIcon",AT=h.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Re.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});AT.displayName=jB;var SB="SelectPortal",DT=t=>o.jsx(ku,{asChild:!0,...t});DT.displayName=SB;var Ni="SelectContent",MT=h.forwardRef((t,e)=>{const n=Oo(Ni,t.__scopeSelect),[r,s]=h.useState();if(on(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Sa.createPortal(o.jsx(OT,{scope:t.__scopeSelect,children:o.jsx(cp.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),a):null}return o.jsx(RT,{...t,ref:e})});MT.displayName=Ni;var Rr=10,[OT,Ro]=jc(Ni),_B="SelectContentImpl",RT=h.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y,...v}=t,w=Oo(Ni,n),[b,j]=h.useState(null),[_,N]=h.useState(null),S=st(e,re=>j(re)),[C,T]=h.useState(null),[k,E]=h.useState(null),O=dp(n),[P,M]=h.useState(!1),L=h.useRef(!1);h.useEffect(()=>{if(b)return Zm(b)},[b]),Xw();const F=h.useCallback(re=>{const[Ae,...Ie]=O().map(ze=>ze.ref.current),[Le]=Ie.slice(-1),Me=document.activeElement;for(const ze of re)if(ze===Me||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Ae&&_&&(_.scrollTop=0),ze===Le&&_&&(_.scrollTop=_.scrollHeight),ze==null||ze.focus(),document.activeElement!==Me))return},[O,_]),z=h.useCallback(()=>F([C,b]),[F,C,b]);h.useEffect(()=>{P&&z()},[P,z]);const{onOpenChange:R,triggerPointerDownPosRef:$}=w;h.useEffect(()=>{if(b){let re={x:0,y:0};const Ae=Le=>{var Me,ze;re={x:Math.abs(Math.round(Le.pageX)-(((Me=$.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((ze=$.current)==null?void 0:ze.y)??0))}},Ie=Le=>{re.x<=10&&re.y<=10?Le.preventDefault():b.contains(Le.target)||R(!1),document.removeEventListener("pointermove",Ae),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[b,R,$]),h.useEffect(()=>{const re=()=>R(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[R]);const[V,Q]=JT(re=>{const Ae=O().filter(Me=>!Me.disabled),Ie=Ae.find(Me=>Me.ref.current===document.activeElement),Le=QT(Ae,re,Ie);Le&&setTimeout(()=>Le.ref.current.focus())}),be=h.useCallback((re,Ae,Ie)=>{const Le=!L.current&&!Ie;(w.value!==void 0&&w.value===Ae||Le)&&(T(re),Le&&(L.current=!0))},[w.value]),Ge=h.useCallback(()=>b==null?void 0:b.focus(),[b]),He=h.useCallback((re,Ae,Ie)=>{const Le=!L.current&&!Ie;(w.value!==void 0&&w.value===Ae||Le)&&E(re)},[w.value]),pt=r==="popper"?rx:IT,qe=pt===rx?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y}:{};return o.jsx(OT,{scope:n,content:b,viewport:_,onViewportChange:N,itemRefCallback:be,selectedItem:C,onItemLeave:Ge,itemTextRefCallback:He,focusSelectedItem:z,selectedItemText:k,position:r,isPositioned:P,searchRef:V,children:o.jsx(Tu,{as:NT,allowPinchZoom:!0,children:o.jsx(qm,{asChild:!0,trapped:w.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ae(s,re=>{var Ae;(Ae=w.trigger)==null||Ae.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(pt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:re=>re.preventDefault(),...v,...qe,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ae(v.onKeyDown,re=>{const Ae=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ae&&re.key.length===1&&Q(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Le=O().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Me=re.target,ze=Le.indexOf(Me);Le=Le.slice(ze+1)}setTimeout(()=>F(Le)),re.preventDefault()}})})})})})})});RT.displayName=_B;var NB="SelectItemAlignedPosition",IT=h.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,a=Oo(Ni,n),i=Ro(Ni,n),[l,c]=h.useState(null),[d,f]=h.useState(null),u=st(e,S=>f(S)),m=dp(n),p=h.useRef(!1),g=h.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=i,b=h.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&y&&v){const S=a.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(a.dir!=="rtl"){const Me=k.left-C.left,ze=T.left-Me,tt=S.left-ze,fe=S.width+tt,vn=Math.max(fe,C.width),xn=window.innerWidth-Rr,ln=KS(ze,[Rr,Math.max(Rr,xn-vn)]);l.style.minWidth=fe+"px",l.style.left=ln+"px"}else{const Me=C.right-k.right,ze=window.innerWidth-T.right-Me,tt=window.innerWidth-S.right-ze,fe=S.width+tt,vn=Math.max(fe,C.width),xn=window.innerWidth-Rr,ln=KS(ze,[Rr,Math.max(Rr,xn-vn)]);l.style.minWidth=fe+"px",l.style.right=ln+"px"}const E=m(),O=window.innerHeight-Rr*2,P=x.scrollHeight,M=window.getComputedStyle(d),L=parseInt(M.borderTopWidth,10),F=parseInt(M.paddingTop,10),z=parseInt(M.borderBottomWidth,10),R=parseInt(M.paddingBottom,10),$=L+F+P+R+z,V=Math.min(y.offsetHeight*5,$),Q=window.getComputedStyle(x),be=parseInt(Q.paddingTop,10),Ge=parseInt(Q.paddingBottom,10),He=S.top+S.height/2-Rr,pt=O-He,qe=y.offsetHeight/2,re=y.offsetTop+qe,Ae=L+F+re,Ie=$-Ae;if(Ae<=He){const Me=E.length>0&&y===E[E.length-1].ref.current;l.style.bottom="0px";const ze=d.clientHeight-x.offsetTop-x.offsetHeight,tt=Math.max(pt,qe+(Me?Ge:0)+ze+z),fe=Ae+tt;l.style.height=fe+"px"}else{const Me=E.length>0&&y===E[0].ref.current;l.style.top="0px";const tt=Math.max(He,L+x.offsetTop+(Me?be:0)+qe)+Ie;l.style.height=tt+"px",x.scrollTop=Ae-He+x.offsetTop}l.style.margin=`${Rr}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,d,x,y,v,a.dir,r]);on(()=>b(),[b]);const[j,_]=h.useState();on(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const N=h.useCallback(S=>{S&&g.current===!0&&(b(),w==null||w(),g.current=!1)},[b,w]);return o.jsx(kB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Re.div,{...s,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});IT.displayName=NB;var CB="SelectPopperPosition",rx=h.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rr,...a}=t,i=up(n);return o.jsx(ST,{...i,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rx.displayName=CB;var[kB,Eb]=jc(Ni,{}),sx="SelectViewport",$T=h.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,a=Ro(sx,n),i=Eb(sx,n),l=st(e,a.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(cp.Slot,{scope:n,children:o.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&u){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-Rr*2,x=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),v=Math.max(x,y);if(v<g){const w=v+p,b=Math.min(g,w),j=w-b;u.style.height=b+"px",u.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,u.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});$T.displayName=sx;var LT="SelectGroup",[EB,TB]=jc(LT),PB=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hr();return o.jsx(EB,{scope:n,id:s,children:o.jsx(Re.div,{role:"group","aria-labelledby":s,...r,ref:e})})});PB.displayName=LT;var FT="SelectLabel",UT=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=TB(FT,n);return o.jsx(Re.div,{id:s.id,...r,ref:e})});UT.displayName=FT;var am="SelectItem",[AB,BT]=jc(am),WT=h.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=t,l=Oo(am,n),c=Ro(am,n),d=l.value===r,[f,u]=h.useState(a??""),[m,p]=h.useState(!1),g=st(e,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,s)}),x=Hr(),y=h.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(AB,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:h.useCallback(w=>{u(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(cp.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(Re.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:ae(i.onFocus,()=>p(!0)),onBlur:ae(i.onBlur,()=>p(!1)),onClick:ae(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:ae(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:ae(i.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ae(i.onPointerMove,w=>{var b;y.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ae(i.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(yB.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});WT.displayName=am;var od="SelectItemText",zT=h.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...a}=t,i=Oo(od,n),l=Ro(od,n),c=BT(od,n),d=bB(od,n),[f,u]=h.useState(null),m=st(e,v=>u(v),c.onItemTextChange,v=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,v,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return on(()=>(x(g),()=>y(g)),[x,y,g]),o.jsxs(o.Fragment,{children:[o.jsx(Re.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Sa.createPortal(a.children,i.valueNode):null]})});zT.displayName=od;var VT="SelectItemIndicator",HT=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BT(VT,n).isSelected?o.jsx(Re.span,{"aria-hidden":!0,...r,ref:e}):null});HT.displayName=VT;var ax="SelectScrollUpButton",YT=h.forwardRef((t,e)=>{const n=Ro(ax,t.__scopeSelect),r=Eb(ax,t.__scopeSelect),[s,a]=h.useState(!1),i=st(e,r.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(qT,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YT.displayName=ax;var ox="SelectScrollDownButton",GT=h.forwardRef((t,e)=>{const n=Ro(ox,t.__scopeSelect),r=Eb(ox,t.__scopeSelect),[s,a]=h.useState(!1),i=st(e,r.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(qT,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});GT.displayName=ox;var qT=h.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,a=Ro("SelectScrollButton",n),i=h.useRef(null),l=dp(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),on(()=>{var f;const d=l().find(u=>u.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(Re.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ae(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),DB="SelectSeparator",KT=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Re.div,{"aria-hidden":!0,...r,ref:e})});KT.displayName=DB;var ix="SelectArrow",MB=h.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=up(n),a=Oo(ix,n),i=Ro(ix,n);return a.open&&i.position==="popper"?o.jsx(_T,{...s,...r,ref:e}):null});MB.displayName=ix;function ZT(t){return t===""||t===void 0}var XT=h.forwardRef((t,e)=>{const{value:n,...r}=t,s=h.useRef(null),a=st(e,s),i=pB(n);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&f){const u=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(u)}},[i,n]),o.jsx(Bm,{asChild:!0,children:o.jsx("select",{...r,ref:a,defaultValue:n})})});XT.displayName="BubbleSelect";function JT(t){const e=mn(t),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function QT(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let i=OB(t,Math.max(a,0));s.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function OB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var RB=CT,eP=ET,IB=PT,$B=AT,LB=DT,tP=MT,FB=$T,nP=UT,rP=WT,UB=zT,BB=HT,sP=YT,aP=GT,oP=KT;const br=RB,jr=IB,sr=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(eP,{ref:r,className:U("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx($B,{asChild:!0,children:o.jsx(Yw,{className:"h-4 w-4 opacity-50"})})]}));sr.displayName=eP.displayName;const iP=h.forwardRef(({className:t,...e},n)=>o.jsx(sP,{ref:n,className:U("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(vF,{className:"h-4 w-4"})}));iP.displayName=sP.displayName;const lP=h.forwardRef(({className:t,...e},n)=>o.jsx(aP,{ref:n,className:U("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Yw,{className:"h-4 w-4"})}));lP.displayName=aP.displayName;const ar=h.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(LB,{children:o.jsxs(tP,{ref:s,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(iP,{}),o.jsx(FB,{className:U("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(lP,{})]})}));ar.displayName=tP.displayName;const WB=h.forwardRef(({className:t,...e},n)=>o.jsx(nP,{ref:n,className:U("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));WB.displayName=nP.displayName;const $t=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(rP,{ref:r,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(BB,{children:o.jsx(Hw,{className:"h-4 w-4"})})}),o.jsx(UB,{children:e})]}));$t.displayName=rP.displayName;const zB=h.forwardRef(({className:t,...e},n)=>o.jsx(oP,{ref:n,className:U("-mx-1 my-1 h-px bg-muted",t),...e}));zB.displayName=oP.displayName;var VB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lu=VB.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function s_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function HB(...t){return e=>{let n=!1;const r=t.map(s=>{const a=s_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():s_(t[s],null)}}}}function Ii(...t){return h.useCallback(HB(...t),t)}var lx=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function YB(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var Fu=t=>{const{present:e,children:n}=t,r=GB(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=Ii(r.ref,qB(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};Fu.displayName="Presence";function GB(t){const[e,n]=h.useState(),r=h.useRef(null),s=h.useRef(t),a=h.useRef("none"),i=t?"mounted":"unmounted",[l,c]=YB(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Pf(r.current);a.current=l==="mounted"?d:"none"},[l]),lx(()=>{const d=r.current,f=s.current;if(f!==t){const m=a.current,p=Pf(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),lx(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,u=p=>{const x=Pf(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(a.current=Pf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Pf(t){return(t==null?void 0:t.animationName)||"none"}function qB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KB(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,ZB(s,...e)]}function ZB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Qo(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var XB=h.createContext(void 0);function JB(t){const e=h.useContext(XB);return t||e||"ltr"}function QB(t,[e,n]){return Math.min(n,Math.max(e,t))}function ui(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function eW(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var Tb="ScrollArea",[cP,uae]=KB(Tb),[tW,Pr]=cP(Tb),dP=h.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=t,[l,c]=h.useState(null),[d,f]=h.useState(null),[u,m]=h.useState(null),[p,g]=h.useState(null),[x,y]=h.useState(null),[v,w]=h.useState(0),[b,j]=h.useState(0),[_,N]=h.useState(!1),[S,C]=h.useState(!1),T=Ii(e,E=>c(E)),k=JB(s);return o.jsx(tW,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:f,content:u,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:w,onCornerHeightChange:j,children:o.jsx(Lu.div,{dir:k,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});dP.displayName=Tb;var uP="ScrollAreaViewport",fP=h.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=t,i=Pr(uP,n),l=h.useRef(null),c=Ii(e,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Lu.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});fP.displayName=uP;var Is="ScrollAreaScrollbar",Pb=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pr(Is,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=t.orientation==="horizontal";return h.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(nW,{...r,ref:e,forceMount:n}):s.type==="scroll"?o.jsx(rW,{...r,ref:e,forceMount:n}):s.type==="auto"?o.jsx(hP,{...r,ref:e,forceMount:n}):s.type==="always"?o.jsx(Ab,{...r,ref:e}):null});Pb.displayName=Is;var nW=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pr(Is,t.__scopeScrollArea),[a,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},f=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Fu,{present:n||a,children:o.jsx(hP,{"data-state":a?"visible":"hidden",...r,ref:e})})}),rW=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pr(Is,t.__scopeScrollArea),a=t.orientation==="horizontal",i=hp(()=>c("SCROLL_END"),100),[l,c]=eW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const d=s.viewport,f=a?"scrollLeft":"scrollTop";if(d){let u=d[f];const m=()=>{const p=d[f];u!==p&&(c("SCROLL"),i()),u=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(Fu,{present:n||l!=="hidden",children:o.jsx(Ab,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ui(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ui(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hP=h.forwardRef((t,e)=>{const n=Pr(Is,t.__scopeScrollArea),{forceMount:r,...s}=t,[a,i]=h.useState(!1),l=t.orientation==="horizontal",c=hp(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?d:f)}},10);return ql(n.viewport,c),ql(n.content,c),o.jsx(Fu,{present:r||a,children:o.jsx(Ab,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Ab=h.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Pr(Is,t.__scopeScrollArea),a=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=vP(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function u(m,p){return cW(m,i.current,l,p)}return n==="horizontal"?o.jsx(sW,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=a_(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=u(m,s.dir))}}):n==="vertical"?o.jsx(aW,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=a_(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=u(m))}}):null}),sW=h.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,a=Pr(Is,t.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Ii(e,c,a.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(pP,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fp(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+f.deltaX;t.onWheelScroll(m),wP(m,u)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:im(i.paddingLeft),paddingEnd:im(i.paddingRight)}})}})}),aW=h.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,a=Pr(Is,t.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),d=Ii(e,c,a.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(pP,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fp(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,u)=>{if(a.viewport){const m=a.viewport.scrollTop+f.deltaY;t.onWheelScroll(m),wP(m,u)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:im(i.paddingTop),paddingEnd:im(i.paddingBottom)}})}})}),[oW,mP]=cP(Is),pP=h.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:u,...m}=t,p=Pr(Is,n),[g,x]=h.useState(null),y=Ii(e,T=>x(T)),v=h.useRef(null),w=h.useRef(""),b=p.viewport,j=r.content-r.viewport,_=Qo(f),N=Qo(c),S=hp(u,10);function C(T){if(v.current){const k=T.clientX-v.current.left,E=T.clientY-v.current.top;d({x:k,y:E})}}return h.useEffect(()=>{const T=k=>{const E=k.target;(g==null?void 0:g.contains(E))&&_(k,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,g,j,_]),h.useEffect(N,[r,N]),ql(g,S),ql(p.content,S),o.jsx(oW,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:Qo(a),onThumbPointerUp:Qo(i),onThumbPositionChange:N,onThumbPointerDown:Qo(l),children:o.jsx(Lu.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:ui(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(T))}),onPointerMove:ui(t.onPointerMove,C),onPointerUp:ui(t.onPointerUp,T=>{const k=T.target;k.hasPointerCapture(T.pointerId)&&k.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),om="ScrollAreaThumb",gP=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=mP(om,t.__scopeScrollArea);return o.jsx(Fu,{present:n||s.hasThumb,children:o.jsx(iW,{ref:e,...r})})}),iW=h.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,a=Pr(om,n),i=mP(om,n),{onThumbPositionChange:l}=i,c=Ii(e,u=>i.onThumbChange(u)),d=h.useRef(void 0),f=hp(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(f(),!d.current){const p=dW(u,l);d.current=p,l()}};return l(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,f,l]),o.jsx(Lu.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ui(t.onPointerDownCapture,u=>{const p=u.target.getBoundingClientRect(),g=u.clientX-p.left,x=u.clientY-p.top;i.onThumbPointerDown({x:g,y:x})}),onPointerUp:ui(t.onPointerUp,i.onThumbPointerUp)})});gP.displayName=om;var Db="ScrollAreaCorner",yP=h.forwardRef((t,e)=>{const n=Pr(Db,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(lW,{...t,ref:e}):null});yP.displayName=Db;var lW=h.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Pr(Db,n),[a,i]=h.useState(0),[l,c]=h.useState(0),d=!!(a&&l);return ql(s.scrollbarX,()=>{var u;const f=((u=s.scrollbarX)==null?void 0:u.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),ql(s.scrollbarY,()=>{var u;const f=((u=s.scrollbarY)==null?void 0:u.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),d?o.jsx(Lu.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function im(t){return t?parseInt(t,10):0}function vP(t,e){const n=t/e;return isNaN(n)?0:n}function fp(t){const e=vP(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function cW(t,e,n,r="ltr"){const s=fp(n),a=s/2,i=e||a,l=s-i,c=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,u=r==="ltr"?[0,f]:[f*-1,0];return xP([c,d],u)(t)}function a_(t,e,n="ltr"){const r=fp(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,i=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],d=QB(t,c);return xP([0,i],[0,l])(d)}function xP(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function wP(t,e){return t>0&&t<e}var dW=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&e(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function hp(t,e){const n=Qo(t),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ql(t,e){const n=Qo(e);lx(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var bP=dP,uW=fP,fW=yP;const Ds=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(bP,{ref:r,className:U("relative overflow-hidden",t),...n,children:[o.jsx(uW,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(jP,{}),o.jsx(fW,{})]}));Ds.displayName=bP.displayName;const jP=h.forwardRef(({className:t,orientation:e="vertical",...n},r)=>o.jsx(Pb,{ref:r,orientation:e,className:U("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:o.jsx(gP,{className:"relative flex-1 rounded-full bg-border"})}));jP.displayName=Pb.displayName;var hW="Separator",o_="horizontal",mW=["horizontal","vertical"],SP=h.forwardRef((t,e)=>{const{decorative:n,orientation:r=o_,...s}=t,a=pW(r)?r:o_,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Re.div,{"data-orientation":a,...l,...s,ref:e})});SP.displayName=hW;function pW(t){return mW.includes(t)}var _P=SP;const Rn=h.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(_P,{ref:s,decorative:n,orientation:e,className:U("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Rn.displayName=_P.displayName;const gW=["January","February","March","April","May","June","July","August","September","October","November","December"];function yW({date:t,onDateChange:e,fromYear:n,toYear:r,className:s}){const[a,i]=h.useState(t?String(t.getDate()):""),[l,c]=h.useState(t?String(t.getMonth()):""),[d,f]=h.useState(t?String(t.getFullYear()):""),u=Array.from({length:r-n+1},(p,g)=>String(r-g)),m=(p,g)=>!p||!g?31:new Date(Number(p),Number(g)+1,0).getDate();return h.useEffect(()=>{const p=m(d,l);if(Number(a)>p)i(String(p));else if(a&&l&&d){const g=new Date(Number(d),Number(l),Number(a));isNaN(g.getTime())||g.getTime()!==(t==null?void 0:t.getTime())&&e(g)}else e(void 0)},[a,l,d,t,e]),o.jsxs("div",{className:U("grid grid-cols-3 gap-2",s),children:[o.jsxs(br,{value:a,onValueChange:i,children:[o.jsx(sr,{children:o.jsx(jr,{placeholder:"Day"})}),o.jsx(ar,{children:Array.from({length:m(d,l)},(p,g)=>o.jsx($t,{value:String(g+1),children:g+1},g+1))})]}),o.jsxs(br,{value:l,onValueChange:c,children:[o.jsx(sr,{children:o.jsx(jr,{placeholder:"Month"})}),o.jsx(ar,{children:gW.map((p,g)=>o.jsx($t,{value:String(g),children:p},g))})]}),o.jsxs(br,{value:d,onValueChange:f,children:[o.jsx(sr,{children:o.jsx(jr,{placeholder:"Year"})}),o.jsx(ar,{children:u.map(p=>o.jsx($t,{value:p,children:p},p))})]})]})}const no=["Nursery","Reception","Year 1","Year 2","Year 3","Year 4","Year 5","Year 6"],vW=t=>yn({name:Ke().min(2,{message:t.name_message}),email:Ke().email({message:t.email_message}),phone:Ke().optional(),relationship:Ke().min(2,{message:t.relationship_message})}),xW=t=>yn({parentId:Ke(),relationship:Ke().min(2,{message:t.relationship_message})}),wW=t=>yn({name:Ke().min(2,{message:t.child_name_message}),yearGroup:Ke({required_error:t.yearGroup_required_error}),dob:Ru().optional(),linkedParents:Si(xW(t)).default([]),newParents:Si(vW(t)).default([])}),bW={en:{formSchema:{name_message:"Name is required.",email_message:"A valid email is required.",relationship_message:"Relationship is required.",child_name_message:"Child's name must be at least 2 characters.",yearGroup_required_error:"Please select a year group."},childDetails:"Child's Details",fullName:"Full Name",fullNamePlaceholder:"e.g., Tom Jones",yearGroup:"Year Group",yearGroupPlaceholder:"Select a year group",dob:"Date of Birth",parents:"Parents/Guardians",linkExisting:"Link Existing Parents",linkExistingPlaceholder:"Search for existing parents...",linkButton:"Link",linkedParents:"Linked Parents",relationshipPlaceholder:"Relationship, e.g., Mother",addNew:"Add New Parents",parentName:"Parent Name",parentEmail:"Parent Email",parentPhone:"Parent Phone (Optional)",parentPhonePlaceholder:"Mobile Number",childRelationship:"Relationship to Child",childRelationshipPlaceholder:"e.g., Mother, Guardian",addNewButton:"Add a New Parent",toastSuccess:{update:{title:"Success!",description:"Child has been updated."},add:{title:"Success!",description:"Child has been enrolled."}},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitUpdate:"Update Child",submitEnrol:"Enrol Child"},cy:{formSchema:{name_message:"Mae angen enw.",email_message:"Mae angen cyfeiriad e-bost dilys.",relationship_message:"Mae angen perthynas.",child_name_message:"Rhaid i enw'r plentyn fod o leiaf 2 nod.",yearGroup_required_error:"Dewiswch grp blwyddyn."},childDetails:"Manylion y Plentyn",fullName:"Enw Llawn",fullNamePlaceholder:"e.e., Tomos Jones",yearGroup:"Grp Blwyddyn",yearGroupPlaceholder:"Dewiswch grp blwyddyn",dob:"Dyddiad Geni",parents:"Rhieni/Gwarcheidwaid",linkExisting:"Cysylltu Rhieni Presennol",linkExistingPlaceholder:"Chwilio am rieni presennol...",linkButton:"Cysylltu",linkedParents:"Rhieni Cysylltiedig",relationshipPlaceholder:"Perthynas, e.e., Mam",addNew:"Ychwanegu Rhieni Newydd",parentName:"Enw'r Rhiant",parentEmail:"E-bost y Rhiant",parentPhone:"Ffn y Rhiant (Dewisol)",parentPhonePlaceholder:"Rhif Ffn Symudol",childRelationship:"Perthynas 'r Plentyn",childRelationshipPlaceholder:"e.e., Mam, Gwarcheidwad",addNewButton:"Ychwanegu Rhiant Newydd",toastSuccess:{update:{title:"Llwyddiant!",description:"Mae'r plentyn wedi'i ddiweddaru."},add:{title:"Llwyddiant!",description:"Mae'r plentyn wedi'i gofrestru."}},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Ceisiwch eto."},submitUpdate:"Diweddaru Plentyn",submitEnrol:"Cofrestru Plentyn"}};function jW({onSuccess:t,existingChild:e,allParents:n}){const{language:r}=Ce(),s=bW[r],{toast:a}=dt(),[i,l]=h.useState(!1),[c,d]=h.useState(""),f=new Date().getFullYear(),u=Tn({resolver:Pn(wW(s.formSchema)),defaultValues:{name:"",yearGroup:"",linkedParents:[],newParents:[]}}),{fields:m,append:p,remove:g}=Gv({control:u.control,name:"newParents"}),{fields:x,replace:y}=Gv({control:u.control,name:"linkedParents"});h.useEffect(()=>{e?u.reset({name:e.name,yearGroup:e.yearGroup,dob:e.dob?new Date(e.dob):void 0,linkedParents:e.linkedParents||[],newParents:[]}):u.reset({name:"",yearGroup:"",dob:void 0,linkedParents:[],newParents:[]})},[e,u]);const v=async j=>{var _;l(!0);try{const N=[...j.linkedParents];for(const C of j.newParents){const{relationship:T,...k}=C,E=await J.addParent(k);N.push({parentId:E,relationship:T})}const S={name:j.name,yearGroup:j.yearGroup,dob:(_=j.dob)==null?void 0:_.toISOString(),linkedParents:N};e?(await J.updateChild(e.id,S),a(s.toastSuccess.update)):(await J.addChild(S),a(s.toastSuccess.add)),t()}catch(N){console.error("Error submitting form:",N),a(s.toastError)}finally{l(!1)}},w=n.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.email.toLowerCase().includes(c.toLowerCase())),b=new Set(u.watch("linkedParents").map(j=>j.parentId));return o.jsx(Ds,{className:"max-h-[80vh]",children:o.jsx(An,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-6 pt-2 pb-6 px-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:s.childDetails}),o.jsxs("div",{className:"space-y-4 mt-2",children:[o.jsx(he,{control:u.control,name:"name",render:({field:j})=>o.jsxs(me,{children:[o.jsx(de,{children:s.fullName}),o.jsx(ye,{children:o.jsx(De,{placeholder:s.fullNamePlaceholder,...j})}),o.jsx(Ee,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[o.jsx(he,{control:u.control,name:"yearGroup",render:({field:j})=>o.jsxs(me,{children:[o.jsx(de,{children:s.yearGroup}),o.jsxs(br,{onValueChange:j.onChange,defaultValue:j.value,children:[o.jsx(ye,{children:o.jsx(sr,{children:o.jsx(jr,{placeholder:s.yearGroupPlaceholder})})}),o.jsx(ar,{children:no.map(_=>o.jsx($t,{value:_,children:_},_))})]}),o.jsx(Ee,{})]})}),o.jsx(he,{control:u.control,name:"dob",render:({field:j})=>o.jsxs(me,{children:[o.jsx(de,{children:s.dob}),o.jsx(ye,{children:o.jsx(yW,{date:j.value,onDateChange:j.onChange,fromYear:f-12,toYear:f-3})}),o.jsx(Ee,{})]})})]})]})]}),o.jsx(Rn,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:s.parents}),o.jsxs("div",{className:"space-y-4 mt-2",children:[o.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[o.jsx(de,{children:s.linkExisting}),o.jsx(De,{placeholder:s.linkExistingPlaceholder,value:c,onChange:j=>d(j.target.value),className:"mb-2"}),o.jsx(Ds,{className:"h-32 w-full",children:o.jsx("div",{className:"pr-4",children:w.filter(j=>!b.has(j.id)).map(j=>o.jsxs("div",{className:"flex items-center justify-between p-2",children:[o.jsxs("span",{className:"text-sm",children:[j.name," (",j.email,")"]}),o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{const _=u.getValues("linkedParents");y([..._,{parentId:j.id,relationship:""}])},children:s.linkButton})]},j.id))})})]}),x.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(de,{children:s.linkedParents}),x.map((j,_)=>{var S,C,T;const N=n.find(k=>k.id===j.parentId);return o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md",children:[o.jsx("span",{className:"flex-grow text-sm font-medium",children:N==null?void 0:N.name}),o.jsx(he,{control:u.control,name:`linkedParents.${_}.relationship`,render:({field:k})=>o.jsx(me,{children:o.jsx(ye,{children:o.jsx(De,{...k,placeholder:s.relationshipPlaceholder})})})}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>{const k=u.getValues("linkedParents");y(k.filter((E,O)=>O!==_))},children:o.jsx(ns,{className:"h-4 w-4"})}),o.jsx(Ee,{children:(T=(C=(S=u.formState.errors.linkedParents)==null?void 0:S[_])==null?void 0:C.relationship)==null?void 0:T.message})]},j.id)})]}),o.jsx(Rn,{}),o.jsxs("div",{children:[o.jsx(de,{children:s.addNew}),o.jsx("div",{className:"space-y-4 mt-2",children:m.map((j,_)=>o.jsxs("div",{className:"p-4 border rounded-lg space-y-4 relative",children:[o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>g(_),children:o.jsx(LF,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx(he,{control:u.control,name:`newParents.${_}.name`,render:({field:N})=>o.jsxs(me,{children:[o.jsx(de,{children:s.parentName}),o.jsx(ye,{children:o.jsx(De,{...N,placeholder:s.fullNamePlaceholder})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:u.control,name:`newParents.${_}.email`,render:({field:N})=>o.jsxs(me,{children:[o.jsx(de,{children:s.parentEmail}),o.jsx(ye,{children:o.jsx(De,{...N,placeholder:"email@example.com",type:"email"})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:u.control,name:`newParents.${_}.phone`,render:({field:N})=>o.jsxs(me,{children:[o.jsx(de,{children:s.parentPhone}),o.jsx(ye,{children:o.jsx(De,{...N,placeholder:s.parentPhonePlaceholder,type:"tel"})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:u.control,name:`newParents.${_}.relationship`,render:({field:N})=>o.jsxs(me,{children:[o.jsx(de,{children:s.childRelationship}),o.jsx(ye,{children:o.jsx(De,{...N,placeholder:s.childRelationshipPlaceholder})}),o.jsx(Ee,{})]})})]},j.id))}),o.jsxs(W,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>p({name:"",email:"",phone:"",relationship:""}),children:[o.jsx(Es,{className:"mr-2 h-4 w-4"}),s.addNewButton]})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4 border-t sticky bottom-0 bg-background z-10",children:o.jsxs(W,{type:"submit",disabled:i,children:[i&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e?s.submitUpdate:s.submitEnrol]})})]})})})}const SW=t=>t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),_W=[{title_en:"School Closed due to Heavy Snow",body_en:"<p>Due to the adverse weather conditions and heavy snowfall overnight, Maes Y Morfa Primary School will be closed today, <strong>Friday, 12th January 2024</strong>. The safety of our pupils and staff is our utmost priority. We will provide updates on the school's reopening as soon as possible. Please check back for more information. Stay warm and safe.</p>",category:"Urgent",isUrgent:!0},{title_en:"Annual Summer Fete - Save the Date!",body_en:"<p>Get ready for a day of fun, games, and community spirit! Our annual Summer Fete will take place on <strong>Saturday, 22nd June 2024</strong> from 12 PM to 4 PM on the school grounds. Expect bouncy castles, face painting, a bake sale, and much more. All proceeds will go towards new playground equipment. We look forward to seeing you all there!</p>",category:"Event",isUrgent:!1},{title_en:"Parent-Teacher Meeting Schedule Now Available",body_en:"<p>The schedule for the upcoming Parent-Teacher meetings is now available. Meetings will be held from <strong>Monday, 26th February to Friday, 1st March 2024</strong>. Please log in to the Parent Portal to book your preferred time slot. This is a valuable opportunity to discuss your child's progress with their teacher.</p>",category:"General",isUrgent:!1},{title_en:"World Book Day Celebrations",body_en:"<p>On Thursday, 7th March, we will be celebrating World Book Day! Children are invited to come to school dressed as their favourite character from a book. We will have a special assembly, storytelling sessions, and a book swap. Let's celebrate the joy of reading together!</p>",category:"Event",isUrgent:!1}],NW=[{title_cy:"Ysgol ar Gau oherwydd Eira Trwm",body_cy:"<p>Oherwydd y tywydd garw a'r eira trwm dros nos, bydd Ysgol Gynradd Maes Y Morfa ar gau heddiw, <strong>dydd Gwener, 12fed Ionawr 2024</strong>. Mae diogelwch ein disgyblion a'n staff yn flaenoriaeth i ni. Byddwn yn darparu diweddariadau am ailagor yr ysgol cyn gynted  phosibl. Gwiriwch yn l am fwy o wybodaeth. Cadwch yn gynnes ac yn ddiogel.</p>"},{title_cy:"Ffair Haf Flynyddol - Cadwch y Dyddiad!",body_cy:"<p>Byddwch yn barod am ddiwrnod o hwyl, gemau, ac ysbryd cymunedol! Cynhelir ein Ffair Haf flynyddol ar <strong>ddydd Sadwrn, 22ain Mehefin 2024</strong> o 12 PM i 4 PM ar dir yr ysgol. Disgwyliwch gestyll bownsio, peintio wynebau, stondin gacennau, a llawer mwy. Bydd yr holl elw yn mynd tuag at offer newydd i'r iard chwarae. Edrychwn ymlaen at eich gweld chi yno!</p>"},{title_cy:"Amserlen Cyfarfodydd Rhieni ac Athrawon Nawr ar Gael",body_cy:"<p>Mae'r amserlen ar gyfer y cyfarfodydd Rhieni ac Athrawon sydd i ddod nawr ar gael. Cynhelir cyfarfodydd o <strong>ddydd Llun, 26ain Chwefror i ddydd Gwener, 1af Mawrth 2024</strong>. Mewngofnodwch i'r Porth Rieni i archebu eich slot amser dewisol. Mae hwn yn gyfle gwerthfawr i drafod cynnydd eich plentyn gyda'u hathro.</p>"},{title_cy:"Dathliadau Diwrnod y Llyfr",body_cy:"<p>Ar ddydd Iau, 7fed Mawrth, byddwn yn dathlu Diwrnod y Llyfr! Gwahoddir plant i ddod i'r ysgol wedi'u gwisgo fel eu hoff gymeriad o lyfr. Bydd gennym wasanaeth arbennig, sesiynau adrodd straeon, a chyfnewid llyfrau. Dewch i ni ddathlu llawenydd darllen gyda'n gilydd!</p>"}],mp=_W.map((t,e)=>{const n=NW[e],r=new Date;return r.setDate(r.getDate()-(e*10+5)),{id:`news_${e+1}`,slug:SW(t.title_en),title_en:t.title_en,title_cy:n.title_cy,body_en:t.body_en,body_cy:n.body_cy,date:r.toISOString(),category:t.category,isUrgent:t.isUrgent,attachments:[],published:!0,createdBy:"admin@morfa.sch.uk",lastEdited:new Date().toISOString()}}),Ko=(t,e=0,n=0)=>{const r=new Date;return r.setDate(r.getDate()+t),r.setHours(e,n,0,0),r.toISOString()},CW=[{title_en:"Autumn Half Term",title_cy:"Gwyliau Hanner Tymor yr Hydref",start:"2024-10-28",end:"2024-11-01",tag:"Holiday"},{title_en:"Christmas Holidays",title_cy:"Gwyliau'r Nadolig",start:"2024-12-23",end:"2025-01-03",tag:"Holiday"},{title_en:"Spring Half Term",title_cy:"Gwyliau Hanner Tymor y Gwanwyn",start:"2025-02-17",end:"2025-02-21",tag:"Holiday"},{title_en:"Easter Holidays",title_cy:"Gwyliau'r Pasg",start:"2025-04-07",end:"2025-04-21",tag:"Holiday"},{title_en:"Summer Half Term",title_cy:"Gwyliau Hanner Tymor yr Haf",start:"2025-05-26",end:"2025-05-30",tag:"Holiday"},{title_en:"Summer Holidays",title_cy:"Gwyliau'r Haf",start:"2025-07-22",end:"2025-08-31",tag:"Holiday"}],kW=[{title_en:"INSET Day - Staff Training",title_cy:"Diwrnod HMS - Hyfforddiant Staff",start:Ko(30),tag:"INSET"},{title_en:"INSET Day - Staff Training",title_cy:"Diwrnod HMS - Hyfforddiant Staff",start:"2025-01-06",tag:"INSET"},{title_en:"INSET Day - Staff Training",title_cy:"Diwrnod HMS - Hyfforddiant Staff",start:"2025-04-22",tag:"INSET"}],EW=[{title_en:"Year 6 Trip to Big Pit",title_cy:"Taith Blwyddyn 6 i'r Big Pit",description_en:"Year 6 pupils will be visiting the Big Pit National Coal Museum. Please ensure permission slips are returned by Friday.",description_cy:"Bydd disgyblion Blwyddyn 6 yn ymweld ag Amgueddfa Lofaol Genedlaethol Cymru. Sicrhewch fod slipiau caniatd yn cael eu dychwelyd erbyn dydd Gwener.",start:Ko(5,9,0),end:Ko(5,15,30),tags:["Trip"],relevantTo:["Year 6"],attachments:[{name:"Big Pit Letter.pdf",url:"#",type:"pdf"}]},{title_en:"Parents Evening - Autumn Term",title_cy:"Noson Rieni - Tymor yr Hydref",description_en:"Book your appointment online to discuss your child's progress.",description_cy:"Archebwch eich apwyntiad ar-lein i drafod cynnydd eich plentyn.",start:Ko(12,16,0),end:Ko(12,19,0),tags:["Parents Evening"],relevantTo:["All"],attachments:[]},{title_en:"Christmas Concert",title_cy:"Cyngerdd Nadolig",description_en:"Join us for an evening of festive songs and performances from the children.",description_cy:"Ymunwch  ni am noson o ganeuon a pherfformiadau Nadoligaidd gan y plant.",start:Ko(22,18,0),end:Ko(22,19,30),tags:["Event"],relevantTo:["All"],attachments:[]}],TW=[...CW.map((t,e)=>({id:`holiday_${e}`,...t,start:t.start,end:t.end,allDay:!0,tags:[t.tag],relevantTo:["All"],attachments:[],published:!0})),...kW.map((t,e)=>({id:`inset_${e}`,...t,start:t.start,allDay:!0,tags:[t.tag],relevantTo:["All"],attachments:[],published:!0})),...EW.map((t,e)=>({id:`event_${e}`,...t,allDay:!1,published:!0}))],Sd=TW.sort((t,e)=>new Date(t.start).getTime()-new Date(e.start).getTime()),fu=[{id:"child_1",name:"Charlie K.",yearGroup:"Year 2",attendance:"98%",teacher:"Mr. Evans",valuesAwardCount:3},{id:"child_2",name:"Sophie K.",yearGroup:"Year 5",attendance:"99%",teacher:"Ms. Hughes",valuesAwardCount:5}],cx=fu.map(t=>t.yearGroup),Yc=["Rhys Williams","Ffion Davies","Owain Evans","Carys Jones","Tomos Roberts","Seren Thomas","Gethin Morgan","Lowri Phillips","Ieuan Hughes","Nia Jenkins","John Smith","Emily Johnson","Michael Brown","Sarah Davis","David Wilson","Jennifer Martinez","Chris Taylor","Jessica Anderson","Daniel Garcia","Laura Rodriguez"],i_=["Dylan","Megan","Evan","Bethan","Harri","Mali","Jac","Elin","Rhys","Cadi","Liam","Olivia","Noah","Emma","Oliver","Ava","Elijah","Charlotte","William","Sophia","James","Amelia","Benjamin","Mia","Lucas","Harper","Henry","Evelyn","Alexander","Abigail","Michael","Emily","Ethan","Elizabeth","Daniel","Mila","Matthew","Ella","Aiden","Avery","David","Sofia","Joseph","Camila","Samuel","Aria","Jackson","Scarlett","John","Victoria","Jonathan","Madison","Caleb","Luna","Joshua","Grace","Chloe","Ryan","Penelope"];function PW(t){return`0${77009e5+t}`}const AW=()=>{const t=[];for(let r=0;r<Yc.length;r++)t.push({id:`mock_parent_${r+1}`,name:Yc[r],email:`${Yc[r].toLowerCase().replace(" ",".")}@example.com`,phone:PW(r)});const e=["Nursery","Reception","Year 1","Year 2","Year 3","Year 4","Year 5","Year 6"],n=[];for(let r=0;r<i_.length;r++){const s=Math.random()>.3?1:2,a=[],i=[...t.map(c=>c.id)],l=["Mother","Father","Guardian","Grandmother","Grandfather"];for(let c=0;c<s;c++)if(i.length>0){const d=Math.floor(Math.random()*i.length),f=i.splice(d,1)[0];a.push({parentId:f,relationship:l[c%l.length]})}n.push({id:`mock_child_${r+1}`,name:`${i_[r]} ${Yc[r%Yc.length].split(" ")[1]}`,yearGroup:e[r%e.length],linkedParents:a})}return{mockParents:t,mockChildren:n}};let er=[],Gr=[],Sr=[],qr=[],en=[],_r=[],Kr=[],Co=[],ba=[],l_=!1;const ke=()=>{if(l_)return;er=mp.map((n,r)=>({...n,id:`mock_news_${r}`})),Gr=Sd.map((n,r)=>({...n,id:`mock_cal_${r}`}));const{mockParents:t,mockChildren:e}=AW();qr=t,en=e,Sr=[{id:"1",name:"Jane Morgan",role:"Headteacher",team:"Leadership Team",email:"jane.morgan@example.com",userId:"mock-admin-id-1",bio:"Jane has been leading Maes Y Morfa for over 8 years, bringing a passion for bilingual education and community engagement. She holds a Masters in Educational Leadership from Cardiff University."},{id:"2",name:"Alex Evans",role:"Deputy Head",team:"Leadership Team",email:"alex.evans@example.com",bio:"Alex supports the headteacher in strategic planning and curriculum development. With 15 years of teaching experience, he specializes in mathematics and STEM education."},{id:"3",name:"Ceri Lloyd",role:"SENCo",team:"Leadership Team",email:"ceri.lloyd@example.com",bio:"Ceri is our Special Educational Needs Coordinator, ensuring every child receives the support they need to thrive. She has extensive training in autism spectrum support and dyslexia intervention."},{id:"4",name:"David Williams",role:"Teacher",team:"Year 6",email:"david.williams@example.com",userId:"mock-teacher-id-1",bio:"David teaches Year 6 and is passionate about preparing children for their transition to secondary school. He runs the school football team and organizes annual residential trips."},{id:"5",name:"Sarah Davies",role:"Teacher",team:"Year 1",email:"sarah.davies@example.com",bio:"Sarah brings creativity and enthusiasm to Year 1, helping children develop their love of reading and writing. She specializes in phonics and early literacy development."},{id:"6",name:"Tomos Jones",role:"Teacher",team:"Year 2",email:"tomos.jones@example.com",bio:"Tomos is a Welsh-speaking teacher who helps children develop their bilingual skills. He coordinates the school eisteddfod and Welsh cultural activities."},{id:"7",name:"Emily Roberts",role:"Teacher",team:"Year 3",email:"emily.roberts@example.com",bio:"Emily teaches Year 3 and has a particular interest in science and outdoor learning. She runs the school garden club and environmental projects."},{id:"8",name:"Megan Phillips",role:"Teacher",team:"Year 4",email:"megan.phillips@example.com",bio:"Megan is passionate about history and geography, bringing the past to life for Year 4 pupils. She organizes educational visits to local historical sites."},{id:"9",name:"Owain Thomas",role:"Teacher",team:"Year 5",email:"owain.thomas@example.com",bio:"Owain teaches Year 5 and coordinates the school music program. He plays guitar and piano, and leads the school choir in local competitions."},{id:"10",name:"Ffion Hughes",role:"Teacher",team:"Nursery & Reception",email:"ffion.hughes@example.com",bio:"Ffion works with our youngest learners in Reception, creating a nurturing environment where children develop confidence and independence through play-based learning."},{id:"11",name:"Gareth Price",role:"Teacher",team:"Nursery & Reception",email:"gareth.price@example.com",bio:"Gareth teaches in our Nursery, helping children take their first steps in education. He has specialized training in early years development and forest school activities."},{id:"12",name:"Rhiannon Price",role:"Teaching Assistant",team:"Year 1",email:"rhiannon.price@example.com",bio:"Rhiannon supports learning in Year 1, with particular expertise in supporting children with additional learning needs. She has been with the school for 12 years."},{id:"13",name:"Bethan Morris",role:"Teaching Assistant",team:"Year 2",email:"bethan.morris@example.com",bio:"Bethan assists in Year 2 and runs the breakfast club. She is trained in first aid and helps coordinate school trips and activities."},{id:"14",name:"Carys Williams",role:"Teaching Assistant",team:"Year 3",email:"carys.williams@example.com",bio:"Carys works closely with Year 3 pupils, providing additional support in literacy and numeracy. She also helps run the after-school homework club."},{id:"15",name:"Gethin Davies",role:"Teaching Assistant",team:"Year 4",email:"gethin.davies@example.com",bio:"Gethin supports Year 4 learning and has a background in sports coaching. He assists with PE lessons and runs lunchtime sports activities."},{id:"16",name:"Lowri Evans",role:"Teaching Assistant",team:"Year 5",email:"lowri.evans@example.com",bio:"Lowri provides learning support in Year 5 and coordinates the school library. She has a passion for children's literature and runs storytelling sessions."},{id:"17",name:"Ieuan Roberts",role:"Teaching Assistant",team:"Year 6",email:"ieuan.roberts@example.com",bio:"Ieuan works with Year 6 pupils, providing additional support for those preparing for secondary school. He has experience in mentoring and pastoral care."},{id:"18",name:"Nia Jenkins",role:"Teaching Assistant",team:"Nursery & Reception",email:"nia.jenkins@example.com",bio:"Nia supports our youngest learners in the early years, helping with personal care and learning activities. She is trained in pediatric first aid."},{id:"19",name:"Mark Phillips",role:"Office Manager",team:"Support Staff",email:"mark.phillips@example.com",bio:"Mark manages the school office and handles administrative duties, parent communications, and financial records. He has been with the school for 6 years."},{id:"20",name:"Lisa Thomas",role:"School Secretary",team:"Support Staff",email:"lisa.thomas@example.com",bio:"Lisa is the friendly face that greets visitors and handles daily administrative tasks. She coordinates school events and maintains pupil records."},{id:"21",name:"Dafydd Morgan",role:"Caretaker",team:"Support Staff",email:"dafydd.morgan@example.com",bio:"Dafydd maintains our school buildings and grounds, ensuring a safe and welcoming environment for all. He has been caring for the school for over 15 years."},{id:"22",name:"Sian Edwards",role:"Kitchen Manager",team:"Support Staff",email:"sian.edwards@example.com",bio:"Sian leads our kitchen team, preparing nutritious meals for pupils and staff. She focuses on using local ingredients and accommodating dietary requirements."},{id:"23",name:"Rhys Williams",role:"Kitchen Assistant",team:"Support Staff",email:"rhys.williams@example.com",bio:"Rhys assists in the kitchen and helps serve meals to pupils. He enjoys interacting with the children and ensuring they have a positive dining experience."},{id:"24",name:"Cerys Jones",role:"Cleaner",team:"Support Staff",email:"cerys.jones@example.com",bio:"Cerys helps maintain the cleanliness and hygiene of our school facilities, working diligently to provide a healthy environment for learning."},{id:"25",name:"Huw Davies",role:"PE Teacher",team:"Support Staff",email:"huw.davies@example.com",bio:"Huw teaches physical education across all year groups and coordinates school sports teams. He has coaching qualifications in football, rugby, and athletics."},{id:"26",name:"Angharad Lloyd",role:"Music Teacher",team:"Support Staff",email:"angharad.lloyd@example.com",bio:"Angharad teaches music throughout the school and directs the school choir. She plays multiple instruments and organizes the annual school concert."},{id:"27",name:"Gareth Hughes",role:"ICT Coordinator",team:"Support Staff",email:"gareth.hughes@example.com",bio:"Gareth manages the school's technology resources and teaches computing skills. He ensures all staff and pupils can effectively use digital tools for learning."},{id:"28",name:"Mari Roberts",role:"Learning Support Assistant",team:"Support Staff",email:"mari.roberts@example.com",bio:"Mari provides specialized support for pupils with additional learning needs, working across different year groups as required."}],_r=[{id:"msg_1",type:"absence",subject:"Absence Report for Charlie K.",body:"Charlie is unwell today.",sender:{id:"parent-1",name:"Jane Doe",email:"parent@example.com",type:"parent"},recipient:{id:"admin-1",name:"Admin",email:"admin@example.com",type:"admin"},isReadByAdmin:!1,isReadByParent:!0,createdAt:new Date(Date.now()-864e5*2).toISOString(),threadId:"thread-1"},{id:"reply-1",type:"reply",subject:"Re: Absence Report for Charlie K.",body:"Thank you for letting us know. We hope Charlie feels better soon.",sender:{id:"admin-1",name:"Admin",email:"admin@example.com",type:"admin"},recipient:{id:"parent-1",name:"Jane Doe",email:"parent@example.com",type:"parent"},isReadByAdmin:!0,isReadByParent:!1,createdAt:new Date(Date.now()-864e5*1).toISOString(),threadId:"thread-1"},{id:"msg_2",type:"contact",subject:"Question about school trip",body:"When is the payment due?",sender:{id:"parent-2",name:"John Smith",email:"john@example.com",type:"parent"},recipient:{id:"admin-1",name:"Admin",email:"admin@example.com",type:"admin"},isReadByAdmin:!0,isReadByParent:!0,createdAt:new Date(Date.now()-864e5*5).toISOString(),threadId:"thread-2"}],Kr=[{id:"doc_1",name:"School Handbook 2024",url:"/documents/handbook-2024.pdf",type:"pdf",category:"General",uploadedAt:new Date().toISOString(),uploadedBy:"Admin"},{id:"doc_2",name:"Term Dates",url:"/documents/term-dates.pdf",type:"pdf",category:"Calendar",uploadedAt:new Date().toISOString(),uploadedBy:"Admin"}],Co=[{id:"photo_1",imageUrl:"/images/school-event-1.jpg",caption:"Sports Day 2024",yearGroups:["All"],uploadedAt:new Date().toISOString(),uploadedBy:"Teacher"}],ba=[{id:"notif-1",parentId:"parent-1",childId:"child_1",childName:"Charlie K.",teacherId:"mock-teacher-id-1",teacherName:"David Williams",type:"Achievement",notes:"Received a values certificate for kindness!",date:new Date(Date.now()-864e5*1).toISOString(),isRead:!1},{id:"notif-2",parentId:"parent-1",childId:"child_1",childName:"Charlie K.",teacherId:"mock-teacher-id-1",teacherName:"David Williams",type:"Incident",notes:"Bumped head in the playground.",treatmentGiven:"Cold compress applied.",date:new Date(Date.now()-864e5*3).toISOString(),isRead:!0},{id:"notif-3",parentId:"parent-1",childId:"child_1",childName:"Charlie K.",teacherId:"mock-teacher-id-1",teacherName:"Ms. Hughes",type:"Values Award",notes:"Values award for being helpful!",date:new Date(Date.now()-864e5*7).toISOString(),isRead:!0},{id:"notif-5",parentId:"parent-1",childId:"child_1",childName:"Charlie K.",teacherId:"mock-teacher-id-1",teacherName:"Mr. Evans",type:"Values Award",notes:"Values award for great listening!",date:new Date(Date.now()-864e5*14).toISOString(),isRead:!0},{id:"notif-6",parentId:"parent-1",childId:"child_1",childName:"Charlie K.",teacherId:"mock-teacher-id-1",teacherName:"Mr. Evans",type:"Values Award",notes:"Values award for excellent teamwork!",date:new Date(Date.now()-864e5*21).toISOString(),isRead:!0},{id:"notif-4",parentId:"parent-1",childId:"child_2",childName:"Sophie K.",teacherId:"mock-teacher-id-1",teacherName:"Ms. Hughes",type:"Values Award",notes:"Values award for great teamwork!",date:new Date(Date.now()-864e5*8).toISOString(),isRead:!0},{id:"notif-7",parentId:"parent-1",childId:"child_2",childName:"Sophie K.",teacherId:"mock-teacher-id-1",teacherName:"Ms. Hughes",type:"Values Award",notes:"Values award for trying her best!",date:new Date(Date.now()-864e5*30).toISOString(),isRead:!0},{id:"notif-8",parentId:"mock_parent_8",childId:"mock_child_8",childName:"Elin Evans",teacherId:"mock-teacher-id-1",teacherName:"David Williams",type:"Values Award",notes:"Award for being a kind friend.",date:new Date(Date.now()-864e5*4).toISOString(),isRead:!0},{id:"notif-9",parentId:"mock_parent_16",childId:"mock_child_16",childName:"Ava Davis",teacherId:"mock-teacher-id-1",teacherName:"David Williams",type:"Values Award",notes:"Award for excellent focus in class.",date:new Date(Date.now()-864e5*5).toISOString(),isRead:!0},{id:"notif-10",parentId:"mock_parent_16",childId:"mock_child_16",childName:"Ava Davis",teacherId:"mock-teacher-id-1",teacherName:"David Williams",type:"Values Award",notes:"Award for a brilliant science project.",date:new Date(Date.now()-864e5*20).toISOString(),isRead:!0},{id:"notif-11",parentId:"mock_parent_20",childId:"mock_child_24",childName:"Mia Rodriguez",teacherId:"mock-teacher-id-1",teacherName:"David Williams",type:"Values Award",notes:"Award for always trying her best.",date:new Date(Date.now()-864e5*6).toISOString(),isRead:!0}],l_=!0,console.log("Mock data stores initialized successfully")},DW=async()=>{ke();const t=[...er];return Promise.resolve(t)},MW=async t=>{ke(),t.isUrgent&&er.forEach(r=>{r.isUrgent&&(r.isUrgent=!1)});const e=`mock_news_${Date.now()}`,n={...t,id:e,slug:t.title_en.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),attachments:[],published:!0,createdBy:"Mock User",lastEdited:new Date().toISOString()};return er.push(n),console.log("Mock addNews:",t,"Added successfully"),Promise.resolve(e)},OW=async(t,e)=>{ke(),e.isUrgent&&er.forEach(r=>{r.id!==t&&r.isUrgent&&(r.isUrgent=!1)});const n=er.findIndex(r=>r.id===t);return n!==-1&&(er[n]={...er[n],...e,lastEdited:new Date().toISOString()},console.log(`Mock updateNews (id: ${t}):`,e,"Updated successfully")),Promise.resolve()},RW=async t=>{ke();const e=er.findIndex(n=>n.id===t);return e!==-1&&(er.splice(e,1),console.log(`Mock deleteNews (id: ${t}) - Deleted successfully`)),Promise.resolve()},IW=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedNews");const n=e?e.page+1:0,r=n*t,s=r+t,a=er.slice(r,s),i=s<er.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})},$W=async()=>{ke();const t=[...Gr];return Promise.resolve(t)},LW=async(t,e)=>{ke();const n=`mock_cal_${Date.now()}`,r={...t,id:n,attachments:[]};if(e){const s=`mock_news_${Date.now()}`;r.linkedNewsPostId=s,console.log(`Mock: Created bidirectional link - Calendar Event ${n} <-> News Post ${s}`),console.log(`Mock: News post would contain linkedCalendarEventId: ${n}`)}return Gr.push(r),console.log("Mock addCalendarEvent:",t,`Cross-post: ${e}`,"Added successfully"),Promise.resolve()},FW=async(t,e,n)=>{ke();const r=Gr.findIndex(s=>s.id===t);if(r!==-1){const s=Gr[r],a={...s,...e};if(n)if(s.linkedNewsPostId)console.log(`Mock: Updating linked news post ${s.linkedNewsPostId} with new event data`),console.log(`Mock: News post would maintain linkedCalendarEventId: ${t}`);else{const i=`mock_news_${Date.now()}`;a.linkedNewsPostId=i,console.log(`Mock: Created new bidirectional link - Calendar Event ${t} <-> News Post ${i}`),console.log(`Mock: News post would contain linkedCalendarEventId: ${t}`)}Gr[r]=a,console.log(`Mock updateCalendarEvent (id: ${t}):`,e,`Cross-post: ${n}`,"Updated successfully")}return Promise.resolve()},UW=async t=>{ke();const e=Gr.findIndex(n=>n.id===t);return e!==-1&&(Gr.splice(e,1),console.log(`Mock deleteCalendarEvent (id: ${t}) - Deleted successfully`)),Promise.resolve()},BW=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedCalendarEvents");const n=e?e.page+1:0,r=n*t,s=r+t,a=Gr.slice(r,s),i=s<Gr.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})},WW=async()=>(ke(),Promise.resolve([...Sr])),zW=async t=>{ke();const e=`staff_${Date.now()}`,n={...t,id:e};return Sr.push(n),console.log("Mock addStaffMember:",t,"Added successfully"),Promise.resolve(e)},VW=async(t,e)=>{ke();const n=Sr.findIndex(r=>r.id===t);return n!==-1&&(Sr[n]={...Sr[n],...e},console.log(`Mock updateStaffMember (id: ${t}):`,e,"Updated successfully")),Promise.resolve()},HW=async t=>{ke();const e=Sr.findIndex(n=>n.id===t);return e!==-1&&(Sr.splice(e,1),console.log(`Mock deleteStaffMember (id: ${t}) - Deleted successfully`)),Promise.resolve()},YW=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedStaff");const n=e?e.page+1:0,r=n*t,s=r+t,a=Sr.slice(r,s),i=s<Sr.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})},GW=async t=>{ke();const e=Sr.find(r=>r.userId===t);if(!e)return null;const n=en.filter(r=>r.yearGroup===e.team);return Promise.resolve({teacher:e,myClass:n})},qW=async()=>(ke(),Promise.resolve([...Kr])),KW=async t=>{ke();const e=`doc_${Date.now()}`,n={...t,id:e};return Kr.push(n),console.log("Mock addDocument:",t,"Added successfully"),Promise.resolve(e)},ZW=async(t,e)=>{ke();const n=Kr.findIndex(r=>r.id===t);return n!==-1&&(Kr[n]={...Kr[n],...e},console.log(`Mock updateDocument (id: ${t}):`,e,"Updated successfully")),Promise.resolve()},XW=async t=>{ke();const e=Kr.findIndex(n=>n.id===t);return e!==-1&&(Kr.splice(e,1),console.log(`Mock deleteDocument (id: ${t}) - Deleted successfully`)),Promise.resolve()},JW=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedDocuments");const n=e?e.page+1:0,r=n*t,s=r+t,a=Kr.slice(r,s),i=s<Kr.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})},QW=async()=>(ke(),Promise.resolve([...qr])),e8=async t=>{ke();const e=`parent_${Date.now()}`,n={...t,id:e};return qr.push(n),console.log("Mock addParent:",t,"Added successfully"),Promise.resolve(e)},t8=async(t,e)=>{ke();const n=qr.findIndex(r=>r.id===t);return n!==-1&&(qr[n]={...qr[n],...e},console.log(`Mock updateParent (id: ${t}):`,e,"Updated successfully")),Promise.resolve()},n8=async t=>{ke();const e=qr.findIndex(n=>n.id===t);return e!==-1&&(qr.splice(e,1),console.log(`Mock deleteParent (id: ${t}) - Deleted successfully`)),Promise.resolve()},r8=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedParents");const n=e?e.page+1:0,r=n*t,s=r+t,a=qr.slice(r,s),i=s<qr.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})},s8=async()=>(ke(),Promise.resolve([...en])),a8=async t=>(ke(),Promise.resolve(en.filter(e=>e.yearGroup===t))),o8=async t=>{ke();const e=`child_${Date.now()}`,n={...t,id:e};return en.push(n),console.log("Mock addChild:",t,"Added successfully"),Promise.resolve(e)},i8=async t=>(ke(),t.forEach(e=>{const n=`child_${Date.now()}_${Math.random()}`,r={...e,id:n};en.push(r)}),console.log("Mock bulkAddChildren:",t.length,"children added successfully"),Promise.resolve()),l8=async(t,e)=>{ke();const n=en.findIndex(r=>r.id===t);return n!==-1&&(en[n]={...en[n],...e},console.log(`Mock updateChild (id: ${t}):`,e,"Updated successfully")),Promise.resolve()},c8=async t=>{ke();const e=en.findIndex(n=>n.id===t);return e!==-1&&(en.splice(e,1),console.log(`Mock deleteChild (id: ${t}) - Deleted successfully`)),Promise.resolve()},d8=async()=>{ke(),console.log("Mock promoting all children...");const e=`Archived/Leavers ${new Date().getFullYear()+1}`;return en.forEach(n=>{const r=no.indexOf(n.yearGroup);n.yearGroup===no[no.length-1]?n.yearGroup=e:r>-1&&(n.yearGroup=no[r+1])}),console.log("Mock children promoted."),Promise.resolve()},u8=async(t,e)=>(ke(),t.forEach(n=>{const r=en.findIndex(s=>s.id===n);r!==-1&&(en[r]={...en[r],...e})}),console.log("Mock bulkUpdateChildren:",t.length,"children updated successfully"),Promise.resolve()),f8=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedChildren");const n=e?e.page+1:0,r=n*t,s=r+t,a=en.slice(r,s),i=s<en.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})};let NP={address:`Ysgol Maes Y Morfa,
Olive St,
Llanelli
SA15 2AP`,phone:"01554 772945",email:"admin@maesymorfa.cymru",facebookUrl:"https://facebook.com",twitterUrl:"https://twitter.com",instagramUrl:"",youtubeUrl:""};const h8=async()=>Promise.resolve({...NP}),m8=async t=>(Object.assign(NP,t),console.log("Mock updateSiteSettings:",t,"Updated successfully"),Promise.resolve());let _s=[],Ns=[];const ka=()=>{_s.length===0&&(_s=[{id:"1",date:"2024-01-15",meals:{breakfast:"Porridge with fruit",lunch:"Chicken curry with rice",snack:"Apple slices"}},{id:"2",date:"2024-01-16",meals:{breakfast:"Toast with jam",lunch:"Fish and chips",snack:"Yogurt"}}]),Ns.length===0&&(Ns=[{id:"1",weekStarting:"2024-01-15",meals:{monday:{breakfast:"Porridge",lunch:"Chicken curry",snack:"Apple"},tuesday:{breakfast:"Toast",lunch:"Fish & chips",snack:"Yogurt"},wednesday:{breakfast:"Cereal",lunch:"Pasta bolognese",snack:"Banana"},thursday:{breakfast:"Bagel",lunch:"Roast dinner",snack:"Crackers"},friday:{breakfast:"Pancakes",lunch:"Pizza",snack:"Fruit pot"}}}])},p8=async()=>(ka(),Promise.resolve([..._s])),g8=async()=>(ka(),Promise.resolve([...Ns])),y8=async t=>{ka();const e=`daily_menu_${Date.now()}`,n={...t,id:e};return _s.push(n),console.log("Mock addDailyMenu:",t,"Added successfully"),Promise.resolve(e)},v8=async t=>{ka();const e=`weekly_menu_${Date.now()}`,n={...t,id:e};return Ns.push(n),console.log("Mock addWeeklyMenu:",t,"Added successfully"),Promise.resolve(e)},x8=async(t,e)=>{ka();const n=_s.findIndex(r=>r.id===t);return n!==-1&&(_s[n]={..._s[n],...e},console.log(`Mock updateDailyMenu (id: ${t}):`,e,"Updated successfully")),Promise.resolve()};async function w8(t,e){if(ka(),typeof t=="string"){const n=t,r=e??{},s=Ns.findIndex(a=>a.id===n);s!==-1&&(Ns[s]={...Ns[s],...r},console.log(`Mock updateWeeklyMenu (id: ${n}):`,r,"Updated successfully"));return}else{const n=t;Mb=n;try{typeof window<"u"&&localStorage.setItem("mock_weekly_menu_settings",JSON.stringify(n))}catch{}console.log("Mock updateWeeklyMenu (settings):",n,"Updated successfully");return}}const b8=async t=>{ka();const e=_s.findIndex(n=>n.id===t);return e!==-1&&(_s.splice(e,1),console.log(`Mock deleteDailyMenu (id: ${t}) - Deleted successfully`)),Promise.resolve()},j8=async t=>{ka();const e=Ns.findIndex(n=>n.id===t);return e!==-1&&(Ns.splice(e,1),console.log(`Mock deleteWeeklyMenu (id: ${t}) - Deleted successfully`)),Promise.resolve()};let Mb={monday:{main:"Shepherd's Pie",alt:"Jacket Potato with Beans",dessert:"Apple Crumble"},tuesday:{main:"Chicken Curry",alt:"Vegetable Lasagne",dessert:"Fruit Salad"},wednesday:{main:"Roast Beef Dinner",alt:"Quorn Roast Dinner",dessert:"Chocolate Sponge"},thursday:{main:"Spaghetti Bolognese",alt:"Vegetable Stir Fry",dessert:"Yoghurt"},friday:{main:"Fish and Chips",alt:"Veggie Sausages",dessert:"Flapjack"}};try{if(typeof window<"u"){const t=localStorage.getItem("mock_weekly_menu_settings");if(t){const e=JSON.parse(t);e&&(Mb=e)}}}catch{}const S8=async()=>{try{if(typeof window<"u"){const t=localStorage.getItem("mock_weekly_menu_settings");if(t)return Promise.resolve(JSON.parse(t))}}catch{}return Promise.resolve(Mb)},_8=async t=>{ke();const e={...t,id:`inbox_${Date.now()}`};return _r.push(e),console.log("Mock addInboxMessage:",t,"Added successfully"),Promise.resolve(e.id)},N8=async()=>(ke(),Promise.resolve([..._r])),C8=async t=>(ke(),Promise.resolve(_r.filter(e=>{var n,r;return((n=e.recipient)==null?void 0:n.id)===t||((r=e.sender)==null?void 0:r.id)===t}))),k8=async(t,e)=>{ke();const n=_r.findIndex(r=>r.id===t);return n>-1&&(_r[n]={..._r[n],...e},console.log(`Mock updateInboxMessage (id: ${t}):`,e,"Updated successfully")),Promise.resolve()},E8=async t=>{ke();const e=_r.findIndex(n=>n.id===t);return e!==-1&&(_r.splice(e,1),console.log(`Mock deleteInboxMessage (id: ${t}) - Deleted successfully`)),Promise.resolve()},T8=async(t,e)=>(ke(),e==="admin"?Promise.resolve(_r.filter(n=>!n.isReadByAdmin).length):Promise.resolve(_r.filter(n=>{var r;return((r=n.recipient)==null?void 0:r.id)===t&&!n.isReadByParent}).length)),P8=async t=>{ke();const e={...t,id:`notif_${Date.now()}`};return ba.push(e),console.log("Mock addParentNotification:",t,"Added successfully"),Promise.resolve(e.id)},A8=async()=>(ke(),Promise.resolve([...ba])),D8=async t=>(ke(),Promise.resolve(ba.filter(e=>e.parentId===t))),M8=async t=>{ke();const e=ba.findIndex(n=>n.id===t);return e>-1&&(ba[e].isRead=!0,console.log(`Mock markNotificationAsRead (id: ${t}) - Marked as read`)),Promise.resolve()},O8=async t=>(ke(),Promise.resolve(ba.filter(e=>e.childId===t&&e.type==="Values Award").length)),R8=async t=>(ke(),Promise.resolve(ba.filter(e=>e.childId===t&&e.type==="Values Award"))),I8=async t=>{ke();const e=`photo_${Date.now()}`,n={...t,id:e};return Co.push(n),console.log("Mock addPhoto:",t,"Added successfully"),Promise.resolve(e)},$8=async t=>{ke();const e=Co.findIndex(n=>n.id===t);return e!==-1&&(Co.splice(e,1),console.log(`Mock deletePhoto (id: ${t}) - Deleted successfully`)),Promise.resolve()},L8=async(t=20,e)=>{ke(),console.log("Using mock getPaginatedPhotos");const n=e?e.page+1:0,r=n*t,s=r+t,a=Co.slice(r,s),i=s<Co.length?{page:n}:void 0;return Promise.resolve({data:a,lastDoc:i})},F8=async t=>(ke(),Promise.resolve(Co.filter(e=>e.yearGroups.includes("All")||e.yearGroups.some(n=>t.includes(n)))));let lm=[{id:"mock-admin-id-1",email:"main.admin@example.com",role:"admin",created_at:new Date(Date.now()-864e5*5).toISOString()},{id:"mock-teacher-id-1",email:"teacher@example.com",role:"teacher",created_at:new Date(Date.now()-864e5*4).toISOString()},{id:"mock-parent-id-1",email:"parent.one@example.com",role:"parent",created_at:new Date(Date.now()-864e5*3).toISOString()},{id:"mock-parent-id-2",email:"parent.two@example.com",role:"parent",created_at:new Date(Date.now()-864e5*2).toISOString()}];const U8=async()=>Promise.resolve(lm),B8=async(t,e)=>{console.log("Mock updateUserRole",t,e);const n=lm.findIndex(r=>r.id===t);n!==-1&&(lm[n].role=e)},W8=async(t,e)=>{console.log(`Mock: Creating user for ${t} with role ${e}`);const n={id:`mock-user-${Date.now()}`,email:t,aud:"authenticated",created_at:new Date().toISOString(),role:e};return lm.push({id:n.id,email:n.email,role:e,created_at:n.created_at}),Promise.resolve({user:n,data:{user:n}})},z8=async t=>{switch(ke(),ka(),t){case"children":return Promise.resolve(en.length);case"parents":return Promise.resolve(qr.length);case"documents":return Promise.resolve(Kr.length);case"staff":return Promise.resolve(Sr.length);case"photos":return Promise.resolve(Co.length);case"notifications":return Promise.resolve(ba.length);case"news":return Promise.resolve(er.length);case"calendar":return Promise.resolve(Gr.length);case"inbox":return Promise.resolve(_r.length);case"dailyMenus":return Promise.resolve(_s.length);case"weeklyMenus":return Promise.resolve(Ns.length);default:return Promise.resolve(0)}},V8=Object.freeze(Object.defineProperty({__proto__:null,addCalendarEvent:LW,addChild:o8,addDailyMenu:y8,addDocument:KW,addInboxMessage:_8,addNews:MW,addParent:e8,addParentNotification:P8,addPhoto:I8,addStaffMember:zW,addWeeklyMenu:v8,bulkAddChildren:i8,bulkUpdateChildren:u8,createUser:W8,deleteCalendarEvent:UW,deleteChild:c8,deleteDailyMenu:b8,deleteDocument:XW,deleteInboxMessage:E8,deleteNews:RW,deleteParent:n8,deletePhoto:$8,deleteStaffMember:HW,deleteWeeklyMenu:j8,getAwardsForChild:R8,getCalendarEvents:$W,getChildren:s8,getChildrenByYearGroup:a8,getCollectionCount:z8,getDailyMenus:p8,getDocuments:qW,getInboxMessages:N8,getInboxMessagesForUser:C8,getNews:DW,getNotificationsForParent:D8,getPaginatedCalendarEvents:BW,getPaginatedChildren:f8,getPaginatedDocuments:JW,getPaginatedNews:IW,getPaginatedParents:r8,getPaginatedPhotos:L8,getPaginatedStaff:YW,getParentNotifications:A8,getParents:QW,getPhotosForYearGroups:F8,getSiteSettings:h8,getStaff:WW,getTeacherAndClass:GW,getUnreadMessageCount:T8,getUsersWithRoles:U8,getValuesAwardCount:O8,getWeeklyMenu:S8,getWeeklyMenus:g8,markNotificationAsRead:M8,promoteAllChildren:d8,updateCalendarEvent:FW,updateChild:l8,updateDailyMenu:x8,updateDocument:ZW,updateInboxMessage:k8,updateNews:OW,updateParent:t8,updateSiteSettings:m8,updateStaffMember:VW,updateUserRole:B8,updateWeeklyMenu:w8},Symbol.toStringTag,{value:"Module"})),H8="modulepreload",Y8=function(t){return"/"+t},c_={},Uu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Y8(c),c in c_)return;c_[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":H8,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},G8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Uu(async()=>{const{default:r}=await Promise.resolve().then(()=>Sc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ob extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class q8 extends Ob{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d_ extends Ob{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u_ extends Ob{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dx||(dx={}));var K8=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class Z8{constructor(e,{headers:n={},customFetch:r,region:s=dx.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=G8(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return K8(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=i):typeof i=="string"?(l["Content-Type"]="text/plain",f=i):typeof FormData<"u"&&i instanceof FormData?f=i:(l["Content-Type"]="application/json",f=JSON.stringify(i)));const u=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(x=>{throw new q8(x)}),m=u.headers.get("x-relay-error");if(m&&m==="true")throw new d_(u);if(!u.ok)throw new u_(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield u.json():p==="application/octet-stream"?g=yield u.blob():p==="text/event-stream"?g=u:p==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null,response:u}}catch(s){return{data:null,error:s,response:s instanceof u_||s instanceof d_?s.context:void 0}}})}}var $n={},Rb={},pp={},Bu={},gp={},yp={},X8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kl=X8();const J8=Kl.fetch,CP=Kl.fetch.bind(Kl),kP=Kl.Headers,Q8=Kl.Request,ez=Kl.Response,Sc=Object.freeze(Object.defineProperty({__proto__:null,Headers:kP,Request:Q8,Response:ez,default:CP,fetch:J8},Symbol.toStringTag,{value:"Module"})),tz=Wx(Sc);var vp={};Object.defineProperty(vp,"__esModule",{value:!0});let nz=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vp.default=nz;var EP=Cr&&Cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yp,"__esModule",{value:!0});const rz=EP(tz),sz=EP(vp);let az=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=rz.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,d;let f=null,u=null,m=null,p=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?u=w:u=JSON.parse(w))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(f={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,p=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await a.text();try{f=JSON.parse(y),Array.isArray(f)&&a.status===404&&(u=[],f=null,p=200,g="OK")}catch{a.status===404&&y===""?(p=204,g="No Content"):f={message:y}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,p=200,g="OK"),f&&this.shouldThrowOnError)throw new sz.default(f)}return{error:f,data:u,count:m,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};yp.default=az;var oz=Cr&&Cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gp,"__esModule",{value:!0});const iz=oz(yp);let lz=class extends iz.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};gp.default=lz;var cz=Cr&&Cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bu,"__esModule",{value:!0});const dz=cz(gp);let uz=class extends dz.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Bu.default=uz;var fz=Cr&&Cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pp,"__esModule",{value:!0});const Gc=fz(Bu);let hz=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Gc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Gc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Gc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Gc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Gc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};pp.default=hz;var TP=Cr&&Cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rb,"__esModule",{value:!0});const mz=TP(pp),pz=TP(Bu);let gz=class PP{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new mz.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new PP(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{c.searchParams.append(u,m)})):(l="POST",d=n);const f=new Headers(this.headers);return a&&f.set("Prefer",`count=${a}`),new pz.default({method:l,url:c,headers:f,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Rb.default=gz;var _c=Cr&&Cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($n,"__esModule",{value:!0});$n.PostgrestError=$n.PostgrestBuilder=$n.PostgrestTransformBuilder=$n.PostgrestFilterBuilder=$n.PostgrestQueryBuilder=$n.PostgrestClient=void 0;const AP=_c(Rb);$n.PostgrestClient=AP.default;const DP=_c(pp);$n.PostgrestQueryBuilder=DP.default;const MP=_c(Bu);$n.PostgrestFilterBuilder=MP.default;const OP=_c(gp);$n.PostgrestTransformBuilder=OP.default;const RP=_c(yp);$n.PostgrestBuilder=RP.default;const IP=_c(vp);$n.PostgrestError=IP.default;var yz=$n.default={PostgrestClient:AP.default,PostgrestQueryBuilder:DP.default,PostgrestFilterBuilder:MP.default,PostgrestTransformBuilder:OP.default,PostgrestBuilder:RP.default,PostgrestError:IP.default};const{PostgrestClient:vz,PostgrestQueryBuilder:yae,PostgrestFilterBuilder:vae,PostgrestTransformBuilder:xae,PostgrestBuilder:wae,PostgrestError:bae}=yz;class xz{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wz="2.15.4",bz=`realtime-js/${wz}`,jz="1.0.0",ux=1e4,Sz=1e3,_z=100;var _d;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_d||(_d={}));var Vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vt||(Vt={}));var Lr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Lr||(Lr={}));var fx;(function(t){t.websocket="websocket"})(fx||(fx={}));var ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ei||(ei={}));class Nz{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),a=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(e.slice(i,i+s));i=i+s;const c=r.decode(e.slice(i,i+a));i=i+a;const d=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class $P{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(gt||(gt={}));const f_=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,i)=>(a[i]=Cz(i,t,e,s),a),{})},Cz=(t,e,n,r)=>{const s=e.find(l=>l.name===t),a=s==null?void 0:s.type,i=n[t];return a&&!r.includes(a)?LP(a,i):hx(i)},LP=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Pz(e,n)}switch(t){case gt.bool:return kz(e);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return Ez(e);case gt.json:case gt.jsonb:return Tz(e);case gt.timestamp:return Az(e);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:return hx(e);default:return hx(e)}},hx=t=>t,kz=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ez=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tz=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Pz=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const i=t.slice(1,n);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>LP(e,l))}return t},Az=t=>typeof t=="string"?t.replace(" ","T"):t,FP=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Kg{constructor(e,n,r={},s=ux){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var h_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(h_||(h_={}));class Nd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nd.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Nd.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nd.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const a=this.cloneDeep(e),i=this.transformState(n),l={},c={};return this.map(a,(d,f)=>{i[d]||(c[d]=f)}),this.map(i,(d,f)=>{const u=a[d];if(u){const m=f.map(y=>y.presence_ref),p=u.map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0),x=u.filter(y=>m.indexOf(y.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var d;const f=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),f.length>0){const u=e[l].map(p=>p.presence_ref),m=f.filter(p=>u.indexOf(p.presence_ref)<0);e[l].unshift(...m)}r(l,f,c)}),this.map(i,(l,c)=>{let d=e[l];if(!d)return;const f=c.map(u=>u.presence_ref);d=d.filter(u=>f.indexOf(u.presence_ref)<0),e[l]=d,s(l,d,c),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m_||(m_={}));var Cd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cd||(Cd={}));var ta;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ta||(ta={}));class Ib{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kg(this,Lr.join,this.params,this.timeout),this.rejoinTimer=new $P(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lr.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Nd(this),this.broadcastEndpointURL=FP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Cd.PRESENCE]&&this.bindings[Cd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,u={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ta.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ta.CLOSED)),this.updateJoinPayload(Object.assign({config:m},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(ta.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,v=[];for(let w=0;w<y;w++){const b=x[w],{filter:{event:j,schema:_,table:N,filter:S}}=b,C=p&&p[w];if(C&&C.event===j&&C.schema===_&&C.table===N&&C.filter===S)v.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Vt.errored,e==null||e(ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ta.SUBSCRIBED);return}}).receive("error",p=>{this.state=Vt.errored,e==null||e(ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Vt.joined&&e===Cd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Kg(this,Lr.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),i}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kg(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_z){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,a;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=Lr;if(r&&[l,c,d,f].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,x,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(x=p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var g,x,y,v,w,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(w=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:x,table:y,commit_timestamp:v,type:w,errors:b}=g;m=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(m,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ib.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Lr.close,{},e)}_onError(e){this._on(Lr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=f_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=f_(e.columns,e.old_record)),n}}const Zg=()=>{},Af={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dz=[1e3,2e3,5e3,1e4],Mz=1e4,Oz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rz{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ux,this.transport=null,this.heartbeatIntervalMs=Af.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zg,this.ref=0,this.reconnectTimer=null,this.logger=Zg,this.conn=null,this.sendBuffer=[],this.serializer=new Nz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>Uu(async()=>{const{default:l}=await Promise.resolve().then(()=>Sc);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${fx.websocket}`,this.httpEndpoint=FP(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xz.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jz}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _d.connecting:return ei.Connecting;case _d.open:return ei.Open;case _d.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Ib(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:s,ref:a}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Sz,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Af.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:i}=n,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,a,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Lr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Oz],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bz};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Lr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $P(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Af.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,a,i,l,c,d,f;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ux,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Af.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Zg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:u=>Dz[u-1]||Mz,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(u,m)=>m(JSON.stringify(u)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $b extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Iz extends $b{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mx extends $b{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var $z=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const UP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Uu(async()=>{const{default:r}=await Promise.resolve().then(()=>Sc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Lz=()=>$z(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uu(()=>Promise.resolve().then(()=>Sc),void 0)).Response:Response}),px=t=>{if(Array.isArray(t))return t.map(n=>px(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=px(r)}),e},Fz=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var $i=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const Xg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uz=(t,e,n)=>$i(void 0,void 0,void 0,function*(){const r=yield Lz();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const a=t.status||500,i=(s==null?void 0:s.statusCode)||a+"";e(new Iz(Xg(s),a,i))}).catch(s=>{e(new mx(Xg(s),s))}):e(new mx(Xg(t),t))}),Bz=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Fz(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Wu(t,e,n,r,s,a){return $i(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(n,Bz(e,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Uz(c,l,r))})})}function cm(t,e,n,r){return $i(this,void 0,void 0,function*(){return Wu(t,"GET",e,n,r)})}function ls(t,e,n,r,s){return $i(this,void 0,void 0,function*(){return Wu(t,"POST",e,r,s,n)})}function gx(t,e,n,r,s){return $i(this,void 0,void 0,function*(){return Wu(t,"PUT",e,r,s,n)})}function Wz(t,e,n,r){return $i(this,void 0,void 0,function*(){return Wu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function BP(t,e,n,r,s){return $i(this,void 0,void 0,function*(){return Wu(t,"DELETE",e,r,s,n)})}var bn=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const zz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},p_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vz{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=UP(s)}uploadOrUpdate(e,n,r,s){return bn(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},p_),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),u=yield(e=="PUT"?gx:ls)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(Yt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return bn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:p_.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const u=yield gx(this.fetch,l.toString(),c,{headers:f});return{data:{path:a,fullPath:u.Key},error:null}}catch(c){if(Yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return bn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield ls(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new $b("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}update(e,n,r){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return bn(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return bn(this,void 0,void 0,function*(){try{return{data:{path:(yield ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return bn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield ls(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return bn(this,void 0,void 0,function*(){try{const s=yield ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}download(e,n){return bn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield cm(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Yt(l))return{data:null,error:l};throw l}})}info(e){return bn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield cm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:px(r),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}exists(e){return bn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Wz(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Yt(r)&&r instanceof mx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return bn(this,void 0,void 0,function*(){try{return{data:yield BP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}list(e,n,r){return bn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zz),n),{prefix:e||""});return{data:yield ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}listV2(e,n){return bn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ls(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Hz="2.11.0",Yz={"X-Client-Info":`storage-js/${Hz}`};var Xi=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class Gz{constructor(e,n={},r,s){const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Yz),n),this.fetch=UP(r)}listBuckets(){return Xi(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Yt(e))return{data:null,error:e};throw e}})}getBucket(e){return Xi(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Xi(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Xi(this,void 0,void 0,function*(){try{return{data:yield gx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Xi(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Xi(this,void 0,void 0,function*(){try{return{data:yield BP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}}class qz extends Gz{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Vz(this.url,this.headers,e,this.fetch)}}const Kz="2.56.1";let id="";typeof Deno<"u"?id="deno":typeof document<"u"?id="web":typeof navigator<"u"&&navigator.product==="ReactNative"?id="react-native":id="node";const Zz={"X-Client-Info":`supabase-js-${id}/${Kz}`},Xz={headers:Zz},Jz={schema:"public"},Qz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eV={};var tV=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const nV=t=>{let e;return t?e=t:typeof fetch>"u"?e=CP:e=fetch,(...n)=>e(...n)},rV=()=>typeof Headers>"u"?kP:Headers,sV=(t,e,n)=>{const r=nV(n),s=rV();return(a,i)=>tV(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},i),{headers:d}))})};var aV=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function oV(t){return t.endsWith("/")?t:t+"/"}function iV(t,e){var n,r;const{db:s,auth:a,realtime:i,global:l}=t,{db:c,auth:d,realtime:f,global:u}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),l),{headers:Object.assign(Object.assign({},(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>aV(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const WP="2.71.1",il=30*1e3,yx=3,Jg=yx*il,lV="http://localhost:9999",cV="supabase.auth.token",dV={"X-Client-Info":`gotrue-js/${WP}`},vx="X-Supabase-Api-Version",zP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fV=10*60*1e3;class Lb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hV extends Lb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mV(t){return Ue(t)&&t.name==="AuthApiError"}class VP extends Lb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Io extends Lb{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Va extends Io{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pV(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class Df extends Io{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mf extends Io{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Of extends Io{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gV(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class g_ extends Io{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xx extends Io{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Qg(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class y_ extends Io{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wx extends Io{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),v_=` 	
\r=`.split(""),yV=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<v_.length;e+=1)t[v_[e].charCodeAt(0)]=-2;for(let e=0;e<dm.length;e+=1)t[dm[e].charCodeAt(0)]=e;return t})();function x_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(dm[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(dm[r]),e.queuedBits-=6}}function HP(t,e,n){const r=yV[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function w_(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{wV(i,r,n)};for(let i=0;i<t.length;i+=1)HP(t.charCodeAt(i),s,a);return e.join("")}function vV(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xV(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}vV(r,e)}}function wV(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bV(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)HP(t.charCodeAt(s),n,r);return new Uint8Array(e)}function jV(t){const e=[];return xV(t,n=>e.push(n)),new Uint8Array(e)}function SV(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>x_(s,n,r)),x_(null,n,r),e.join("")}function _V(t){return Math.round(Date.now()/1e3)+t}function NV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Or=()=>typeof window<"u"&&typeof document<"u",Vo={tested:!1,writable:!1},YP=()=>{if(!Or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vo.tested)return Vo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vo.tested=!0,Vo.writable=!0}catch{Vo.tested=!0,Vo.writable=!1}return Vo.writable};function CV(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const GP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Uu(async()=>{const{default:r}=await Promise.resolve().then(()=>Sc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},kV=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ll=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ho=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ua=async(t,e)=>{await t.removeItem(e)};class xp{constructor(){this.promise=new xp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}xp.promiseConstructor=Promise;function ey(t){const e=t.split(".");if(e.length!==3)throw new wx("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!uV.test(e[r]))throw new wx("JWT not in base64url format");return{header:JSON.parse(w_(e[0])),payload:JSON.parse(w_(e[1])),signature:bV(e[2]),raw:{header:e[0],payload:e[1]}}}async function EV(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function TV(t,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await t(a);if(!e(a,null,i)){r(i);return}}catch(i){if(!e(a,i)){s(i);return}}})()})}function PV(t){return("0"+t.toString(16)).substr(-2)}function AV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,PV).join("")}async function DV(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function MV(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await DV(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ji(t,e,n=!1){const r=AV();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ll(t,`${e}-code-verifier`,s);const a=await MV(r);return[a,r===a?"plain":"s256"]}const OV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RV(t){const e=t.headers.get(vx);if(!e||!e.match(OV))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IV(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $V(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qi(t){if(!LV.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ty(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b_(t){return JSON.parse(JSON.stringify(t))}var FV=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Zo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UV=[502,503,504];async function j_(t){var e;if(!kV(t))throw new xx(Zo(t),0);if(UV.includes(t.status))throw new xx(Zo(t),t.status);let n;try{n=await t.json()}catch(a){throw new VP(Zo(a),a)}let r;const s=RV(t);if(s&&s.getTime()>=zP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new y_(Zo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Va}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new y_(Zo(n),t.status,n.weak_password.reasons);throw new hV(Zo(n),t.status||500,r)}const BV=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Xe(t,e,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[vx]||(a[vx]=zP["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await WV(t,e,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function WV(t,e,n,r,s,a){const i=BV(e,r,s,a);let l;try{l=await t(n,Object.assign({},i))}catch(c){throw console.error(c),new xx(Zo(c),0)}if(l.ok||await j_(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await j_(c)}}function Qs(t){var e;let n=null;YV(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_V(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function S_(t){const e=Qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ja(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zV(t){return{data:t,error:null}}function VV(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=t,i=FV(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function HV(t){return t}function YV(t){return t.access_token&&t.refresh_token&&t.expires_in}const ny=["global","local","others"];var GV=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class qV{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=GP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ny[0]){if(ny.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ny.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ja})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=GV(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:VV,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ja})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,a,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:HV});if(f.error)throw f.error;const u=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);d[`${y}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Qi(e);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ja})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Qi(e);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ja})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Qi(e);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ja})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Qi(e.userId);try{const{data:n,error:r}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Qi(e.userId),Qi(e.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function __(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function KV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const el={debug:!!(globalThis&&YP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZV extends qP{}async function XV(t,e,n){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),el.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{el.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw el.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZV(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(el.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}KV();const JV={url:lV,storageKey:cV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N_(t,e,n){return await n()}const tl={};class hu{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hu.nextInstanceID,hu.nextInstanceID+=1,this.instanceID>0&&Or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JV),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qV({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GP(s.fetch),this.lock=s.lock||N_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XV:this.lock=N_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:YP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=__(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=__(this.memoryStorage)),Or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=tl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=tl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WP}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=CV(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Or()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),gV(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new VP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qs}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ue(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,s;try{let a;if("email"in e){const{email:f,password:u,options:m}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ji(this.storage,this.storageKey)),a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:u,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},xform:Qs})}else if("phone"in e){const{phone:f,password:u,options:m}=e;a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:u,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qs})}else throw new Mf("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ue(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:i,options:l}=e;n=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:S_})}else if("phone"in e){const{phone:a,password:i,options:l}=e;n=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:S_})}else throw new Mf("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Df}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,a,i,l,c,d,f,u,m,p;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:y,wallet:v,statement:w,options:b}=e;let j;if(Or())if(typeof v=="object")j=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((u=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||u===void 0)&&u.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:y,error:v}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:SV(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Qs});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Df}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Ue(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await Ho(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:i}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qs});if(await Ua(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Df}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Ue(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:a,nonce:i}=e,l=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Df}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,a,i;try{if("email"in e){const{email:l,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Ji(this.storage,this.storageKey));const{error:u}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:f}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Mf("You must provide either an email or phone number.")}catch(l){if(Ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Qs});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Ji(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:zV})}catch(a){if(Ue(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Va;const{error:s}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:i}=await Xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:i,error:l}=await Xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Mf("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Jg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const i=await Ho(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=ty()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,f)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ja}):await this._useSession(async n=>{var r,s,a;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Va}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ja})})}catch(n){if(Ue(n))return pV(n)&&(await this._removeSession(),await Ua(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Va;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Ji(this.storage,this.storageKey));const{data:d,error:f}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ja});if(f)throw f;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Va;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:i}=ey(e.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:i,error:l}=n;if(l)throw l;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Va;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Or())throw new Of("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Of(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new g_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Of("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new g_("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!i||!d)throw new Of("No session defined in URL");const f=Math.round(Date.now()/1e3),u=parseInt(l);let m=f+u;c&&(m=parseInt(c));const p=m-f;p*1e3<=il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${u}s`);const g=m-u;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,f);const{data:x,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:u,expires_at:m,refresh_token:i,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(Ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(mV(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ua(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=NV(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ji(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ue(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var i,l,c,d,f;const{data:u,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=u.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Or()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)throw i;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await TV(async s=>(s>0&&await EV(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qs})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Qg(a)&&Date.now()+i-r<il})}catch(r){if(this._debug(n,"error",r),Ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Or()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ho(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ll(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:ty()}else if(s&&!s.user&&!s.user){const i=await Ho(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Ua(this.storage,this.storageKey+"-user"),await ll(this.storage,this.storageKey,s)):s.user=ty()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Jg}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Qg(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xp;const{data:a,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!a.session)throw new Va;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ue(a)){const i={session:null,error:a};return Qg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ll(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=b_(s);await ll(this.storage,this.storageKey,a)}else{const s=b_(n);await ll(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ua(this.storage,this.storageKey),await Ua(this.storage,this.storageKey+"-code-verifier"),await Ua(this.storage,this.storageKey+"-user"),this.userStorage&&await Ua(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),il);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${il}ms, refresh threshold is ${yx} ticks`),s<=yx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=await Ji(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:i,error:l}=await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ey(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+fV>s)return r;const{data:a,error:i}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=ey(r);n!=null&&n.allowExpired||IV(a.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const f=$V(s.alg),u=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,u,i,jV(`${l}.${c}`)))throw new wx("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}hu.nextInstanceID=0;const QV=hu;class eH extends QV{constructor(e){super(e)}}var tH=function(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(f){try{d(r.next(f))}catch(u){i(u)}}function c(f){try{d(r.throw(f))}catch(u){i(u)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class nH{constructor(e,n,r){var s,a,i;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=oV(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Jz,realtime:eV,auth:Object.assign(Object.assign({},Qz),{storageKey:d}),global:Xz},u=iV(r??{},f);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=sV(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new vz(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new qz(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Z8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return tH(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:i,lock:l,debug:c},d,f){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eH({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Rz(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rH=(t,e,n)=>new nH(t,e,n);function sH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}sH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aH="",oH="",ry=aH.trim(),C_=oH.trim(),iH=!1,lH=!1,sy=()=>({auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),signInWithPassword:()=>Promise.resolve({data:{user:null,session:null},error:{message:"Supabase not configured"}}),signOut:()=>Promise.resolve({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})}});let Rf;try{if(!lH)if(!iH&&ry&&C_)try{new URL(ry),Rf=rH(ry,C_)}catch{console.warn("Using mock Supabase client (invalid URL or env not configured)"),Rf=sy()}else console.warn("Using mock Supabase client (dummy mode or env not configured)"),Rf=sy()}catch(t){console.warn("Failed to initialize Supabase client, using mock client:",(t==null?void 0:t.message)||t),Rf=sy()}const cH=()=>V8,J=cH(),dH={en:{schoolInfo:"Maes Y Morfa Primary School",quickLinks:{title:"Quick Links",links:[{label:"About",href:"/about"},{label:"Admissions",href:"/admissions"},{label:"Curriculum",href:"/curriculum"},{label:"Key Info",href:"/key-info"},{label:"Contact",href:"/contact"}]},forParents:{title:"For Parents",links:[{label:"Parent Portal",href:"/login"},{label:"News",href:"/news"},{label:"Calendar",href:"/calendar"}]},legal:{title:"Legal",links:[{label:"Privacy Policy",href:"#"},{label:"Cookie Policy",href:"#"}]}},cy:{schoolInfo:"Ysgol Gynradd Maes Y Morfa",quickLinks:{title:"Cysylltiadau Cyflym",links:[{label:"Amdanom Ni",href:"/about"},{label:"Derbyniadau",href:"/admissions"},{label:"Cwricwlwm",href:"/curriculum"},{label:"Gwybodaeth Allweddol",href:"/key-info"},{label:"Cysylltu",href:"/contact"}]},forParents:{title:"I Rieni",links:[{label:"Porth Rieni",href:"/login"},{label:"Newyddion",href:"/news"},{label:"Calendr",href:"/calendar"}]},legal:{title:"Cyfreithiol",links:[{label:"Polisi Preifatrwydd",href:"#"},{label:"Polisi Cwcis",href:"#"}]}}};function uH(){const{language:t}=Ce(),e=dH[t],[n,r]=h.useState(null);h.useEffect(()=>{J.getSiteSettings().then(r).catch(console.error)},[]);const s=[e.quickLinks,e.forParents,e.legal],a=n?[{platform:"Facebook",url:n.facebookUrl,icon:wF},{platform:"Twitter",url:n.twitterUrl,icon:IF},{platform:"Instagram",url:n.instagramUrl,icon:_F},{platform:"YouTube",url:n.youtubeUrl,icon:FF}].filter(i=>!!i.url):[];return o.jsx("footer",{className:"bg-foreground text-background",children:o.jsxs("div",{className:"container mx-auto max-w-7xl px-8 py-8 md:py-16",children:[o.jsx("div",{className:"block md:hidden",children:o.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[o.jsx(ie,{to:"/",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o.jsx("img",{src:"/logo-white-footer.png",alt:"Maes Y Morfa logo",className:"h-12 w-auto"})}),a.length>0&&o.jsx("div",{className:"flex items-center gap-4",children:a.map(({platform:i,url:l,icon:c})=>o.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer","aria-label":`Follow us on ${i}`,children:o.jsx(c,{className:"h-6 w-6 text-background/70 hover:text-background transition-colors"})},i))}),o.jsx("div",{className:"border-t border-background/20 pt-6 w-full",children:o.jsxs("p",{className:"text-center text-sm text-background/60",children:[" ",new Date().getFullYear()," ",e.schoolInfo,". All Rights Reserved."]})})]})}),o.jsxs("div",{className:"hidden md:block",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-5",children:[o.jsxs("div",{className:"col-span-1 lg:col-span-2 mb-8 md:mb-0",children:[o.jsx(ie,{to:"/",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o.jsx("img",{src:"/logo-white-footer.png",alt:"Maes Y Morfa logo",className:"h-12 w-auto"})}),o.jsx("div",{className:"text-sm text-background/70 mt-4 space-y-1 whitespace-pre-line",children:n?o.jsxs(o.Fragment,{children:[o.jsx("p",{children:n.address}),o.jsx("p",{children:n.phone}),o.jsx("p",{children:n.email})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-5 w-48 bg-gray-600 animate-pulse rounded-md mt-1"}),o.jsx("div",{className:"h-5 w-32 bg-gray-600 animate-pulse rounded-md mt-1"})]})}),a.length>0&&o.jsx("div",{className:"flex items-center gap-4 mt-6",children:a.map(({platform:i,url:l,icon:c})=>o.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer","aria-label":`Follow us on ${i}`,children:o.jsx(c,{className:"h-6 w-6 text-background/70 hover:text-background transition-colors"})},i))})]}),s.map(i=>o.jsxs("div",{className:"space-y-4 lg:col-span-1",children:[o.jsx("h4",{className:"font-bold text-base",children:i.title}),o.jsx("ul",{className:"space-y-2",children:i.links.map(l=>o.jsx("li",{children:o.jsx(ie,{to:l.href,className:"text-sm text-background/70 hover:text-background hover:underline",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:l.label})},l.label))})]},i.title))]}),o.jsx("div",{className:"mt-12 flex flex-col items-center justify-center gap-6 border-t border-background/20 pt-8 md:flex-row",children:o.jsxs("p",{className:"text-center text-sm text-background/60",children:[" ",new Date().getFullYear()," ",e.schoolInfo,". All Rights Reserved."]})})]})]})})}const oe=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));oe.displayName="Card";const Se=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("flex flex-col space-y-1.5 p-6",t),...e}));Se.displayName="CardHeader";const _e=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("text-2xl font-semibold leading-none tracking-tight",t),...e}));_e.displayName="CardTitle";const ut=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("text-sm text-muted-foreground",t),...e}));ut.displayName="CardDescription";const ue=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("p-6 pt-0",t),...e}));ue.displayName="CardContent";const fH=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("flex items-center p-6 pt-0",t),...e}));fH.displayName="CardFooter";function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function ko(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function vt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ht(t){vt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||um(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function hH(t,e){vt(2,arguments);var n=ht(t).getTime(),r=ko(e);return new Date(n+r)}var mH={};function Nc(){return mH}function pH(t,e){var n,r,s,a,i,l,c,d;vt(1,arguments);var f=Nc(),u=ko((n=(r=(s=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ht(t),p=m.getDay(),g=(p<u?7:0)+p-u;return m.setDate(m.getDate()-g),m.setHours(0,0,0,0),m}function bx(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function dh(t,e){vt(2,arguments);var n=ht(t),r=ht(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function gH(t){return vt(1,arguments),t instanceof Date||um(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yH(t){if(vt(1,arguments),!gH(t)&&typeof t!="number")return!1;var e=ht(t);return!isNaN(Number(e))}function vH(t,e){vt(2,arguments);var n=ht(t),r=ht(e),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function xH(t,e){return vt(2,arguments),ht(t).getTime()-ht(e).getTime()}var wH={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},bH="trunc";function jH(t){return wH[bH]}function SH(t){vt(1,arguments);var e=ht(t);return e.setHours(23,59,59,999),e}function _H(t){vt(1,arguments);var e=ht(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function NH(t){vt(1,arguments);var e=ht(t);return SH(e).getTime()===_H(e).getTime()}function CH(t,e){vt(2,arguments);var n=ht(t),r=ht(e),s=dh(n,r),a=Math.abs(vH(n,r)),i;if(a<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);var l=dh(n,r)===-s;NH(ht(t))&&a===1&&dh(t,r)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function kH(t,e,n){vt(2,arguments);var r=xH(t,e)/1e3;return jH()(r)}function EH(t,e){vt(2,arguments);var n=ko(e);return hH(t,-n)}var TH=864e5;function PH(t){vt(1,arguments);var e=ht(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/TH)+1}function fm(t){vt(1,arguments);var e=1,n=ht(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function KP(t){vt(1,arguments);var e=ht(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=fm(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=fm(a);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function AH(t){vt(1,arguments);var e=KP(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=fm(n);return r}var DH=6048e5;function MH(t){vt(1,arguments);var e=ht(t),n=fm(e).getTime()-AH(e).getTime();return Math.round(n/DH)+1}function hm(t,e){var n,r,s,a,i,l,c,d;vt(1,arguments);var f=Nc(),u=ko((n=(r=(s=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ht(t),p=m.getUTCDay(),g=(p<u?7:0)+p-u;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m}function ZP(t,e){var n,r,s,a,i,l,c,d;vt(1,arguments);var f=ht(t),u=f.getUTCFullYear(),m=Nc(),p=ko((n=(r=(s=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(u+1,0,p),g.setUTCHours(0,0,0,0);var x=hm(g,e),y=new Date(0);y.setUTCFullYear(u,0,p),y.setUTCHours(0,0,0,0);var v=hm(y,e);return f.getTime()>=x.getTime()?u+1:f.getTime()>=v.getTime()?u:u-1}function OH(t,e){var n,r,s,a,i,l,c,d;vt(1,arguments);var f=Nc(),u=ko((n=(r=(s=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=ZP(t,e),p=new Date(0);p.setUTCFullYear(m,0,u),p.setUTCHours(0,0,0,0);var g=hm(p,e);return g}var RH=6048e5;function IH(t,e){vt(1,arguments);var n=ht(t),r=hm(n,e).getTime()-OH(n,e).getTime();return Math.round(r/RH)+1}function it(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ba={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return it(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):it(r+1,2)},d:function(e,n){return it(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return it(e.getUTCHours()%12||12,n.length)},H:function(e,n){return it(e.getUTCHours(),n.length)},m:function(e,n){return it(e.getUTCMinutes(),n.length)},s:function(e,n){return it(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return it(a,n.length)}},nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$H={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Ba.y(e,n)},Y:function(e,n,r,s){var a=ZP(e,s),i=a>0?a:1-a;if(n==="YY"){var l=i%100;return it(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):it(i,n.length)},R:function(e,n){var r=KP(e);return it(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return it(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return it(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return it(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Ba.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return it(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var a=IH(e,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):it(a,n.length)},I:function(e,n,r){var s=MH(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):it(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ba.d(e,n)},D:function(e,n,r){var s=PH(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):it(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var a=e.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return it(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var a=e.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return it(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return it(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),a;switch(s===12?a=nl.noon:s===0?a=nl.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),a;switch(s>=17?a=nl.evening:s>=12?a=nl.afternoon:s>=4?a=nl.morning:a=nl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ba.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ba.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):it(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):it(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ba.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ba.s(e,n)},S:function(e,n){return Ba.S(e,n)},X:function(e,n,r,s){var a=s._originalDate||e,i=a.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return E_(i);case"XXXX":case"XX":return Xo(i);case"XXXXX":case"XXX":default:return Xo(i,":")}},x:function(e,n,r,s){var a=s._originalDate||e,i=a.getTimezoneOffset();switch(n){case"x":return E_(i);case"xxxx":case"xx":return Xo(i);case"xxxxx":case"xxx":default:return Xo(i,":")}},O:function(e,n,r,s){var a=s._originalDate||e,i=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+k_(i,":");case"OOOO":default:return"GMT"+Xo(i,":")}},z:function(e,n,r,s){var a=s._originalDate||e,i=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+k_(i,":");case"zzzz":default:return"GMT"+Xo(i,":")}},t:function(e,n,r,s){var a=s._originalDate||e,i=Math.floor(a.getTime()/1e3);return it(i,n.length)},T:function(e,n,r,s){var a=s._originalDate||e,i=a.getTime();return it(i,n.length)}};function k_(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var i=e;return n+String(s)+i+it(a,2)}function E_(t,e){if(t%60===0){var n=t>0?"-":"+";return n+it(Math.abs(t)/60,2)}return Xo(t,e)}function Xo(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),a=it(Math.floor(s/60),2),i=it(s%60,2);return r+a+n+i}var T_=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},XP=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},LH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return T_(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",T_(s,n)).replace("{{time}}",XP(a,n))},FH={p:XP,P:LH},UH=["D","DD"],BH=["YY","YYYY"];function WH(t){return UH.indexOf(t)!==-1}function zH(t){return BH.indexOf(t)!==-1}function P_(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var VH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JP=function(e,n,r){var s,a=VH[e];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function da(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var HH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qH={date:da({formats:HH,defaultWidth:"full"}),time:da({formats:YH,defaultWidth:"full"}),dateTime:da({formats:GH,defaultWidth:"full"})},KH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QP=function(e,n,r,s){return KH[e]};function ms(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):a;s=t.formattingValues[i]||t.formattingValues[a]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var d=t.argumentCallback?t.argumentCallback(e):e;return s[d]}}var ZH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},t9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},n9=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},e2={ordinalNumber:n9,era:ms({values:ZH,defaultWidth:"wide"}),quarter:ms({values:XH,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ms({values:JH,defaultWidth:"wide"}),day:ms({values:QH,defaultWidth:"wide"}),dayPeriod:ms({values:e9,defaultWidth:"wide",formattingValues:t9,defaultFormattingWidth:"wide"})};function ps(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;var i=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?s9(l,function(u){return u.test(i)}):r9(l,function(u){return u.test(i)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var f=e.slice(i.length);return{value:d,rest:f}}}function r9(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function s9(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function t2(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],a=e.match(t.parsePattern);if(!a)return null;var i=t.valueCallback?t.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(s.length);return{value:i,rest:l}}}var a9=/^(\d+)(th|st|nd|rd)?/i,o9=/\d+/i,i9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l9={any:[/^b/i,/^(a|c)/i]},c9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d9={any:[/1/i,/2/i,/3/i,/4/i]},u9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},n2={ordinalNumber:t2({matchPattern:a9,parsePattern:o9,valueCallback:function(e){return parseInt(e,10)}}),era:ps({matchPatterns:i9,defaultMatchWidth:"wide",parsePatterns:l9,defaultParseWidth:"any"}),quarter:ps({matchPatterns:c9,defaultMatchWidth:"wide",parsePatterns:d9,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ps({matchPatterns:u9,defaultMatchWidth:"wide",parsePatterns:f9,defaultParseWidth:"any"}),day:ps({matchPatterns:h9,defaultMatchWidth:"wide",parsePatterns:m9,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:p9,defaultMatchWidth:"any",parsePatterns:g9,defaultParseWidth:"any"})},r2={code:"en-US",formatDistance:JP,formatLong:qH,formatRelative:QP,localize:e2,match:n2,options:{weekStartsOn:0,firstWeekContainsDate:1}},y9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x9=/^'([^]*?)'?$/,w9=/''/g,b9=/[a-zA-Z]/;function mt(t,e,n){var r,s,a,i,l,c,d,f,u,m,p,g,x,y,v,w,b,j;vt(2,arguments);var _=String(e),N=Nc(),S=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:N.locale)!==null&&r!==void 0?r:r2,C=ko((a=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:N.firstWeekContainsDate)!==null&&i!==void 0?i:(u=N.locale)===null||u===void 0||(m=u.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=ko((p=(g=(x=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(v=n.locale)===null||v===void 0||(w=v.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&x!==void 0?x:N.weekStartsOn)!==null&&g!==void 0?g:(b=N.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var k=ht(t);if(!yH(k))throw new RangeError("Invalid time value");var E=bx(k),O=EH(k,E),P={firstWeekContainsDate:C,weekStartsOn:T,locale:S,_originalDate:k},M=_.match(v9).map(function(L){var F=L[0];if(F==="p"||F==="P"){var z=FH[F];return z(L,S.formatLong)}return L}).join("").match(y9).map(function(L){if(L==="''")return"'";var F=L[0];if(F==="'")return j9(L);var z=$H[F];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&zH(L)&&P_(L,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&WH(L)&&P_(L,e,String(t)),z(O,L,S.localize,P);if(F.match(b9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return L}).join("");return M}function j9(t){var e=t.match(x9);return e?e[1].replace(w9,"'"):t}function s2(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function S9(t){return s2({},t)}var A_=1440,_9=2520,ay=43200,N9=86400;function C9(t,e,n){var r,s;vt(2,arguments);var a=Nc(),i=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:a.locale)!==null&&r!==void 0?r:r2;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=dh(t,e);if(isNaN(l))throw new RangeError("Invalid time value");var c=s2(S9(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),d,f;l>0?(d=ht(e),f=ht(t)):(d=ht(t),f=ht(e));var u=kH(f,d),m=(bx(f)-bx(d))/1e3,p=Math.round((u-m)/60),g;if(p<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,c):u<10?i.formatDistance("lessThanXSeconds",10,c):u<20?i.formatDistance("lessThanXSeconds",20,c):u<40?i.formatDistance("halfAMinute",0,c):u<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):p===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",p,c);if(p<45)return i.formatDistance("xMinutes",p,c);if(p<90)return i.formatDistance("aboutXHours",1,c);if(p<A_){var x=Math.round(p/60);return i.formatDistance("aboutXHours",x,c)}else{if(p<_9)return i.formatDistance("xDays",1,c);if(p<ay){var y=Math.round(p/A_);return i.formatDistance("xDays",y,c)}else if(p<N9)return g=Math.round(p/ay),i.formatDistance("aboutXMonths",g,c)}if(g=CH(f,d),g<12){var v=Math.round(p/ay);return i.formatDistance("xMonths",v,c)}else{var w=g%12,b=Math.floor(g/12);return w<3?i.formatDistance("aboutXYears",b,c):w<9?i.formatDistance("overXYears",b,c):i.formatDistance("almostXYears",b+1,c)}}function wp(t,e){return vt(1,arguments),C9(t,Date.now(),e)}const k9={urgentAlertExpiryDays:7,eventArchiveDays:1,newsArchiveDays:90};class E9{constructor(e=k9){this.config=e}shouldArchiveUrgentAlert(e){if(!e.isUrgent)return!1;const n=new Date(e.date),r=new Date(n);return r.setDate(r.getDate()+this.config.urgentAlertExpiryDays),new Date>r}shouldArchiveNews(e){const n=new Date(e.date),r=new Date(n);return r.setDate(r.getDate()+this.config.newsArchiveDays),new Date>r}shouldArchiveEvent(e){const n=new Date(e.end||e.start),r=new Date(n);return r.setDate(r.getDate()+this.config.eventArchiveDays),new Date>r}filterActiveNews(e){return e.filter(n=>n.published?n.isUrgent?!this.shouldArchiveUrgentAlert(n):!this.shouldArchiveNews(n):!1)}filterActiveEvents(e){return e.filter(n=>n.published?!this.shouldArchiveEvent(n):!1)}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}}const Fb=new E9,T9=t=>Fb.filterActiveNews(t),P9=t=>Fb.filterActiveEvents(t),A9={maxNewsItems:3,maxEventItems:3,maxTotalItems:6,urgentAlertDurationDays:7};function a2(t={}){const e={...A9,...t},n=new Date;n.setHours(0,0,0,0);const r=new Date(n);r.setDate(r.getDate()-e.urgentAlertDurationDays);const s=T9(mp),a=P9(Sd),i=s.find(f=>f.isUrgent&&f.published&&!Fb.shouldArchiveUrgentAlert(f))||null,l=s.filter(f=>f.published&&!f.isUrgent).slice(0,e.maxNewsItems).map(f=>({id:f.id,type:"news",priority:D9(f),title_en:f.title_en,title_cy:f.title_cy,date:new Date(f.date),slug:f.slug,body_en:f.body_en,body_cy:f.body_cy,linkedCalendarEventId:f.linkedCalendarEventId})),c=a.filter(f=>new Date(f.start)>=n).slice(0,e.maxEventItems).map(f=>({id:f.id,type:"event",priority:M9(f),title_en:f.title_en,title_cy:f.title_cy,date:new Date(f.start),start:f.start,allDay:f.allDay,linkedNewsPostId:f.linkedNewsPostId})),d=[...l,...c].sort((f,u)=>u.priority-f.priority).slice(0,e.maxTotalItems);return{urgentAlert:i,prioritizedContent:d,stats:{totalNews:l.length,totalEvents:c.length,urgentAlerts:i?1:0}}}function D9(t){let e=50;const n=new Date(t.date),s=Math.floor((new Date().getTime()-n.getTime())/(1e3*60*60*24));return s<=1?e+=20:s<=3?e+=15:s<=7?e+=10:s<=14&&(e+=5),t.linkedCalendarEventId&&(e+=5),e}function M9(t){var a,i,l,c;let e=40;const n=new Date(t.start),r=new Date,s=Math.floor((n.getTime()-r.getTime())/(1e3*60*60*24));return s<=1?e+=25:s<=3?e+=20:s<=7?e+=15:s<=14?e+=10:s<=30&&(e+=5),(a=t.tags)!=null&&a.includes("Parents Evening")?e+=15:(i=t.tags)!=null&&i.includes("INSET")?e+=10:(l=t.tags)!=null&&l.includes("Holiday")?e+=8:(c=t.tags)!=null&&c.includes("Trip")&&(e+=5),t.linkedNewsPostId&&(e+=5),e}const O9={en:{urgent:"Urgent Announcement"},cy:{urgent:"Hysbysiad Pwysig"}};function o2({post:t}){const{language:e}=Ce(),n=O9[e];return o.jsx("div",{className:"bg-destructive text-destructive-foreground",children:o.jsx("div",{className:"container mx-auto max-w-7xl px-8 py-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm md:text-base",children:[o.jsx(Ck,{className:"h-5 w-5 shrink-0"}),o.jsxs("p",{className:"font-bold",children:[n.urgent,":"]}),o.jsx(ie,{to:`/news/${t.slug}`,className:"flex-grow text-left underline hover:text-destructive-foreground/80",children:t[`title_${e}`]})]})})})}const R9={en:{latestUpdates:"Latest Updates",upcomingEvents:"Upcoming Events",latestNews:"Latest News",readMore:"Read More",viewDetails:"View Details",viewAllNews:"View All News",viewFullCalendar:"View Full Calendar",noContent:"No recent updates available.",event:"Event",news:"News"},cy:{latestUpdates:"Diweddariadau Diweddaraf",upcomingEvents:"Digwyddiadau i Ddod",latestNews:"Newyddion Diweddaraf",readMore:"Darllen Mwy",viewDetails:"Gweld Manylion",viewAllNews:"Gweld Pob Newyddion",viewFullCalendar:"Gweld y Calendr Llawn",noContent:"Dim diweddariadau diweddar ar gael.",event:"Digwyddiad",news:"Newyddion"}};function I9({config:t,className:e="",showUrgentBanner:n=!0,showEvents:r=!0}){const{language:s}=Ce(),a=R9[s],{urgentAlert:i,prioritizedContent:l}=a2(t),c=l.filter(f=>f.type==="news"),d=l.filter(f=>f.type==="event");return o.jsxs("div",{className:e,children:[n&&i&&o.jsx(o2,{post:i}),r?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h2",{className:"font-headline text-3xl md:text-4xl font-extrabold tracking-tighter text-foreground mb-8",children:a.latestNews}),c.length>0?o.jsx("div",{className:"space-y-6",children:c.map(f=>o.jsx($9,{item:f,language:s,t:a},f.id))}):o.jsx(oe,{className:"bg-background/70 shadow-lg border-0",children:o.jsx(ue,{className:"p-6",children:o.jsx("p",{className:"text-muted-foreground",children:a.noContent})})}),o.jsx("div",{className:"mt-8",children:o.jsx(W,{asChild:!0,variant:"outline",children:o.jsx(ie,{to:"/news",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:a.viewAllNews})})})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("h2",{className:"font-headline text-3xl md:text-4xl font-extrabold tracking-tighter text-foreground mb-8",children:a.upcomingEvents}),d.length>0?o.jsx("div",{className:"space-y-4",children:d.map(f=>o.jsx(L9,{item:f,language:s,t:a},f.id))}):o.jsx(oe,{className:"bg-background/70 shadow-lg border-0",children:o.jsx(ue,{className:"p-6",children:o.jsx("p",{className:"text-muted-foreground",children:a.noContent})})}),o.jsx("div",{className:"mt-8",children:o.jsx(W,{asChild:!0,variant:"outline",children:o.jsx(ie,{to:"/calendar",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:a.viewFullCalendar})})})]})]}):o.jsxs("div",{children:[o.jsx("h2",{className:"font-headline text-3xl md:text-4xl font-extrabold tracking-tighter text-foreground mb-8",children:a.latestNews}),c.length>0?o.jsx("div",{className:"space-y-6",children:c.slice(0,2).map(f=>o.jsx(oe,{className:"bg-background/70 shadow-lg border-0",children:o.jsxs(ue,{className:"p-6",children:[o.jsx("span",{className:"text-sm text-muted-foreground block",children:f.date.toLocaleDateString(s==="cy"?"cy-GB":"en-GB",{year:"numeric",month:"long",day:"numeric"})}),o.jsx(ie,{to:`/news/${f.slug}`,className:"mt-1 block text-xl font-bold hover:underline",children:f[`title_${s}`]}),f.body_en&&o.jsxs("p",{className:"text-muted-foreground mt-2 line-clamp-2",children:[f.body_en.replace(/<[^>]*>?/gm,"").substring(0,200),"..."]}),o.jsx(W,{asChild:!0,variant:"link",className:"p-0 mt-2",children:o.jsxs(ie,{to:`/news/${f.slug}`,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[a.readMore," ",o.jsx(dc,{className:"ml-2 h-4 w-4"})]})})]})},f.id))}):o.jsx(oe,{className:"bg-background/70 shadow-lg border-0",children:o.jsx(ue,{className:"p-6",children:o.jsx("p",{className:"text-muted-foreground",children:a.noContent})})}),o.jsx("div",{className:"mt-8",children:o.jsx(W,{asChild:!0,variant:"outline",children:o.jsx(ie,{to:"/news",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:a.viewAllNews})})})]})]})}function $9({item:t,language:e,t:n}){var s;const r=((s=t.body_en)==null?void 0:s.replace(/<[^>]*>?/gm,""))||"";return o.jsx(oe,{className:"bg-background/70 shadow-lg border-0",children:o.jsxs(ue,{className:"p-6",children:[o.jsx("span",{className:"text-sm text-muted-foreground mb-2 block",children:t.date.toLocaleDateString(e==="cy"?"cy-GB":"en-GB",{year:"numeric",month:"long",day:"numeric"})}),o.jsx("h3",{className:"text-xl font-bold",children:t[`title_${e}`]}),o.jsxs("p",{className:"text-muted-foreground line-clamp-2 mt-2",children:[r.substring(0,150),"..."]}),t.linkedCalendarEventId&&o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-primary",children:[o.jsx(zn,{className:"h-4 w-4"}),o.jsx("span",{children:"Related event available"})]}),o.jsx(W,{asChild:!0,variant:"link",className:"p-0 mt-4",children:o.jsxs(ie,{to:`/news/${t.slug}`,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[n.readMore," ",o.jsx(dc,{className:"ml-2 h-4 w-4"})]})})]})})}function L9({item:t,language:e}){return o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"text-center font-bold text-red-500 border-r pr-4",children:[o.jsx("div",{className:"text-2xl",children:mt(t.date,"dd")}),o.jsx("div",{className:"text-xs uppercase",children:mt(t.date,"MMM")})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-sm leading-tight",children:t[`title_${e}`]}),!t.allDay&&t.start&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[o.jsx(Ek,{className:"h-3 w-3"}),mt(new Date(t.start),"p")]}),t.linkedNewsPostId&&o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-primary",children:[o.jsx(zn,{className:"h-3 w-3"}),o.jsx("span",{children:"News post available"})]})]})]})}const F9={en:{hero:{title:"Welcome to Ysgol Maes Y Morfa Primary School",subtitle:"A caring, ambitious school where every child is valued and inspired.",button:"Explore Our School"},keyInfo:{heading:"Key Information",buttons:[{icon:zn,label:"Term Dates",href:"/key-info",docCategory:"Term Dates"},{icon:Bv,label:"Uniform Policy",href:"/key-info",docCategory:"Uniform"},{icon:Pl,label:"Lunch Menu",href:"/key-info",docCategory:"Lunch Menu"}]},events:{heading:"Upcoming Events",viewCalendar:"View Full Calendar"},cta:{heading:"Are you a Maes Y Morfa parent?",body:"Log in to the Parent Portal to check your child's progress, report absences, and get the latest updatesquickly and securely.",button:"Go to Parent Portal"}},cy:{hero:{title:"Croeso i Ysgol Gynradd Maes Y Morfa",subtitle:"Ysgol ofalgar, uchelgeisiol lle mae pob plentyn yn cael ei werthfawrogi a'i ysbrydoli.",button:"Archwiliwch Ein Hysgol"},keyInfo:{heading:"Gwybodaeth Allweddol",buttons:[{icon:zn,label:"Dyddiadau Tymor",href:"/key-info",docCategory:"Term Dates"},{icon:Bv,label:"Polisi Gwisg Ysgol",href:"/key-info",docCategory:"Uniform"},{icon:Pl,label:"Bwydlen Ginio",href:"/key-info",docCategory:"Lunch Menu"}]},events:{heading:"Digwyddiadau i Ddod",viewCalendar:"Gweld y Calendr Llawn"},cta:{heading:"Ydych chi'n rhiant Maes Y Morfa?",body:"Mewngofnodwch i'r Porth Rieni i wirio cynnydd eich plentyn, riportio absenoldebau, a chael y diweddariadau diweddarafyn gyflym ac yn ddiogel.",button:"Ewch i Borth Rieni"}}};function U9(){const{language:t}=Ce(),e=F9[t],{urgentAlert:n,prioritizedContent:r}=a2(),s=r.filter(a=>a.type==="event").slice(0,3);return o.jsxs("div",{className:"bg-background",children:[n&&o.jsx("div",{className:"bg-background",children:o.jsx(o2,{post:n})}),o.jsxs("section",{className:"relative w-full h-screen flex items-center justify-center text-center text-white overflow-hidden",children:[o.jsx("img",{src:"https://i.postimg.cc/RFZsjTxj/Chat-GPT-Image-Jul-25-2025-08-43-22-AM.png",alt:"A vibrant classroom with children learning",className:"absolute inset-0 z-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),o.jsxs("div",{className:"relative z-20 container mx-auto max-w-4xl px-8",children:[o.jsx("h1",{className:"font-headline text-4xl font-extrabold tracking-tighter sm:text-5xl md:text-6xl",children:e.hero.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-white/90 md:text-xl",children:e.hero.subtitle}),o.jsx("div",{className:"mt-8",children:o.jsx(W,{size:"lg",asChild:!0,children:o.jsx(ie,{to:"/about",children:e.hero.button})})})]})]}),o.jsx("section",{className:"w-full py-16 md:py-24 bg-background",children:o.jsx("div",{className:"container mx-auto max-w-7xl px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(I9,{showUrgentBanner:!1,showEvents:!1})}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-headline text-3xl md:text-4xl font-extrabold tracking-tighter text-foreground mb-6",children:e.keyInfo.heading}),o.jsx("div",{className:"space-y-3 mb-10",children:e.keyInfo.buttons.map(a=>{const i=a.icon;return o.jsx(oe,{className:"bg-background shadow-sm border hover:shadow-md transition-shadow",children:o.jsx(ue,{className:"p-4",children:o.jsxs(ie,{to:a.href,className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(i,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"text-left font-medium",children:a.label})]}),o.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]})})},a.label)})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-headline text-3xl md:text-4xl font-extrabold tracking-tighter text-foreground mb-6",children:e.events.heading}),s.length>0?o.jsx(oe,{className:"bg-background shadow-sm border",children:o.jsx(ue,{className:"p-0",children:o.jsx("ul",{className:"divide-y",children:s.map(a=>o.jsx("li",{className:"p-6",children:o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsxs("div",{className:"min-w-14 text-center",children:[o.jsx("div",{className:"text-lg font-bold",children:mt(a.date,"dd")}),o.jsx("div",{className:"text-xs uppercase",children:mt(a.date,"MMM")})]}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"font-semibold text-sm leading-tight mb-1",children:t==="cy"?a.title_cy:a.title_en}),a.start&&o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Ek,{className:"h-3 w-3"}),mt(new Date(a.start),"p")]})]})]})},a.id))})})}):o.jsx(oe,{className:"bg-background shadow-sm border",children:o.jsx(ue,{className:"p-6",children:o.jsx("p",{className:"text-muted-foreground",children:"No upcoming events."})})}),o.jsx("div",{className:"mt-6",children:o.jsx(W,{asChild:!0,variant:"outline",size:"sm",children:o.jsx(ie,{to:"/calendar",children:e.events.viewCalendar})})})]})]})]})})}),o.jsx("section",{className:"w-full py-16 md:py-24 bg-primary text-primary-foreground",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 text-center",children:[o.jsx("h2",{className:"font-headline text-3xl md:text-4xl font-extrabold tracking-tighter",children:e.cta.heading}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-primary-foreground/80",children:e.cta.body}),o.jsx(W,{asChild:!0,size:"lg",variant:"secondary",className:"mt-8",children:o.jsx(ie,{to:"/login",children:e.cta.button})})]})})]})}var Ub="Collapsible",[B9,i2]=ts(Ub),[W9,Bb]=B9(Ub),l2=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:a,onOpenChange:i,...l}=t,[c=!1,d]=ya({prop:r,defaultProp:s,onChange:i});return o.jsx(W9,{scope:n,disabled:a,contentId:Hr(),open:c,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),children:o.jsx(Re.div,{"data-state":zb(c),"data-disabled":a?"":void 0,...l,ref:e})})});l2.displayName=Ub;var c2="CollapsibleTrigger",d2=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Bb(c2,n);return o.jsx(Re.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":zb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ae(t.onClick,s.onOpenToggle)})});d2.displayName=c2;var Wb="CollapsibleContent",u2=h.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Bb(Wb,t.__scopeCollapsible);return o.jsx(Os,{present:n||s.open,children:({present:a})=>o.jsx(z9,{...r,ref:e,present:a})})});u2.displayName=Wb;var z9=h.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...a}=t,i=Bb(Wb,n),[l,c]=h.useState(r),d=h.useRef(null),f=st(e,d),u=h.useRef(0),m=u.current,p=h.useRef(0),g=p.current,x=i.open||l,y=h.useRef(x),v=h.useRef(void 0);return h.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),on(()=>{const w=d.current;if(w){v.current=v.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();u.current=b.height,p.current=b.width,y.current||(w.style.transitionDuration=v.current.transitionDuration,w.style.animationName=v.current.animationName),c(r)}},[i.open,r]),o.jsx(Re.div,{"data-state":zb(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...a,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:x&&s})});function zb(t){return t?"open":"closed"}var V9=l2,H9=d2,Y9=u2,Ea="Accordion",G9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Vb,q9,K9]=Nu(Ea),[bp,jae]=ts(Ea,[K9,i2]),Hb=i2(),f2=D.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,a=r;return o.jsx(Vb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(Q9,{...a,ref:e}):o.jsx(J9,{...s,ref:e})})});f2.displayName=Ea;var[h2,Z9]=bp(Ea),[m2,X9]=bp(Ea,{collapsible:!1}),J9=D.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:a=!1,...i}=t,[l,c]=ya({prop:n,defaultProp:r,onChange:s});return o.jsx(h2,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:D.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(m2,{scope:t.__scopeAccordion,collapsible:a,children:o.jsx(p2,{...i,ref:e})})})}),Q9=D.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=t,[i=[],l]=ya({prop:n,defaultProp:r,onChange:s}),c=D.useCallback(f=>l((u=[])=>[...u,f]),[l]),d=D.useCallback(f=>l((u=[])=>u.filter(m=>m!==f)),[l]);return o.jsx(h2,{scope:t.__scopeAccordion,value:i,onItemOpen:c,onItemClose:d,children:o.jsx(m2,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(p2,{...a,ref:e})})})}),[e7,jp]=bp(Ea),p2=D.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:a="vertical",...i}=t,l=D.useRef(null),c=st(l,e),d=q9(n),u=sp(s)==="ltr",m=ae(t.onKeyDown,p=>{var C;if(!G9.includes(p.key))return;const g=p.target,x=d().filter(T=>{var k;return!((k=T.ref.current)!=null&&k.disabled)}),y=x.findIndex(T=>T.ref.current===g),v=x.length;if(y===-1)return;p.preventDefault();let w=y;const b=0,j=v-1,_=()=>{w=y+1,w>j&&(w=b)},N=()=>{w=y-1,w<b&&(w=j)};switch(p.key){case"Home":w=b;break;case"End":w=j;break;case"ArrowRight":a==="horizontal"&&(u?_():N());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(u?N():_());break;case"ArrowUp":a==="vertical"&&N();break}const S=w%v;(C=x[S].ref.current)==null||C.focus()});return o.jsx(e7,{scope:n,disabled:r,direction:s,orientation:a,children:o.jsx(Vb.Slot,{scope:n,children:o.jsx(Re.div,{...i,"data-orientation":a,ref:c,onKeyDown:r?void 0:m})})})}),mm="AccordionItem",[t7,Yb]=bp(mm),g2=D.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,a=jp(mm,n),i=Z9(mm,n),l=Hb(n),c=Hr(),d=r&&i.value.includes(r)||!1,f=a.disabled||t.disabled;return o.jsx(t7,{scope:n,open:d,disabled:f,triggerId:c,children:o.jsx(V9,{"data-orientation":a.orientation,"data-state":j2(d),...l,...s,ref:e,disabled:f,open:d,onOpenChange:u=>{u?i.onItemOpen(r):i.onItemClose(r)}})})});g2.displayName=mm;var y2="AccordionHeader",v2=D.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=jp(Ea,n),a=Yb(y2,n);return o.jsx(Re.h3,{"data-orientation":s.orientation,"data-state":j2(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});v2.displayName=y2;var jx="AccordionTrigger",x2=D.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=jp(Ea,n),a=Yb(jx,n),i=X9(jx,n),l=Hb(n);return o.jsx(Vb.ItemSlot,{scope:n,children:o.jsx(H9,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...r,ref:e})})});x2.displayName=jx;var w2="AccordionContent",b2=D.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=jp(Ea,n),a=Yb(w2,n),i=Hb(n);return o.jsx(Y9,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});b2.displayName=w2;function j2(t){return t?"open":"closed"}var n7=f2,r7=g2,s7=v2,S2=x2,_2=b2;const N2=n7,Gb=h.forwardRef(({className:t,...e},n)=>o.jsx(r7,{ref:n,className:U("border-b",t),...e}));Gb.displayName="AccordionItem";const qb=h.forwardRef(({className:t,children:e,...n},r)=>o.jsx(s7,{className:"flex",children:o.jsxs(S2,{ref:r,className:U("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(Yw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));qb.displayName=S2.displayName;const Kb=h.forwardRef(({className:t,children:e,...n},r)=>o.jsx(_2,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:U("pb-4 pt-0",t),children:e})}));Kb.displayName=_2.displayName;const a7={en:{title:"A Warm Welcome to Maes Y Morfa Primary",intro1:"Maes Y Morfa is more than just a school; it's a community where every child is seen, valued, and inspired to thrive. From their very first day, we are committed to nurturing a love of learning in a safe, happy, and ambitious environment.",intro2:"Our dedicated team works in partnership with families to support every child's journey. We believe in building confidence, encouraging curiosity, and celebrating every achievement, big or small.",valuesTitle:"Our Values",values:[{icon:vS,title:"Every Child Valued",text:"We tailor our approach to meet the unique needs of every learner."},{icon:SS,title:"Curiosity Encouraged",text:"Our vibrant curriculum inspires questions, exploration, and discovery."},{icon:vo,title:"Community Spirit",text:"We foster strong, supportive links between pupils, staff, and families."}],dayInLifeTitle:"A Day in the Life",dayInLifeText:"A typical day at Maes Y Morfa is buzzing with energy. It begins with a warm welcome at the school gates, moves into engaging lessons that spark imagination, and includes plenty of time for play and friendship. From collaborative projects in the classroom to adventures in our outdoor spaces, every moment is an opportunity to learn and grow.",teamTitle:"Meet Our Team",teamIntro:"Click each group to see staff members.",teamNote:"Staff photos are updated regularly. Please contact the school office for the most up-to-date information.",ctaTitle:"Want to see for yourself?",ctaText:"The best way to experience Maes Y Morfa is to visit us. We'd love to show you around.",ctaButton:"Arrange a Visit"},cy:{title:"Croeso Cynnes i Ysgol Gynradd Maes Y Morfa",intro1:"Mae Maes Y Morfa yn fwy na dim ond ysgol; mae'n gymuned lle mae pob plentyn yn cael ei weld, ei werthfawrogi, a'i ysbrydoli i ffynnu. O'u diwrnod cyntaf un, rydym wedi ymrwymo i feithrin cariad at ddysgu mewn amgylchedd diogel, hapus ac uchelgeisiol.",intro2:"Mae ein tm ymroddedig yn gweithio mewn partneriaeth  theuluoedd i gefnogi taith pob plentyn. Credwn mewn magu hyder, annog chwilfrydedd, a dathlu pob llwyddiant, mawr a bach.",valuesTitle:"Ein Gwerthoedd",values:[{icon:vS,title:"Gwerthfawrogi Pob Plentyn",text:"Rydym yn teilwra ein dull i ddiwallu anghenion unigryw pob dysgwr."},{icon:SS,title:"Annog Chwilfrydedd",text:"Mae ein cwricwlwm bywiog yn ysbrydoli cwestiynau, archwilio, a darganfod."},{icon:vo,title:"Ysbryd Cymunedol",text:"Rydym yn meithrin cysylltiadau cryf, cefnogol rhwng disgyblion, staff, a theuluoedd."}],dayInLifeTitle:"Diwrnod ym Mywyd",dayInLifeText:"Mae diwrnod arferol ym Maes Y Morfa yn llawn egni. Mae'n dechrau gyda chroeso cynnes wrth giatiau'r ysgol, yn symud ymlaen i wersi diddorol sy'n tanio'r dychymyg, ac yn cynnwys digon o amser i chwarae a chyfeillgarwch. O brosiectau cydweithredol yn yr ystafell ddosbarth i anturiaethau yn ein mannau awyr agored, mae pob eiliad yn gyfle i ddysgu a thyfu.",teamTitle:"Cwrdd 'n Tm",teamIntro:"Cliciwch ar bob grp i weld aelodau'r staff.",teamNote:"Mae lluniau staff yn cael eu diweddaru'n rheolaidd. Cysylltwch  swyddfa'r ysgol am y wybodaeth ddiweddaraf.",ctaTitle:"Am weld drosoch eich hun?",ctaText:"Y ffordd orau o brofi Maes Y Morfa yw ymweld  ni. Byddem wrth ein bodd yn eich tywys o gwmpas.",ctaButton:"Trefnu Ymweliad"}},o7={en:[{name:"Leadership Team",members:[{name:"Jane Morgan",role:"Headteacher",imageHint:"woman headteacher portrait"},{name:"Alex Evans",role:"Deputy Head",imageHint:"man teacher portrait"},{name:"Ceri Lloyd",role:"SENCo",imageHint:"woman teacher friendly"}]},{name:"Nursery & Reception",members:[{name:"David Williams",role:"Teacher",imageHint:"man teacher classroom"}]},{name:"Year 1",members:[{name:"Sarah Davies",role:"Teacher",imageHint:"woman teacher primary"}]},{name:"Year 2",members:[{name:"Tomos Jones",role:"Teacher",imageHint:"man teacher smiling"}]},{name:"Year 3",members:[{name:"Emily Roberts",role:"Teacher",imageHint:"woman teacher books"}]},{name:"Year 4",members:[{name:"Megan Phillips",role:"Teacher",imageHint:"teacher portrait"}]},{name:"Year 5",members:[{name:"Owain Thomas",role:"Teacher",imageHint:"man teacher diverse"}]},{name:"Year 6",members:[{name:"Ffion Hughes",role:"Teacher",imageHint:"woman teacher outside"}]},{name:"Support Staff",members:[{name:"Mark Phillips",role:"Office Manager",imageHint:"man administrator office"},{name:"Rhiannon Price",role:"Teaching Assistant",imageHint:"woman teaching assistant"}]}],cy:[{name:"Tm Arweinyddiaeth",members:[{name:"Jane Morgan",role:"Pennaeth",imageHint:"woman headteacher portrait"},{name:"Alex Evans",role:"Dirprwy Bennaeth",imageHint:"man teacher portrait"},{name:"Ceri Lloyd",role:"Cydlynydd AAA",imageHint:"woman teacher friendly"}]},{name:"Meithrin a Derbyn",members:[{name:"David Williams",role:"Athro",imageHint:"man teacher classroom"}]},{name:"Blwyddyn 1",members:[{name:"Sarah Davies",role:"Athrawes",imageHint:"woman teacher primary"}]},{name:"Blwyddyn 2",members:[{name:"Tomos Jones",role:"Athro",imageHint:"man teacher smiling"}]},{name:"Blwyddyn 3",members:[{name:"Emily Roberts",role:"Athrawes",imageHint:"woman teacher books"}]},{name:"Blwyddyn 4",members:[{name:"Megan Phillips",role:"Athrawes",imageHint:"teacher portrait"}]},{name:"Blwyddyn 5",members:[{name:"Owain Thomas",role:"Athro",imageHint:"man teacher diverse"}]},{name:"Blwyddyn 6",members:[{name:"Ffion Hughes",role:"Athrawes",imageHint:"woman teacher outside"}]},{name:"Staff Cymorth",members:[{name:"Mark Phillips",role:"Rheolwr Swyddfa",imageHint:"man administrator office"},{name:"Rhiannon Price",role:"Cynorthwyydd Addysgu",imageHint:"woman teaching assistant"}]}]};function i7(){const{language:t}=Ce(),e=a7[t],n=o7[t];return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-5xl px-8 space-y-16",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title}),o.jsxs("div",{className:"mt-6 prose prose-lg max-w-none text-foreground/90 mx-auto",children:[o.jsx("p",{children:e.intro1}),o.jsx("p",{children:e.intro2})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"font-headline text-4xl font-extrabold tracking-tighter text-foreground mb-8",children:e.valuesTitle}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.values.map(r=>{const s=r.icon;return o.jsxs(oe,{className:"bg-secondary/30 border-0 text-center shadow-lg rounded-2xl",children:[o.jsxs(Se,{className:"items-center",children:[o.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary text-primary-foreground mb-4",children:o.jsx(s,{className:"h-8 w-8"})}),o.jsx(_e,{className:"font-headline text-2xl",children:r.title})]}),o.jsx(ue,{children:o.jsx("p",{className:"text-muted-foreground",children:r.text})})]},r.title)})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-headline text-4xl font-extrabold tracking-tighter text-foreground mb-4",children:e.dayInLifeTitle}),o.jsx("p",{className:"text-foreground/80",children:e.dayInLifeText})]}),o.jsx("img",{src:"https://i.postimg.cc/J7JTBSnT/aboutus.png",alt:"Children learning in a classroom",width:500,height:400,className:"object-contain w-full aspect-video md:aspect-[5/4] drop-shadow-xl"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-headline text-4xl font-extrabold tracking-tighter text-foreground mb-4 text-center",children:e.teamTitle}),o.jsx("p",{className:"text-center text-muted-foreground mb-8",children:e.teamIntro}),o.jsx(N2,{type:"single",collapsible:!0,className:"w-full max-w-3xl mx-auto",children:n.map((r,s)=>o.jsxs(Gb,{value:`item-${s}`,children:[o.jsx(qb,{className:"text-xl font-bold",children:r.name}),o.jsx(Kb,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 pt-4",children:r.members.map(a=>o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://placehold.co/250x250.png","data-ai-hint":a.imageHint,alt:`Portrait of ${a.name}`,width:250,height:250,className:"rounded-full object-cover aspect-square shadow-lg mx-auto mb-4"}),o.jsx("h3",{className:"font-bold text-lg",children:a.name}),o.jsx("p",{className:"text-sm text-primary",children:a.role})]},a.name))})})]},r.name))}),o.jsx("p",{className:"text-center text-sm text-muted-foreground mt-8",children:e.teamNote})]}),o.jsxs("div",{className:"text-center bg-secondary/30 rounded-2xl p-8 md:p-12",children:[o.jsx("h2",{className:"font-headline text-3xl font-extrabold tracking-tighter text-foreground",children:e.ctaTitle}),o.jsx("p",{className:"mt-2 max-w-xl mx-auto text-foreground/80",children:e.ctaText}),o.jsx(W,{asChild:!0,size:"lg",className:"mt-6",children:o.jsx(ie,{to:"/contact",children:e.ctaButton})})]})]})})})}const Dn=h.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:U("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Dn.displayName="Textarea";const l7={en:{title:"Contact Us",intro:"We're here to help. Reach out with any questions or to arrange a visit.",addressTitle:"School Address",phoneTitle:"Phone",emailTitle:"Email",formTitle:"Send us a Message",formName:"Your Name",formEmail:"Your Email Address",formMessage:"Your Message",formSend:"Send Message",mapTitle:"Find Us",toastSuccessTitle:"Message Sent!",toastSuccessDesc:"Thank you for getting in touch. We'll get back to you soon.",loading:"Loading contact information..."},cy:{title:"Cysylltu  Ni",intro:"Rydym yma i helpu. Cysylltwch ag unrhyw gwestiynau neu i drefnu ymweliad.",addressTitle:"Cyfeiriad yr Ysgol",phoneTitle:"Ffn",emailTitle:"E-bost",formTitle:"Anfonwch neges atom",formName:"Eich Enw",formEmail:"Eich Cyfeiriad E-bost",formMessage:"Eich Neges",formSend:"Anfon Neges",mapTitle:"Dod o Hyd i Ni",toastSuccessTitle:"Neges wedi'i hanfon!",toastSuccessDesc:"Diolch am gysylltu  ni. Byddwn yn ymateb yn fuan.",loading:"Wrthi'n llwytho gwybodaeth gyswllt..."}},c7=t=>ys.object({name:ys.string().min(2,{message:"Please enter your name."}),email:ys.string().email({message:"Please enter a valid email address."}),message:ys.string().min(10,{message:"Message must be at least 10 characters."})}),d7=()=>{const{language:t}=Ce(),e=l7[t],[n,r]=h.useState(!1),[s,a]=h.useState(null),[i,l]=h.useState(!0);h.useEffect(()=>{l(!0),J.getSiteSettings().then(a).catch(console.error).finally(()=>l(!1))},[]);const c=Tn({resolver:Pn(c7()),defaultValues:{name:"",email:"",message:""}});async function d(f){r(!0);try{await new Promise(u=>setTimeout(u,1e3)),c.reset(),alert(e.toastSuccessDesc)}catch(u){console.error("Failed to submit contact form:",u),alert("Could not send your message. Please try again later.")}finally{r(!1)}}return i?o.jsxs("div",{className:"flex h-96 w-full items-center justify-center bg-background",children:[o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("p",{className:"ml-4 text-muted-foreground",children:e.loading})]}):o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-6xl px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-foreground/80",children:e.intro})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-3",children:[o.jsx(CF,{className:"h-6 w-6 text-primary"})," ",e.addressTitle]})}),o.jsxs(ue,{children:[o.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:(s==null?void 0:s.address)||"Address not available"}),o.jsx("div",{className:"mt-4",children:o.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=Maes+Y+Morfa+Primary+Community+School,+Olive+Street,+Llanelli+SA15+2AP,+UK",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[o.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Show in Google Maps"]})})]})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-3",children:[o.jsx(Fv,{className:"h-6 w-6 text-primary"})," ",e.phoneTitle]})}),o.jsx(ue,{children:o.jsx("a",{href:`tel:${s==null?void 0:s.phone}`,className:"text-muted-foreground hover:underline",children:(s==null?void 0:s.phone)||"Phone not available"})})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-3",children:[o.jsx(ks,{className:"h-6 w-6 text-primary"})," ",e.emailTitle]})}),o.jsx(ue,{children:o.jsx("a",{href:`mailto:${s==null?void 0:s.email}`,className:"text-muted-foreground hover:underline",children:(s==null?void 0:s.email)||"Email not available"})})]})]}),o.jsx("div",{children:o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{className:"font-headline text-2xl",children:e.formTitle})}),o.jsx(ue,{children:o.jsx(An,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[o.jsx(he,{control:c.control,name:"name",render:({field:f})=>o.jsxs(me,{children:[o.jsx(de,{children:e.formName}),o.jsx(ye,{children:o.jsx(De,{...f})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:c.control,name:"email",render:({field:f})=>o.jsxs(me,{children:[o.jsx(de,{children:e.formEmail}),o.jsx(ye,{children:o.jsx(De,{type:"email",...f})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:c.control,name:"message",render:({field:f})=>o.jsxs(me,{children:[o.jsx(de,{children:e.formMessage}),o.jsx(ye,{children:o.jsx(Dn,{rows:5,...f})}),o.jsx(Ee,{})]})}),o.jsxs(W,{type:"submit",className:"w-full",disabled:n,children:[n&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e.formSend]})]})})})]})})]})]})})})},u7={en:{title:"Curriculum at Maes Y Morfa",intro:"At Maes Y Morfa Primary, our curriculum is designed to nurture curiosity, inspire creativity, and equip children with the skills they need for the future. Explore what your child will learn at each stage.",stages:[{icon:jS,title:"Early Years (Nursery & Reception)",summary:"Learning through play, building strong foundations in literacy and numeracy in a nurturing environment.",details:"View Details",href:"/early-years"},{icon:Mv,title:"Key Stage 1 (Years 1 & 2)",summary:"Developing core skills in reading, writing, and maths while exploring a broad and balanced range of subjects.",details:"View Details",href:"/key-stage-1"},{icon:vo,title:"Key Stage 2 (Years 3-6)",summary:"Fostering independent learning and deeper subject knowledge to prepare pupils for their transition to secondary school.",details:"View Details",href:"/key-stage-2"},{icon:wS,title:"Beyond the Classroom",summary:"Enriching the curriculum through outdoor learning, educational trips, and a wide variety of after-school clubs.",details:"View Details",href:"/beyond-the-classroom"}],learnMoreTitle:"Learn More",learnMoreBody:"Have a question about our curriculum? We'd love to hear from you. Please contact the school office to speak to a member of staff.",contactUs:"Contact Us"},cy:{title:"Cwricwlwm ym Maes Y Morfa",intro:"Ym Maes Y Morfa, mae ein cwricwlwm wedi'i gynllunio i feithrin chwilfrydedd, ysbrydoli creadigrwydd, a rhoi'r sgiliau sydd eu hangen ar blant ar gyfer y dyfodol. Archwiliwch beth fydd eich plentyn yn ei ddysgu ar bob cam.",stages:[{icon:jS,title:"Blynyddoedd Cynnar (Meithrin a Derbyn)",summary:"Dysgu drwy chwarae, adeiladu sylfeini cryf mewn llythrennedd a rhifedd mewn amgylchedd meithringar.",details:"Gweld Manylion",href:"/early-years"},{icon:Mv,title:"Cyfnod Allweddol 1 (Blynyddoedd 1 a 2)",summary:"Datblygu sgiliau craidd mewn darllen, ysgrifennu, a mathemateg wrth archwilio ystod eang a chytbwys o bynciau.",details:"Gweld Manylion",href:"/key-stage-1"},{icon:vo,title:"Cyfnod Allweddol 2 (Blynyddoedd 3-6)",summary:"Meithrin dysgu annibynnol a gwybodaeth bwnc ddyfnach i baratoi disgyblion ar gyfer eu trosglwyddiad i'r ysgol uwchradd.",details:"Gweld Manylion",href:"/key-stage-2"},{icon:wS,title:"Y Tu Hwnt i'r Ystafell Ddosbarth",summary:"Cyfoethogi'r cwricwlwm drwy ddysgu yn yr awyr agored, teithiau addysgol, ac amrywiaeth eang o glybiau ar l ysgol.",details:"Gweld Manylion",href:"/beyond-the-classroom"}],learnMoreTitle:"Dysgu Mwy",learnMoreBody:"Oes gennych chi gwestiwn am ein cwricwlwm? Byddem wrth ein bodd yn clywed gennych. Cysylltwch  swyddfa'r ysgol i siarad ag aelod o staff.",contactUs:"Cysylltu  Ni"}};function f7(){const{language:t}=Ce(),e=u7[t];return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-foreground/80",children:e.intro})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.stages.map((n,r)=>{const s=n.icon;return o.jsxs(oe,{className:"flex flex-col",children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-secondary shadow-inner",children:o.jsx(s,{className:"h-6 w-6 text-primary"})}),o.jsx(_e,{className:"font-headline text-xl",children:n.title})]})}),o.jsx(ue,{className:"flex-grow",children:o.jsx(ut,{children:n.summary})}),o.jsx("div",{className:"p-6 pt-0",children:o.jsx(W,{variant:"outline",className:"w-full",asChild:!0,children:o.jsxs(ie,{to:n.href,children:[n.details," ",o.jsx(dc,{className:"ml-2 h-4 w-4"})]})})})]},r)})}),o.jsxs("div",{className:"text-center border-t pt-12",children:[o.jsx("h3",{className:"font-headline text-3xl font-bold",children:e.learnMoreTitle}),o.jsx("p",{className:"text-muted-foreground mt-2 max-w-xl mx-auto",children:e.learnMoreBody}),o.jsx("div",{className:"flex items-center justify-center gap-4 mt-6",children:o.jsx(W,{asChild:!0,children:o.jsxs(ie,{to:"/contact",children:[o.jsx(ks,{className:"mr-2 h-4 w-4"}),e.contactUs]})})})]})]})})})}const h7={en:{title:"Key Stage 2",description:"Key Stage 2 curriculum and learning objectives."},cy:{title:"Cyfnod Allweddol 2",description:"Cwricwlwm a nodau dysgu Cyfnod Allweddol 2."}};function m7(){const{language:t}=Ce(),e=h7[t];return o.jsxs("div",{className:"container mx-auto px-8 py-16",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",children:e.title}),o.jsx("p",{className:"text-lg",children:e.description})]})}const p7={en:{title:"Early Years (Nursery & Reception)",intro:"In our Early Years, learning happens through play, building strong foundations in literacy and numeracy in a nurturing environment. Details coming soon.",back:"Back to Curriculum Overview"},cy:{title:"Blynyddoedd Cynnar (Meithrin a Derbyn)",intro:"Yn ein Blynyddoedd Cynnar, mae dysgu'n digwydd drwy chwarae, gan adeiladu sylfeini cryf mewn llythrennedd a rhifedd mewn amgylchedd meithringar. Manylion yn dod yn fuan.",back:"Yn l i'r Trosolwg Cwricwlwm"}};function g7(){const{language:t}=Ce(),e=p7[t];return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(ie,{to:"/curriculum",className:"flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(cc,{className:"mr-2 h-4 w-4"})," ",e.back]})}),o.jsx("div",{className:"text-center",children:o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title})}),o.jsx("div",{className:"prose prose-lg max-w-none text-foreground/90",children:o.jsx("p",{children:e.intro})}),o.jsx("div",{className:"aspect-video w-full bg-muted rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Image/Content coming soon"})})]})})})}const y7={en:{title:"Key Stage 1 (Years 1 & 2)",intro:"In Key Stage 1, we develop core skills in reading, writing, and mathematics while exploring a broad and balanced range of subjects. Details coming soon.",back:"Back to Curriculum Overview"},cy:{title:"Cyfnod Allweddol 1 (Blynyddoedd 1 a 2)",intro:"Yng Nghyfnod Allweddol 1, rydym yn datblygu sgiliau craidd mewn darllen, ysgrifennu, a mathemateg wrth archwilio ystod eang a chytbwys o bynciau. Manylion yn dod yn fuan.",back:"Yn l i'r Trosolwg Cwricwlwm"}};function v7(){const{language:t}=Ce(),e=y7[t];return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(ie,{to:"/curriculum",className:"flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(cc,{className:"mr-2 h-4 w-4"})," ",e.back]})}),o.jsx("div",{className:"text-center",children:o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title})}),o.jsx("div",{className:"prose prose-lg max-w-none text-foreground/90",children:o.jsx("p",{children:e.intro})}),o.jsx("div",{className:"aspect-video w-full bg-muted rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Image/Content coming soon"})})]})})})}const x7={en:{title:"Beyond the Classroom",intro:"Enriching the curriculum through outdoor learning, educational trips, and a wide variety of after-school clubs. Details coming soon.",back:"Back to Curriculum Overview"},cy:{title:"Y Tu Hwnt i'r Ystafell Ddosbarth",intro:"Cyfoethogi'r cwricwlwm drwy ddysgu yn yr awyr agored, teithiau addysgol, ac amrywiaeth eang o glybiau ar l ysgol. Manylion yn dod yn fuan.",back:"Yn l i'r Trosolwg Cwricwlwm"}};function w7(){const{language:t}=Ce(),e=x7[t];return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(ie,{to:"/curriculum",className:"flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(cc,{className:"mr-2 h-4 w-4"})," ",e.back]})}),o.jsx("div",{className:"text-center",children:o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title})}),o.jsx("div",{className:"prose prose-lg max-w-none text-foreground/90",children:o.jsx("p",{children:e.intro})}),o.jsx("div",{className:"aspect-video w-full bg-muted rounded-lg flex items-center justify-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Image/Content coming soon"})})]})})})}const b7={en:{title:"Admissions",subtitle:"Join Maes Y Morfa Primary School",intro:"We welcome applications for children of all backgrounds and abilities. If you are interested in joining our school, here's how to get started:",howToApply:"How to Apply",step1Title:"1. Contact Us",step1Body:"Phone the school office or email us to arrange a visit or request an admissions pack.",step2Title:"2. Complete an Application Form",step2Body:"Download our application form below or collect one from the school office. Fill it in and return it to useither by email, post, or in person.",downloadButton:"Download Application Form",step3Title:"3. Arrange a School Visit",step3Body:"We strongly encourage prospective parents and children to visit. You'll meet staff, see our facilities, and ask any questions.",policyTitle:"Admissions Policy",policyBody:"We follow Carmarthenshire Local Authority's admissions criteria. For detailed admissions criteria and procedures, see the link below.",policyLink:"Carmarthenshire LA Admissions",startingTitle:"Starting School",startingBody1:"Once your place is confirmed, we will contact you with a start date and induction details.",startingBody2:"If your child is joining part-way through the year, we'll work with you to make the transition as smooth as possible.",helpTitle:"Need help?",helpBody:"Contact the school officewe're happy to answer any questions about the process."},cy:{title:"Derbyniadau",subtitle:"Ymunwch ag Ysgol Gynradd Maes Y Morfa",intro:"Rydym yn croesawu ceisiadau gan blant o bob cefndir a gallu. Os oes gennych ddiddordeb mewn ymuno 'n hysgol, dyma sut i ddechrau:",howToApply:"Sut i Ymgeisio",step1Title:"1. Cysylltwch  Ni",step1Body:"Ffoniwch swyddfa'r ysgol neu anfonwch e-bost atom i drefnu ymweliad neu ofyn am becyn derbyn.",step2Title:"2. Cwblhewch Ffurflen Gais",step2Body:"Lawrlwythwch ein ffurflen gais isod neu casglwch un o swyddfa'r ysgol. Llenwch hi a'i dychwelyd atomnaill ai drwy e-bost, post, neu'n bersonol.",downloadButton:"Lawrlwytho'r Ffurflen Gais",step3Title:"3. Trefnwch Ymweliad ag Ysgol",step3Body:"Rydym yn annog darpar rieni a phlant i ymweld. Byddwch yn cwrdd  staff, yn gweld ein cyfleusterau, ac yn gofyn unrhyw gwestiynau.",policyTitle:"Polisi Derbyniadau",policyBody:"Rydym yn dilyn meini prawf derbyn Awdurdod Lleol Sir Gaerfyrddin. Am feini prawf a gweithdrefnau derbyn manwl, gweler y ddolen isod.",policyLink:"Derbyniadau ALl Sir Gr",startingTitle:"Dechrau'r Ysgol",startingBody1:"Unwaith y bydd eich lle wedi'i gadarnhau, byddwn yn cysylltu  chi gyda dyddiad dechrau a manylion ymsefydlu.",startingBody2:"Os yw'ch plentyn yn ymuno'n rhan-ffordd drwy'r flwyddyn, byddwn yn gweithio gyda chi i wneud y trosglwyddiad mor llyfn  phosibl.",helpTitle:"Angen cymorth?",helpBody:"Cysylltwch  swyddfa'r ysgolrydym yn hapus i ateb unrhyw gwestiynau am y broses."}};function j7(){const{language:t}=Ce(),e=b7[t],[n,r]=h.useState(null),[s,a]=h.useState(!0);return h.useEffect(()=>{a(!0),J.getSiteSettings().then(r).catch(console.error).finally(()=>a(!1))},[]),o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-foreground/80",children:e.subtitle})]}),o.jsx("div",{className:"prose prose-lg max-w-none text-foreground/90 text-center",children:o.jsx("p",{children:e.intro})}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{className:"font-headline text-3xl",children:e.howToApply})}),o.jsxs(ue,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-primary",children:e.step1Title}),o.jsx("p",{className:"text-muted-foreground",children:e.step1Body}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-2",children:[o.jsx(W,{variant:"outline",asChild:!0,children:o.jsxs("a",{href:`tel:${e.phone}`,children:[o.jsx(Fv,{className:"mr-2 h-4 w-4"}),e.phone]})}),o.jsx(W,{variant:"outline",asChild:!0,children:o.jsxs("a",{href:`mailto:${e.email}`,children:[o.jsx(ks,{className:"mr-2 h-4 w-4"}),e.email]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-primary",children:e.step2Title}),o.jsx("p",{className:"text-muted-foreground",children:e.step2Body}),o.jsx("div",{className:"mt-2",children:o.jsxs(W,{children:[o.jsx(qw,{className:"mr-2 h-4 w-4"}),e.downloadButton]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-primary",children:e.step3Title}),o.jsx("p",{className:"text-muted-foreground",children:e.step3Body})]})]})]}),o.jsxs(oe,{className:"bg-secondary/30",children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-3 font-headline text-2xl",children:[o.jsx(qd,{className:"h-6 w-6 text-primary"})," ",e.policyTitle]})}),o.jsxs(ue,{children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:e.policyBody}),o.jsx(W,{asChild:!0,variant:"outline",children:o.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:[e.policyLink," ",o.jsx(Tk,{className:"ml-2 h-4 w-4"})]})})]})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{className:"font-headline text-2xl",children:e.startingTitle})}),o.jsxs(ue,{className:"prose max-w-none text-muted-foreground",children:[o.jsx("p",{children:e.startingBody1}),o.jsx("p",{children:e.startingBody2})]})]}),o.jsxs("div",{className:"text-center border-t pt-8",children:[o.jsx(Iv,{className:"mx-auto h-10 w-10 text-primary mb-2"}),o.jsx("h3",{className:"font-headline text-2xl font-bold",children:e.helpTitle}),o.jsx("p",{className:"text-muted-foreground mt-2",children:e.helpBody}),o.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mt-4",children:s?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(We,{className:"h-4 w-4 animate-spin"}),"Loading contact information..."]}):o.jsxs(o.Fragment,{children:[o.jsx(W,{asChild:!0,children:o.jsxs("a",{href:`tel:${n==null?void 0:n.phone}`,children:[o.jsx(Fv,{className:"mr-2 h-4 w-4"}),(n==null?void 0:n.phone)||"Phone not available"]})}),o.jsx(W,{asChild:!0,children:o.jsxs("a",{href:`mailto:${n==null?void 0:n.email}`,children:[o.jsx(ks,{className:"mr-2 h-4 w-4"}),(n==null?void 0:n.email)||"Email not available"]})})]})})]})]})})})}const S7={en:{title:"Kids' Corner",intro:"Welcome to the fun zone! More cool games coming soon...",gameTitle:"Morfa Runner",howToPlay:"How to Play",instructions:"Help our Ysgol Maes Y Morfa student race through the school grounds! Jump over obstacles and collect values for bonus points. The longer you run, the faster it gets!",controls:"Press SPACE to jump, and again in mid-air for a double jump!",gameElements:"In the game:",elements:[{name:"Jump over the Books",image:"books.png"},{name:"Dodge the School Bag",image:"bag.png"},{name:"Avoid Mrs Jones!",image:"teacher.png"},{name:"Collect the School Values for bonus points",image:"values.png"}]},cy:{title:"Cornel y Plant",intro:"Croeso i'r ardal hwyl! Mwy o gemau cl yn dod yn fuan...",gameTitle:"Rhedwr Morfa",howToPlay:"Sut i Chwarae",instructions:"Helpwch ein myfyriwr o Ysgol Maes Y Morfa i rasio drwy dir yr ysgol! Neidiwch dros rwystrau a chasglu gwerthoedd am bwyntiau bonws. Po hiraf y byddwch chi'n rhedeg, y cyflymaf y bydd hi'n mynd!",controls:"Pwyswch SPACE i neidio, ac eto yn yr awyr am naid ddwbl!",gameElements:"Yn y gm:",elements:[{name:"Neidio dros y Llyfrau",image:"books.png"},{name:"Osgowch y Bag Ysgol",image:"bag.png"},{name:"Osgowch Mrs Jones!",image:"teacher.png"},{name:"Casglwch Werthoedd yr Ysgol am bwyntiau bonws",image:"values.png"}]}};function _7(){const{language:t}=Ce(),e=S7[t];return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"p-4 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:o.jsx(Rv,{className:"h-12 w-12"})})}),o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-foreground/80",children:e.intro})]}),o.jsxs(oe,{className:"bg-secondary/30",children:[o.jsx(Se,{children:o.jsx(_e,{children:e.gameTitle})}),o.jsxs(ue,{children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:e.howToPlay}),o.jsx("p",{className:"text-muted-foreground",children:e.instructions}),o.jsx("p",{className:"text-muted-foreground mt-2",children:o.jsx("strong",{children:e.controls})})]}),o.jsxs("div",{className:"border-t md:border-t-0 md:border-l pl-0 md:pl-8 pt-6 md:pt-0",children:[o.jsx("h3",{className:"font-bold text-lg mb-3",children:e.gameElements}),o.jsx("div",{className:"space-y-3",children:e.elements.map(n=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:`/morfa-runner/images/${n.image}`,alt:n.name,width:40,height:40,className:"object-contain"}),o.jsx("span",{className:"text-muted-foreground font-medium",children:n.name})]},n.name))})]})]}),o.jsx("div",{className:"aspect-[900/400] w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:o.jsx("iframe",{src:"/morfa-runner/index.html",className:"w-full h-full border-0",title:"Morfa Runner Game",allow:"fullscreen"})})]})]})]})})})}const N7=Mi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vn({className:t,variant:e,...n}){return o.jsx("div",{className:U(N7({variant:e}),t),...n})}const C7={en:{title:"News & Announcements",description:"The latest updates, news, and announcements from Maes Y Morfa.",readMore:"Read More",urgent:"Urgent"},cy:{title:"Newyddion a Hysbysiadau",description:"Y diweddariadau, newyddion a hysbysiadau diweddaraf o Maes Y Morfa.",readMore:"Darllen Mwy",urgent:"Pwysig"}};function k7(){const{language:t}=Ce(),e=C7[t],n=mp.filter(s=>s.published),r=s=>{const a=new Date(s),i={year:"numeric",month:"long",day:"numeric"},l=t==="cy"?["cy-GB","cy","en-GB","en"]:["en-GB","en"];for(const c of l)try{return a.toLocaleDateString(c,i)}catch{}return a.toLocaleDateString(void 0,i)};return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-7xl px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-7xl",children:e.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-foreground/80",children:e.description})]}),o.jsx("div",{className:"space-y-8",children:n.map(s=>o.jsx(oe,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(ie,{to:`/news/${s.slug}`,className:"block",children:[o.jsxs(Se,{children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zn,{className:"h-4 w-4"}),o.jsx("span",{children:r(s.date)})]}),s.isUrgent&&o.jsx(Vn,{variant:"destructive",children:e.urgent})]}),o.jsx(_e,{className:"text-2xl font-bold text-primary hover:underline",children:s[`title_${t}`]})]}),o.jsxs(ue,{children:[o.jsx("p",{className:"text-muted-foreground line-clamp-2",children:s[`body_${t}`].replace(/<[^>]*>?/gm,"")}),o.jsxs("div",{className:"flex items-center text-primary font-semibold mt-4",children:[e.readMore," ",o.jsx(dc,{className:"ml-2 h-4 w-4"})]})]})]})},s.id))})]})})})}const E7={en:{back:"Back to all news",urgent:"Urgent",by:"Posted on",attachment:"Attachment",questionTitle:"Have a question about this?",questionDesc:"Your message will be sent privately to the school office.",messageLabel:"Your Message",sendButton:"Send to Admin",toastSuccess:"Your message has been sent.",toastError:"Could not send your message. Please try again."},cy:{back:"Yn l i'r holl newyddion",urgent:"Pwysig",by:"Postiwyd ar",attachment:"Atodiad",questionTitle:"Oes cwestiwn gennych am hyn?",questionDesc:"Anfonir eich neges yn breifat at swyddfa'r ysgol.",messageLabel:"Eich Neges",sendButton:"Anfon at y Gweinyddwr",toastSuccess:"Mae eich neges wedi'i hanfon.",toastError:"Methu anfon eich neges. Rhowch gynnig arall arni."}},T7=ys.object({message:ys.string().min(10,{message:"Message must be at least 10 characters."})}),P7=({articleTitle:t,t:e})=>{const{toast:n}=dt(),[r,s]=h.useState(!1),[a,i]=h.useState(!1);h.useEffect(()=>{const d=localStorage.getItem("isAuthenticated")==="true"&&localStorage.getItem("userRole")==="parent";i(d)},[]);const l=Tn({resolver:Pn(T7),defaultValues:{message:""}});async function c(d){s(!0);const f={name:"Jane Doe",email:"parent@example.com"};try{await J.addInboxMessage({type:"contact",subject:`Question re: "${t}"`,body:d.message,sender:f,isRead:!1,createdAt:new Date().toISOString()}),n({title:e.toastSuccess}),l.reset()}catch(u){console.error("Failed to send message:",u),n({title:e.toastError,variant:"destructive"})}finally{s(!1)}}return a?o.jsxs(oe,{className:"mt-12",children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-3",children:[o.jsx(bl,{className:"h-6 w-6 text-primary"})," ",e.questionTitle]}),o.jsx(ut,{children:e.questionDesc})]}),o.jsx(ue,{children:o.jsx(An,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(he,{control:l.control,name:"message",render:({field:d})=>o.jsxs(me,{children:[o.jsx(de,{children:e.messageLabel}),o.jsx(ye,{children:o.jsx(Dn,{...d,rows:4})}),o.jsx(Ee,{})]})}),o.jsxs(W,{type:"submit",disabled:r,children:[r&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),o.jsx(Eu,{className:"mr-2 h-4 w-4"})," ",e.sendButton]})]})})})]}):null};function A7(){const{language:t}=Ce(),e=E7[t],{slug:n}=V4(),r=mp.find(c=>c.slug===n);if(!r)return o.jsx(ek,{to:"/news",replace:!0});const s=c=>{const d=new Date(c),f={year:"numeric",month:"long",day:"numeric"},u=t==="cy"?["cy-GB","cy","en-GB","en"]:["en-GB","en"];for(const m of u)try{return d.toLocaleDateString(m,f)}catch{}return d.toLocaleDateString(void 0,f)},a=r[`title_${t}`],i=r[`body_${t}`],l=s(r.date);return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(ie,{to:"/news",className:"flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[o.jsx(cc,{className:"mr-2 h-4 w-4"})," ",e.back]})}),o.jsxs("article",{children:[o.jsxs("header",{className:"mb-8",children:[r.isUrgent&&o.jsx(Vn,{variant:"destructive",className:"mb-2",children:e.urgent}),o.jsx("h1",{className:"font-headline text-4xl font-extrabold tracking-tighter text-foreground md:text-5xl",children:a}),o.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(zn,{className:"h-4 w-4"}),o.jsxs("span",{children:[e.by," ",l]})]})]}),o.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert text-foreground/90",dangerouslySetInnerHTML:{__html:i}}),r.attachmentUrl&&r.attachmentName&&o.jsxs("div",{className:"mt-12 rounded-lg border bg-secondary/30 p-6",children:[o.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[o.jsx(Ak,{className:"h-5 w-5"}),e.attachment]}),o.jsx(W,{asChild:!0,children:o.jsxs("a",{href:r.attachmentUrl,download:r.attachmentName,children:["Download ",r.attachmentName]})})]})]}),o.jsx(P7,{articleTitle:r.title_en,t:e})]})})})}const D7={en:{title:"Key Information",intro:"Find essential information for parents, including term dates, uniform policies, and lunch menus.",termDates:{title:"Term Dates",body:"View the academic calendar for the current school year. Please note INSET days are subject to change.",button:"Download Term Dates"},uniform:{title:"School Uniform",body:"Our school uniform helps to create a sense of identity and pride. Please ensure your child comes to school in the correct uniform.",button:"View Uniform Policy"},lunchMenu:{title:"Lunch Menu",body:"We offer a rotating menu of healthy and delicious school lunches, prepared fresh on site.",button:"Download Lunch Menu"},policies:{title:"Statutory Policies",body:"Access our key statutory policies below.",links:[{label:"Safeguarding Policy",category:"Policy"},{label:"Privacy Policy",category:"Policy"},{label:"Complaints Procedure",category:"Policy"}]},noDocument:"Document not available."},cy:{title:"Gwybodaeth Allweddol",intro:"Dewch o hyd i wybodaeth hanfodol i rieni, gan gynnwys dyddiadau tymor, polisau gwisg ysgol, a bwydlenni cinio.",termDates:{title:"Dyddiadau'r Tymor",body:"Gweler y calendr academaidd ar gyfer y flwyddyn ysgol gyfredol. Nodwch y gall diwrnodau HMS newid.",button:"Lawrlwytho Dyddiadau Tymor"},uniform:{title:"Gwisg Ysgol",body:"Mae ein gwisg ysgol yn helpu i greu ymdeimlad o hunaniaeth a balchder. Sicrhewch fod eich plentyn yn dod i'r ysgol yn y wisg gywir.",button:"Gweld y Polisi Gwisg Ysgol"},lunchMenu:{title:"Bwydlen Ginio",body:"Rydym yn cynnig bwydlen gylchdroi o giniawau ysgol iach a blasus, wedi'u paratoi'n ffres ar y safle.",button:"Lawrlwytho'r Fwydlen Ginio"},policies:{title:"Polisau Statudol",body:"Cyrchwch ein polisau statudol allweddol isod.",links:[{label:"Polisi Diogelu",category:"Policy"},{label:"Polisi Preifatrwydd",category:"Policy"},{label:"Gweithdrefn Cwynion",category:"Policy"}]},noDocument:"Dogfen ddim ar gael."}},M7=()=>{const{language:t}=Ce(),e=D7[t],[n,r]=h.useState([]),[s,a]=h.useState(!0);h.useEffect(()=>{r([{id:"1",title:"Term Dates 2024-2025",file_url:"/documents/term-dates-2024-25.pdf",category:"Term Dates"},{id:"2",title:"School Uniform Policy",file_url:"/documents/uniform-policy.pdf",category:"Uniform"},{id:"3",title:"Lunch Menu - Autumn Term",file_url:"/documents/lunch-menu-autumn.pdf",category:"Lunch Menu"},{id:"4",title:"Safeguarding Policy",file_url:"/documents/safeguarding-policy.pdf",category:"Policy"},{id:"5",title:"Privacy Policy",file_url:"/documents/privacy-policy.pdf",category:"Policy"},{id:"6",title:"Complaints Procedure",file_url:"/documents/complaints-procedure.pdf",category:"Policy"}]),a(!1)},[]);const i=d=>{var f;return(f=n.find(u=>u.category===d))==null?void 0:f.file_url},l=[{icon:zn,title:e.termDates.title,body:e.termDates.body,button:e.termDates.button,category:"Term Dates"},{icon:Bv,title:e.uniform.title,body:e.uniform.body,button:e.uniform.button,category:"Uniform"},{icon:Ok,title:e.lunchMenu.title,body:e.lunchMenu.body,button:e.lunchMenu.button,category:"Lunch Menu"}],c=n.filter(d=>d.category==="Policy");return o.jsx("div",{className:"bg-background",children:o.jsx("section",{className:"w-full py-16 md:py-24",children:o.jsxs("div",{className:"container mx-auto max-w-4xl px-8 space-y-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"font-headline text-5xl font-extrabold tracking-tighter text-foreground md:text-6xl",children:e.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-foreground/80",children:e.intro})]}),s?o.jsx("div",{className:"flex justify-center",children:o.jsx(We,{className:"animate-spin"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((d,f)=>{const u=d.icon,m=i(d.category);return o.jsxs(oe,{className:"flex flex-col",children:[o.jsxs(Se,{className:"flex-row items-center gap-4",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-secondary shadow-inner flex-shrink-0",children:o.jsx(u,{className:"h-6 w-6 text-primary"})}),o.jsx(_e,{className:"font-headline text-xl",children:d.title})]}),o.jsx(ue,{className:"flex-grow",children:o.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:d.body})}),o.jsx("div",{className:"p-6 pt-0",children:o.jsx(W,{className:"w-full whitespace-normal h-auto py-2",asChild:!0,disabled:!m,children:o.jsxs("a",{href:m||"#",download:!0,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(qw,{className:"mr-2 h-4 w-4"}),m?d.button:e.noDocument]})})})]},f)})}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-3 font-headline text-2xl",children:[o.jsx(OF,{className:"h-6 w-6 text-primary"})," ",e.policies.title]})}),o.jsxs(ue,{children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:e.policies.body}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.length>0?c.map(d=>o.jsx(W,{asChild:!0,variant:"outline",children:o.jsxs("a",{href:d.file_url,target:"_blank",rel:"noopener noreferrer",children:[d.title," ",o.jsx(Tk,{className:"ml-2 h-4 w-4"})]})},d.id)):o.jsx("p",{className:"text-sm text-muted-foreground",children:e.noDocument})})]})]})]})]})})})},O7=Mi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),C2=h.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:U(O7({variant:e}),t),...n}));C2.displayName="Alert";const k2=h.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:U("mb-1 font-medium leading-none tracking-tight",t),...e}));k2.displayName="AlertTitle";const E2=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:U("text-sm [&_p]:leading-relaxed",t),...e}));E2.displayName="AlertDescription";const R7=yn({email:Ke().email({message:"Please enter a valid email address."}),password:Ke().min(6,{message:"Password must be at least 6 characters."})}),If={parent:{email:"parent@example.com",password:"password123"},teacher:{email:"teacher@example.com",password:"password123"},admin:{email:"admin@example.com",password:"password123"}};function Zb({userRole:t="parent"}){const e=Mo(),{toast:n}=dt(),[r,s]=h.useState(!1),[a,i]=h.useState(null),l=Tn({resolver:Pn(R7),defaultValues:{email:"",password:""}});async function c(d){s(!0),i(null);const f=If[t];if(d.email===f.email&&d.password===f.password)await new Promise(m=>setTimeout(m,600)),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userRole",t),localStorage.setItem("userEmail",d.email);else{i(`Invalid credentials. Use ${f.email} / ${f.password}`),s(!1);return}s(!1),n({title:"Login Successful",description:`Welcome to the ${t} portal!`});let u="/dashboard";t==="admin"?u="/admin/dashboard":t==="teacher"&&(u="/teacher/dashboard"),e(u)}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Demo Credentials"}),o.jsxs("div",{className:"text-xs text-blue-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",If[t].email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Password:"})," ",If[t].password]})]})]}),a&&o.jsxs(C2,{variant:"destructive",children:[o.jsx(k2,{children:"Login Failed"}),o.jsx(E2,{children:a})]}),o.jsx(An,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(he,{control:l.control,name:"email",render:({field:d})=>o.jsxs(me,{children:[o.jsx(de,{children:"Email Address"}),o.jsx(ye,{children:o.jsx(De,{placeholder:If[t].email,...d})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:l.control,name:"password",render:({field:d})=>o.jsxs(me,{children:[o.jsx(de,{children:"Password"}),o.jsx(ye,{children:o.jsx(De,{type:"password",placeholder:"",...d})}),o.jsx(Ee,{})]})}),o.jsxs(W,{type:"submit",className:"w-full",disabled:r,children:[r&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]})}),o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:t==="parent"?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:["Don't have an account? ",o.jsx(ie,{to:"/signup",className:"underline",children:"Sign up"})]}),o.jsxs("p",{children:["Forgot your password? ",o.jsx(ie,{to:"/signup",className:"underline",children:"Reset it"})]})]}):o.jsx("p",{children:"Contact your system administrator for access."})})]})}function I7(){return o.jsxs("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(ie,{to:"/",className:"text-sm text-muted-foreground hover:text-primary",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:" Back to Public Site"})}),o.jsxs(oe,{className:"w-full max-w-md shadow-2xl border-0",children:[o.jsxs(Se,{className:"text-center pt-8 pb-6",children:[o.jsx(ie,{to:"/",className:"mx-auto mb-4 flex items-center justify-center",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o.jsx("img",{src:"/logo.png",alt:"School logo",className:"h-16 w-16"})}),o.jsx(_e,{className:"font-headline text-2xl mb-2",children:"Parent Portal Login"}),o.jsx(ut,{children:"Access your child's information and school updates."})]}),o.jsx(ue,{children:o.jsx(Zb,{userRole:"parent"})})]})]})}function $7(){return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"/logo.png",alt:"Maes Y Morfa Primary School",width:120,height:120,className:"mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Create Account"}),o.jsx("p",{className:"text-muted-foreground",children:"Sign up to get started"})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:"Sign Up"}),o.jsx(ut,{children:"Create your account to get started"})]}),o.jsx(ue,{children:o.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",o.jsx(ie,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})})]})]})})}const L7={en:{welcome:"Welcome Back!",description:"This is your content management system. Select a topic below for a quick guide.",stats:{pupils:"Total Pupils",parents:"Parent Accounts",documents:"Documents"},quickActions:{title:"Quick Actions",description:"Jump directly to common tasks. Each page includes interactive tutorials to guide you."},topics:[{title:"Announcements"},{title:"Staff Directory"},{title:"Parent Accounts"},{title:"Child Profiles"},{title:"Documents"}]},cy:{welcome:"Croeso'n l!",description:"Dyma eich system rheoli cynnwys. Dewiswch bwnc isod am ganllaw cyflym.",stats:{pupils:"Cyfanswm Disgyblion",parents:"Cyfrifon Rhieni",documents:"Dogfennau"},quickActions:{title:"Gweithredoedd Cyflym",description:"Neidiwch yn uniongyrchol i dasgau cyffredin. Mae pob tudalen yn cynnwys tiwtorialau rhyngweithiol i'ch arwain."},topics:[{title:"Cyhoeddiadau"},{title:"Cyfeirlyfr Staff"},{title:"Cyfrifon Rhieni"},{title:"Proffiliau Plant"},{title:"Dogfennau"}]}};function F7(){const{language:t}=Ce(),e=L7[t],n=[{id:"announcements",title:e.topics[0].title,description:t==="en"?"Create announcements":"Creu cyhoeddiadau",icon:Gd,href:"/admin/announcements"},{id:"staff",title:e.topics[1].title,description:t==="en"?"Manage staff":"Rheoli staff",icon:vo,href:"/admin/staff"},{id:"parents",title:e.topics[2].title,description:t==="en"?"Add parent accounts":"Ychwanegu cyfrifon rhieni",icon:ah,href:"/admin/parents"},{id:"children",title:e.topics[3].title,description:t==="en"?"Enrol students":"Cofrestru myfyrwyr",icon:sh,href:"/admin/children"},{id:"documents",title:e.topics[4].title,description:t==="en"?"Upload files":"Llwytho ffeiliau",icon:bs,href:"/admin/documents"}],[r,s]=h.useState([{label:e.stats.pupils,value:null,icon:sh},{label:e.stats.parents,value:null,icon:ah},{label:e.stats.documents,value:null,icon:bs}]);return h.useEffect(()=>{(async()=>{try{const[i,l,c]=await Promise.all([J.getCollectionCount("children"),J.getCollectionCount("parents"),J.getCollectionCount("documents")]);s([{label:e.stats.pupils,value:i,icon:sh},{label:e.stats.parents,value:l,icon:ah},{label:e.stats.documents,value:c,icon:bs}])}catch(i){console.error("Failed to fetch collection counts:",i)}})()},[e.stats.pupils,e.stats.parents,e.stats.documents]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e.welcome}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(a=>{const i=a.icon;return o.jsxs(oe,{children:[o.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(_e,{className:"text-sm font-medium",children:a.label}),o.jsx(i,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(ue,{children:a.value===null?o.jsx(We,{className:"h-6 w-6 animate-spin"}):o.jsx("div",{className:"text-2xl font-bold",children:a.value})})]},a.label)})}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:e.quickActions.title}),o.jsx(ut,{children:e.quickActions.description})]}),o.jsx(ue,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(a=>{const i=a.icon;return o.jsx(W,{asChild:!0,variant:"outline",className:"p-4 h-auto flex flex-col items-center justify-center text-center hover:bg-primary/5",children:o.jsxs(ie,{to:a.href,children:[o.jsx(i,{className:"h-8 w-8 mb-2 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:a.title}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:a.description})]})},a.id)})})})]})]})}const T2=h.createContext(void 0),D_="maesymorfa_tutorial_progress";function U7({children:t}){const[e,n]=h.useState(null),[r,s]=h.useState(0),[a,i]=h.useState(!1),[l,c]=h.useState([]),[d,f]=h.useState(!0),[u,m]=h.useState(!0);h.useEffect(()=>{const _=localStorage.getItem(D_);if(_)try{const N=JSON.parse(_);c(N.completedTutorials||[]),f(N.showHelpButtons??!0),m(N.autoStartForNewUsers??!0)}catch(N){console.warn("Failed to load tutorial progress:",N)}},[]),h.useEffect(()=>{const _={completedTutorials:l,showHelpButtons:d,autoStartForNewUsers:u};localStorage.setItem(D_,JSON.stringify(_))},[l,d,u]);const p=_=>{n(_),s(0),i(!0)},g=()=>{e&&r<e.steps.length-1?s(_=>_+1):v()},x=()=>{r>0&&s(_=>_-1)},y=()=>{n(null),s(0),i(!1)},v=()=>{e&&w(e.id),n(null),s(0),i(!1)},w=_=>{c(N=>N.includes(_)?N:[...N,_])},j={activeTutorial:e,currentStep:r,isActive:a,startTutorial:p,nextStep:g,previousStep:x,skipTutorial:y,completeTutorial:v,completedTutorials:l,markTutorialCompleted:w,isTutorialCompleted:_=>l.includes(_),showHelpButtons:d,setShowHelpButtons:f,autoStartForNewUsers:u,setAutoStartForNewUsers:m};return o.jsx(T2.Provider,{value:j,children:t})}function Ar(){const t=h.useContext(T2);if(t===void 0)throw new Error("useTutorial must be used within a TutorialProvider");return t}function $s({tutorials:t,position:e="bottom-right",className:n=""}){const{startTutorial:r,isTutorialCompleted:s,showHelpButtons:a,setShowHelpButtons:i}=Ar(),{language:l}=Ce(),[c,d]=h.useState(!1),u={en:{help:"Help & Tutorials",startTutorial:"Start Tutorial",completed:"Completed",noTutorials:"No tutorials available for this page.",hideHelp:"Hide help buttons",showHelp:"Show help buttons",settings:"Tutorial Settings"},cy:{help:"Cymorth a Thiwtorialau",startTutorial:"Dechrau Tiwtorial",completed:"Wedi Cwblhau",noTutorials:"Dim tiwtorialau ar gael ar gyfer y dudalen hon.",hideHelp:"Cuddio botymau cymorth",showHelp:"Dangos botymau cymorth",settings:"Gosodiadau Tiwtorial"}}[l];if(!a)return o.jsx("button",{onClick:()=>i(!0),className:`fixed z-30 p-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-full shadow-lg transition-all duration-200 opacity-50 hover:opacity-100 ${e==="bottom-right"?"bottom-4 right-4":e==="bottom-left"?"bottom-4 left-4":e==="top-right"?"top-4 right-4":"top-4 left-4"} ${n}`,title:u.showHelp,children:o.jsx(Iv,{className:"w-4 h-4"})});const m={"bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-right":"top-4 right-4","top-left":"top-4 left-4"},p={"bottom-right":"bottom-full right-0 mb-2","bottom-left":"bottom-full left-0 mb-2","top-right":"top-full right-0 mt-2","top-left":"top-full left-0 mt-2"};return o.jsxs("div",{className:`fixed z-30 ${m[e]} ${n}`,children:[c&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),o.jsxs("div",{className:`absolute z-20 ${p[e]} w-80 bg-white rounded-lg shadow-xl border border-gray-200 p-4`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.help}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>i(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:u.hideHelp,children:o.jsx(Dk,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>d(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(hc,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"space-y-2",children:t.length===0?o.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:u.noTutorials}):t.map(g=>{const x=s(g.id);return o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:g.title}),o.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:g.description}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[g.steps.length," steps"]}),x&&o.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[o.jsx(uc,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:u.completed})]})]})]}),o.jsxs("button",{onClick:()=>{r(g),d(!1)},className:`ml-3 flex items-center space-x-1 px-3 py-1 text-xs font-medium rounded-md transition-colors ${x?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[o.jsx(AF,{className:"w-3 h-3"}),o.jsx("span",{children:u.startTutorial})]})]})},g.id)})}),t.length>0&&o.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:o.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Press ",o.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded text-xs",children:"Esc"})," to close tutorials"]})})]})]}),o.jsx("button",{onClick:()=>d(!c),className:`p-3 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-all duration-200 hover:scale-105 ${c?"ring-4 ring-red-200":""}`,title:u.help,children:o.jsx(Iv,{className:"w-6 h-6"})}),t.length>0&&t.some(g=>!s(g.id))&&o.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})}const ir=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:U("w-full caption-bottom text-sm",t),...e})}));ir.displayName="Table";const lr=h.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:U("[&_tr]:border-b",t),...e}));lr.displayName="TableHeader";const cr=h.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:U("[&_tr:last-child]:border-0",t),...e}));cr.displayName="TableBody";const B7=h.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:U("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));B7.displayName="TableFooter";const rt=h.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:U("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));rt.displayName="TableRow";const Ne=h.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:U("h-12 px-4 text-left align-middle font-medium text-muted-foreground whitespace-nowrap",t),...e}));Ne.displayName="TableHead";const ge=h.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:U("p-4 align-middle whitespace-nowrap",t),...e}));ge.displayName="TableCell";const W7=h.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:U("mt-4 text-sm text-muted-foreground",t),...e}));W7.displayName="TableCaption";const dr=Xm,Li=Jm,z7=Qm,P2=h.forwardRef(({className:t,...e},n)=>o.jsx(pc,{ref:n,className:U("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));P2.displayName=pc.displayName;const Hn=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(z7,{children:[o.jsx(P2,{}),o.jsxs(gc,{ref:r,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(Pu,{className:"absolute right-4 top-4 rounded-md p-1 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary group hover:bg-destructive/10",children:[o.jsx(hc,{className:"h-5 w-5 text-muted-foreground group-hover:text-destructive"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hn.displayName=gc.displayName;const Yn=({className:t,...e})=>o.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Yn.displayName="DialogHeader";const Gn=h.forwardRef(({className:t,...e},n)=>o.jsx(yc,{ref:n,className:U("text-lg font-semibold leading-none tracking-tight",t),...e}));Gn.displayName=yc.displayName;const ur=h.forwardRef(({className:t,...e},n)=>o.jsx(vc,{ref:n,className:U("text-sm text-muted-foreground",t),...e}));ur.displayName=vc.displayName;var V7=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),a=s.find(H7);if(a){const i=a.props.children,l=s.map(c=>c===a?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return o.jsx(Sx,{...r,ref:e,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return o.jsx(Sx,{...r,ref:e,children:n})});V7.displayName="Slot";var Sx=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=G7(n),a=Y7(r,n.props);return n.type!==h.Fragment&&(a.ref=e?Na(e,s):s),h.cloneElement(n,a)}return h.Children.count(n)>1?h.Children.only(null):null});Sx.displayName="SlotClone";var A2=({children:t})=>o.jsx(o.Fragment,{children:t});function H7(t){return h.isValidElement(t)&&t.type===A2}function Y7(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function G7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var D2="AlertDialog",[q7,Sae]=ts(D2,[rE]),Ta=rE(),M2=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ta(e);return o.jsx(Xm,{...r,...n,modal:!0})};M2.displayName=D2;var K7="AlertDialogTrigger",O2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ta(n);return o.jsx(Jm,{...s,...r,ref:e})});O2.displayName=K7;var Z7="AlertDialogPortal",R2=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ta(e);return o.jsx(Qm,{...r,...n})};R2.displayName=Z7;var X7="AlertDialogOverlay",I2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ta(n);return o.jsx(pc,{...s,...r,ref:e})});I2.displayName=X7;var Il="AlertDialogContent",[J7,Q7]=q7(Il),$2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,a=Ta(n),i=h.useRef(null),l=st(e,i),c=h.useRef(null);return o.jsx(AU,{contentName:Il,titleName:L2,docsSlug:"alert-dialog",children:o.jsx(J7,{scope:n,cancelRef:c,children:o.jsxs(gc,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ae(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(A2,{children:r}),o.jsx(tY,{contentRef:i})]})})})});$2.displayName=Il;var L2="AlertDialogTitle",F2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ta(n);return o.jsx(yc,{...s,...r,ref:e})});F2.displayName=L2;var U2="AlertDialogDescription",B2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ta(n);return o.jsx(vc,{...s,...r,ref:e})});B2.displayName=U2;var eY="AlertDialogAction",W2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ta(n);return o.jsx(Pu,{...s,...r,ref:e})});W2.displayName=eY;var z2="AlertDialogCancel",V2=h.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Q7(z2,n),a=Ta(n),i=st(e,s);return o.jsx(Pu,{...a,...r,ref:i})});V2.displayName=z2;var tY=({contentRef:t})=>{const e=`\`${Il}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Il}\` by passing a \`${U2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Il}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},nY=M2,rY=O2,sY=R2,H2=I2,Y2=$2,G2=W2,q2=V2,K2=F2,Z2=B2;const Pa=nY,aY=rY,oY=sY,X2=h.forwardRef(({className:t,...e},n)=>o.jsx(H2,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));X2.displayName=H2.displayName;const Ls=h.forwardRef(({className:t,...e},n)=>o.jsxs(oY,{children:[o.jsx(X2,{}),o.jsx(Y2,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ls.displayName=Y2.displayName;const Fs=({className:t,...e})=>o.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",t),...e});Fs.displayName="AlertDialogHeader";const Us=({className:t,...e})=>o.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Us.displayName="AlertDialogFooter";const Bs=h.forwardRef(({className:t,...e},n)=>o.jsx(K2,{ref:n,className:U("text-lg font-semibold",t),...e}));Bs.displayName=K2.displayName;const Ws=h.forwardRef(({className:t,...e},n)=>o.jsx(Z2,{ref:n,className:U("text-sm text-muted-foreground",t),...e}));Ws.displayName=Z2.displayName;const zs=h.forwardRef(({className:t,...e},n)=>o.jsx(G2,{ref:n,className:U(Zd(),t),...e}));zs.displayName=G2.displayName;const Vs=h.forwardRef(({className:t,...e},n)=>o.jsx(q2,{ref:n,className:U(Zd({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Vs.displayName=q2.displayName;function iY(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function M_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lY(...t){return e=>{let n=!1;const r=t.map(s=>{const a=M_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():M_(t[s],null)}}}}function J2(...t){return h.useCallback(lY(...t),t)}function cY(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,dY(s,...e)]}function dY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Q2=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},uY=Ms[" useInsertionEffect ".trim().toString()]||Q2;function fY({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=hY({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const f=h.useRef(t!==void 0);h.useEffect(()=>{const u=f.current;u!==l&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=h.useCallback(f=>{var u;if(l){const m=mY(f)?f(t):f;m!==t&&((u=i.current)==null||u.call(i,m))}else a(f)},[l,t,a,i]);return[c,d]}function hY({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),s=h.useRef(n),a=h.useRef(e);return uY(()=>{a.current=e},[e]),h.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function mY(t){return typeof t=="function"}function pY(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function gY(t){const[e,n]=h.useState(void 0);return Q2(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eA=yY.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Sp="Switch",[vY,_ae]=cY(Sp),[xY,wY]=vY(Sp),tA=h.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:f,...u}=t,[m,p]=h.useState(null),g=J2(e,b=>p(b)),x=h.useRef(!1),y=m?f||!!m.closest("form"):!0,[v,w]=fY({prop:s,defaultProp:a??!1,onChange:d,caller:Sp});return o.jsxs(xY,{scope:n,checked:v,disabled:l,children:[o.jsx(eA.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":aA(v),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:g,onClick:iY(t.onClick,b=>{w(j=>!j),y&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),y&&o.jsx(sA,{control:m,bubbles:!x.current,name:r,value:c,checked:v,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});tA.displayName=Sp;var nA="SwitchThumb",rA=h.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=wY(nA,n);return o.jsx(eA.span,{"data-state":aA(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});rA.displayName=nA;var bY="SwitchBubbleInput",sA=h.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},a)=>{const i=h.useRef(null),l=J2(i,a),c=pY(n),d=gY(e);return h.useEffect(()=>{const f=i.current;if(!f)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(f,n),f.dispatchEvent(g)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sA.displayName=bY;function aA(t){return t?"checked":"unchecked"}var oA=tA,jY=rA;const rn=h.forwardRef(({className:t,...e},n)=>o.jsx(oA,{className:U("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(jY,{className:U("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rn.displayName=oA.displayName;async function zu(t,e,n){if(!t)throw new Error("No file provided for upload.");return new Promise((r,s)=>{try{const a=new FileReader;a.onloadstart=()=>{n&&n(0)},a.onprogress=i=>{if(n&&i.lengthComputable){const l=Math.round(i.loaded/i.total*100);n(l)}},a.onload=()=>{n&&n(100),r(a.result)},a.onerror=()=>{s(a.error||new Error("Failed to read file"))},a.readAsDataURL(t)}catch(a){s(a)}})}async function Vu(t){return Promise.resolve()}function SY(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,_Y(s,...e)]}function _Y(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var NY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iA=NY.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Xb="Progress",Jb=100,[CY,Nae]=SY(Xb),[kY,EY]=CY(Xb),lA=h.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=TY,...i}=t;(s||s===0)&&!O_(s)&&console.error(PY(`${s}`,"Progress"));const l=O_(s)?s:Jb;r!==null&&!R_(r,l)&&console.error(AY(`${r}`,"Progress"));const c=R_(r,l)?r:null,d=pm(c)?a(c,l):void 0;return o.jsx(kY,{scope:n,value:c,max:l,children:o.jsx(iA.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":pm(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":uA(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});lA.displayName=Xb;var cA="ProgressIndicator",dA=h.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=EY(cA,n);return o.jsx(iA.div,{"data-state":uA(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});dA.displayName=cA;function TY(t,e){return`${Math.round(t/e*100)}%`}function uA(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function pm(t){return typeof t=="number"}function O_(t){return pm(t)&&!isNaN(t)&&t>0}function R_(t,e){return pm(t)&&!isNaN(t)&&t<=e&&t>=0}function PY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jb}\`.`}function AY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fA=lA,DY=dA;const Cc=h.forwardRef(({className:t,value:e,...n},r)=>o.jsx(fA,{ref:r,className:U("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(DY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Cc.displayName=fA.displayName;const MY=t=>yn({title_en:Ke().min(5,{message:t.title_message}),body_en:Ke().min(10,{message:t.body_message}),isUrgent:ho().default(!1),attachment:Ri().optional()}),OY={en:{formSchema:{title_message:"Title must be at least 5 characters.",body_message:"Body must be at least 10 characters."},titleLabel:"Title",titlePlaceholder:"e.g., School Sports Day",bodyLabel:"Body",bodyPlaceholder:"Full text of the announcement...",urgentLabel:"Urgent Alert",urgentDesc:"Mark this as an urgent announcement. The title will appear as a banner on the homepage. Only one news post can be urgent at a time.",attachmentLabel:"Attachment (Optional)",attachmentDesc:"Upload a PDF or image if needed.",uploadComplete:"Upload complete!",toastSuccessUpdate:{title:"Success!",description:"News post has been updated."},toastSuccessAdd:{title:"Success!",description:"New news post has been created."},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitButtonUpdate:"Update Post",submitButtonCreate:"Create Post"},cy:{formSchema:{title_message:"Rhaid i'r teitl fod o leiaf 5 nod.",body_message:"Rhaid i'r corff fod o leiaf 10 nod."},titleLabel:"Teitl",titlePlaceholder:"e.e., Diwrnod Chwaraeon Ysgol",bodyLabel:"Corff",bodyPlaceholder:"Testun llawn y cyhoeddiad...",urgentLabel:"Hysbysiad Brys",urgentDesc:"Nodwch hwn fel cyhoeddiad brys. Bydd y teitl yn ymddangos fel baner ar y dudalen gartref. Dim ond un post newyddion all fod yn frys ar y tro.",attachmentLabel:"Atodiad (Dewisol)",attachmentDesc:"Uwchlwythwch PDF neu ddelwedd os oes angen.",uploadComplete:"Wedi'i uwchlwytho'n llwyddiannus!",toastSuccessUpdate:{title:"Llwyddiant!",description:"Mae'r cofnod newyddion wedi'i ddiweddaru."},toastSuccessAdd:{title:"Llwyddiant!",description:"Mae cofnod newyddion newydd wedi'i greu."},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Rhowch gynnig arall arni."},submitButtonUpdate:"Diweddaru'r Cofnod",submitButtonCreate:"Creu Cofnod"}};function RY({onSuccess:t,existingNews:e}){const{language:n}=Ce(),r=OY[n],{toast:s}=dt(),[a,i]=h.useState(!1),[l,c]=h.useState(null),d=Tn({resolver:Pn(MY(r.formSchema)),defaultValues:{title_en:(e==null?void 0:e.title_en)||"",body_en:(e==null?void 0:e.body_en)||"",isUrgent:(e==null?void 0:e.isUrgent)||!1,attachment:void 0}}),f=async u=>{i(!0);try{let m=(e==null?void 0:e.attachmentUrl)||"";const p=u.attachment instanceof File?u.attachment:null;p&&(c(0),m=await zu(p,"news-attachments",x=>{c(x)}),c(100));const g={title_en:u.title_en,title_cy:u.title_en,body_en:u.body_en,body_cy:u.body_en,isUrgent:u.isUrgent,attachmentUrl:m,attachmentName:p?p.name:(e==null?void 0:e.attachmentName)||"",date:(e==null?void 0:e.date)||new Date().toISOString(),slug:(e==null?void 0:e.slug)||u.title_en.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),published:!0,category:u.isUrgent?"Urgent":"General",createdBy:"admin@example.com",lastEdited:new Date().toISOString()};e?(await J.updateNews(e.id,g),s(r.toastSuccessUpdate)):(await J.addNews(g),s(r.toastSuccessAdd)),d.reset(),t()}catch(m){console.error("Error submitting form:",m),s(r.toastError)}finally{i(!1),c(null)}};return o.jsx(An,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[o.jsx(he,{control:d.control,name:"title_en",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.titleLabel}),o.jsx(ye,{children:o.jsx(De,{placeholder:r.titlePlaceholder,...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"body_en",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.bodyLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:r.bodyPlaceholder,className:"min-h-[150px]",...u})}),o.jsx(Ee,{})]})}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5 pr-6",children:[o.jsx(de,{children:r.urgentLabel}),o.jsx(It,{children:r.urgentDesc})]}),o.jsx(he,{control:d.control,name:"isUrgent",render:({field:u})=>o.jsx(me,{className:"ml-4",children:o.jsx(ye,{children:o.jsx(rn,{checked:u.value,onCheckedChange:u.onChange})})})})]}),o.jsx(he,{control:d.control,name:"attachment",render:({field:{onChange:u,...m}})=>o.jsxs(me,{children:[o.jsx(de,{children:r.attachmentLabel}),o.jsx(ye,{children:o.jsx(De,{type:"file",accept:"application/pdf,image/*",onChange:p=>{var g;return u((g=p.target.files)==null?void 0:g[0])},...m})}),o.jsx(It,{children:r.attachmentDesc}),l!==null&&l<100&&o.jsx(Cc,{value:l,className:"w-full mt-2"}),l===100&&o.jsxs("div",{className:"flex items-center text-sm text-green-600 mt-2",children:[o.jsx(uc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:r.uploadComplete})]}),o.jsx(Ee,{})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:a,children:[a&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e?r.submitButtonUpdate:r.submitButtonCreate]})})]})})}var oy="rovingFocusGroup.onEntryFocus",IY={bubbles:!1,cancelable:!0},_p="RovingFocusGroup",[_x,hA,$Y]=Nu(_p),[LY,mA]=ts(_p,[$Y]),[FY,UY]=LY(_p),pA=h.forwardRef((t,e)=>o.jsx(_x.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(_x.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(BY,{...t,ref:e})})}));pA.displayName=_p;var BY=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...u}=t,m=h.useRef(null),p=st(e,m),g=sp(a),[x=null,y]=ya({prop:i,defaultProp:l,onChange:c}),[v,w]=h.useState(!1),b=mn(d),j=hA(n),_=h.useRef(!1),[N,S]=h.useState(0);return h.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(oy,b),()=>C.removeEventListener(oy,b)},[b]),o.jsx(FY,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:x,onItemFocus:h.useCallback(C=>y(C),[y]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>S(C=>C-1),[]),children:o.jsx(Re.div,{tabIndex:v||N===0?-1:0,"data-orientation":r,...u,ref:p,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{_.current=!0}),onFocus:ae(t.onFocus,C=>{const T=!_.current;if(C.target===C.currentTarget&&T&&!v){const k=new CustomEvent(oy,IY);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const E=j().filter(F=>F.focusable),O=E.find(F=>F.active),P=E.find(F=>F.id===x),L=[O,P,...E].filter(Boolean).map(F=>F.ref.current);vA(L,f)}}_.current=!1}),onBlur:ae(t.onBlur,()=>w(!1))})})}),gA="RovingFocusGroupItem",yA=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...i}=t,l=Hr(),c=a||l,d=UY(gA,n),f=d.currentTabStopId===c,u=hA(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=d;return h.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),o.jsx(_x.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(Re.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:e,onMouseDown:ae(t.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:ae(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ae(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=VY(g,d.orientation,d.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=u().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const w=v.indexOf(g.currentTarget);v=d.loop?HY(v,w+1):v.slice(w+1)}setTimeout(()=>vA(v))}})})})});yA.displayName=gA;var WY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function VY(t,e,n){const r=zY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WY[r]}function vA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function HY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YY=pA,GY=yA,xA=h.forwardRef((t,e)=>{const{children:n,...r}=t,s=h.Children.toArray(n),a=s.find(KY);if(a){const i=a.props.children,l=s.map(c=>c===a?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return o.jsx(Nx,{...r,ref:e,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return o.jsx(Nx,{...r,ref:e,children:n})});xA.displayName="Slot";var Nx=h.forwardRef((t,e)=>{const{children:n,...r}=t;if(h.isValidElement(n)){const s=XY(n),a=ZY(r,n.props);return n.type!==h.Fragment&&(a.ref=e?Na(e,s):s),h.cloneElement(n,a)}return h.Children.count(n)>1?h.Children.only(null):null});Nx.displayName="SlotClone";var qY=({children:t})=>o.jsx(o.Fragment,{children:t});function KY(t){return h.isValidElement(t)&&t.type===qY}function ZY(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function XY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cx=["Enter"," "],JY=["ArrowDown","PageUp","Home"],wA=["ArrowUp","PageDown","End"],QY=[...JY,...wA],eG={ltr:[...Cx,"ArrowRight"],rtl:[...Cx,"ArrowLeft"]},tG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hu="Menu",[mu,nG,rG]=Nu(Hu),[Fi,bA]=ts(Hu,[rG,lp,mA]),Np=lp(),jA=mA(),[sG,Ui]=Fi(Hu),[aG,Yu]=Fi(Hu),SA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=t,l=Np(e),[c,d]=h.useState(null),f=h.useRef(!1),u=mn(a),m=sp(s);return h.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(bT,{...l,children:o.jsx(sG,{scope:e,open:n,onOpenChange:u,content:c,onContentChange:d,children:o.jsx(aG,{scope:e,onClose:h.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:m,modal:i,children:r})})})};SA.displayName=Hu;var oG="MenuAnchor",Qb=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Np(n);return o.jsx(jT,{...s,...r,ref:e})});Qb.displayName=oG;var e0="MenuPortal",[iG,_A]=Fi(e0,{forceMount:void 0}),NA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,a=Ui(e0,e);return o.jsx(iG,{scope:e,forceMount:n,children:o.jsx(Os,{present:n||a.open,children:o.jsx(ku,{asChild:!0,container:s,children:r})})})};NA.displayName=e0;var Nr="MenuContent",[lG,t0]=Fi(Nr),CA=h.forwardRef((t,e)=>{const n=_A(Nr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,a=Ui(Nr,t.__scopeMenu),i=Yu(Nr,t.__scopeMenu);return o.jsx(mu.Provider,{scope:t.__scopeMenu,children:o.jsx(Os,{present:r||a.open,children:o.jsx(mu.Slot,{scope:t.__scopeMenu,children:i.modal?o.jsx(cG,{...s,ref:e}):o.jsx(dG,{...s,ref:e})})})})}),cG=h.forwardRef((t,e)=>{const n=Ui(Nr,t.__scopeMenu),r=h.useRef(null),s=st(e,r);return h.useEffect(()=>{const a=r.current;if(a)return Zm(a)},[]),o.jsx(n0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dG=h.forwardRef((t,e)=>{const n=Ui(Nr,t.__scopeMenu);return o.jsx(n0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),n0=h.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...x}=t,y=Ui(Nr,n),v=Yu(Nr,n),w=Np(n),b=jA(n),j=nG(n),[_,N]=h.useState(null),S=h.useRef(null),C=st(e,S,y.onContentChange),T=h.useRef(0),k=h.useRef(""),E=h.useRef(0),O=h.useRef(null),P=h.useRef("right"),M=h.useRef(0),L=g?Tu:h.Fragment,F=g?{as:xA,allowPinchZoom:!0}:void 0,z=$=>{var re,Ae;const V=k.current+$,Q=j().filter(Ie=>!Ie.disabled),be=document.activeElement,Ge=(re=Q.find(Ie=>Ie.ref.current===be))==null?void 0:re.textValue,He=Q.map(Ie=>Ie.textValue),pt=jG(He,V,Ge),qe=(Ae=Q.find(Ie=>Ie.textValue===pt))==null?void 0:Ae.ref.current;(function Ie(Le){k.current=Le,window.clearTimeout(T.current),Le!==""&&(T.current=window.setTimeout(()=>Ie(""),1e3))})(V),qe&&setTimeout(()=>qe.focus())};h.useEffect(()=>()=>window.clearTimeout(T.current),[]),Xw();const R=h.useCallback($=>{var Q,be;return P.current===((Q=O.current)==null?void 0:Q.side)&&_G($,(be=O.current)==null?void 0:be.area)},[]);return o.jsx(lG,{scope:n,searchRef:k,onItemEnter:h.useCallback($=>{R($)&&$.preventDefault()},[R]),onItemLeave:h.useCallback($=>{var V;R($)||((V=S.current)==null||V.focus(),N(null))},[R]),onTriggerLeave:h.useCallback($=>{R($)&&$.preventDefault()},[R]),pointerGraceTimerRef:E,onPointerGraceIntentChange:h.useCallback($=>{O.current=$},[]),children:o.jsx(L,{...F,children:o.jsx(qm,{asChild:!0,trapped:s,onMountAutoFocus:ae(a,$=>{var V;$.preventDefault(),(V=S.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:m,onDismiss:p,children:o.jsx(YY,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:ae(c,$=>{v.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(ST,{role:"menu","aria-orientation":"vertical","data-state":WA(y.open),"data-radix-menu-content":"",dir:v.dir,...w,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:ae(x.onKeyDown,$=>{const Q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,be=$.ctrlKey||$.altKey||$.metaKey,Ge=$.key.length===1;Q&&($.key==="Tab"&&$.preventDefault(),!be&&Ge&&z($.key));const He=S.current;if($.target!==He||!QY.includes($.key))return;$.preventDefault();const qe=j().filter(re=>!re.disabled).map(re=>re.ref.current);wA.includes($.key)&&qe.reverse(),wG(qe)}),onBlur:ae(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(T.current),k.current="")}),onPointerMove:ae(t.onPointerMove,pu($=>{const V=$.target,Q=M.current!==$.clientX;if($.currentTarget.contains(V)&&Q){const be=$.clientX>M.current?"right":"left";P.current=be,M.current=$.clientX}}))})})})})})})});CA.displayName=Nr;var uG="MenuGroup",r0=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{role:"group",...r,ref:e})});r0.displayName=uG;var fG="MenuLabel",kA=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{...r,ref:e})});kA.displayName=fG;var gm="MenuItem",I_="menu.itemSelect",Cp=h.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,a=h.useRef(null),i=Yu(gm,t.__scopeMenu),l=t0(gm,t.__scopeMenu),c=st(e,a),d=h.useRef(!1),f=()=>{const u=a.current;if(!n&&u){const m=new CustomEvent(I_,{bubbles:!0,cancelable:!0});u.addEventListener(I_,p=>r==null?void 0:r(p),{once:!0}),Bw(u,m),m.defaultPrevented?d.current=!1:i.onClose()}};return o.jsx(EA,{...s,ref:c,disabled:n,onClick:ae(t.onClick,f),onPointerDown:u=>{var m;(m=t.onPointerDown)==null||m.call(t,u),d.current=!0},onPointerUp:ae(t.onPointerUp,u=>{var m;d.current||(m=u.currentTarget)==null||m.click()}),onKeyDown:ae(t.onKeyDown,u=>{const m=l.searchRef.current!=="";n||m&&u.key===" "||Cx.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Cp.displayName=gm;var EA=h.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=t,i=t0(gm,n),l=jA(n),c=h.useRef(null),d=st(e,c),[f,u]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),o.jsx(mu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(GY,{asChild:!0,...l,focusable:!r,children:o.jsx(Re.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:ae(t.onPointerMove,pu(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(t.onPointerLeave,pu(g=>i.onItemLeave(g))),onFocus:ae(t.onFocus,()=>u(!0)),onBlur:ae(t.onBlur,()=>u(!1))})})})}),hG="MenuCheckboxItem",TA=h.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(OA,{scope:t.__scopeMenu,checked:n,children:o.jsx(Cp,{role:"menuitemcheckbox","aria-checked":ym(n)?"mixed":n,...s,ref:e,"data-state":a0(n),onSelect:ae(s.onSelect,()=>r==null?void 0:r(ym(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TA.displayName=hG;var PA="MenuRadioGroup",[mG,pG]=Fi(PA,{value:void 0,onValueChange:()=>{}}),AA=h.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,a=mn(r);return o.jsx(mG,{scope:t.__scopeMenu,value:n,onValueChange:a,children:o.jsx(r0,{...s,ref:e})})});AA.displayName=PA;var DA="MenuRadioItem",MA=h.forwardRef((t,e)=>{const{value:n,...r}=t,s=pG(DA,t.__scopeMenu),a=n===s.value;return o.jsx(OA,{scope:t.__scopeMenu,checked:a,children:o.jsx(Cp,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":a0(a),onSelect:ae(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});MA.displayName=DA;var s0="MenuItemIndicator",[OA,gG]=Fi(s0,{checked:!1}),RA=h.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,a=gG(s0,n);return o.jsx(Os,{present:r||ym(a.checked)||a.checked===!0,children:o.jsx(Re.span,{...s,ref:e,"data-state":a0(a.checked)})})});RA.displayName=s0;var yG="MenuSeparator",IA=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});IA.displayName=yG;var vG="MenuArrow",$A=h.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Np(n);return o.jsx(_T,{...s,...r,ref:e})});$A.displayName=vG;var xG="MenuSub",[Cae,LA]=Fi(xG),ld="MenuSubTrigger",FA=h.forwardRef((t,e)=>{const n=Ui(ld,t.__scopeMenu),r=Yu(ld,t.__scopeMenu),s=LA(ld,t.__scopeMenu),a=t0(ld,t.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},f=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>f,[f]),h.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),c(null)}},[l,c]),o.jsx(Qb,{asChild:!0,...d,children:o.jsx(EA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":WA(n.open),...t,ref:Na(e,s.onTriggerChange),onClick:u=>{var m;(m=t.onClick)==null||m.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(t.onPointerMove,pu(u=>{a.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ae(t.onPointerLeave,pu(u=>{var p,g;f();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(g=n.content)==null?void 0:g.dataset.side,y=x==="right",v=y?-5:5,w=m[y?"left":"right"],b=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:u.clientX+v,y:u.clientY},{x:w,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:w,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(u),u.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ae(t.onKeyDown,u=>{var p;const m=a.searchRef.current!=="";t.disabled||m&&u.key===" "||eG[r.dir].includes(u.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),u.preventDefault())})})})});FA.displayName=ld;var UA="MenuSubContent",BA=h.forwardRef((t,e)=>{const n=_A(Nr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,a=Ui(Nr,t.__scopeMenu),i=Yu(Nr,t.__scopeMenu),l=LA(UA,t.__scopeMenu),c=h.useRef(null),d=st(e,c);return o.jsx(mu.Provider,{scope:t.__scopeMenu,children:o.jsx(Os,{present:r||a.open,children:o.jsx(mu.Slot,{scope:t.__scopeMenu,children:o.jsx(n0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var u;i.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ae(t.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ae(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:ae(t.onKeyDown,f=>{var p;const u=f.currentTarget.contains(f.target),m=tG[i.dir].includes(f.key);u&&m&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});BA.displayName=UA;function WA(t){return t?"open":"closed"}function ym(t){return t==="indeterminate"}function a0(t){return ym(t)?"indeterminate":t?"checked":"unchecked"}function wG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function bG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function jG(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let i=bG(t,Math.max(a,0));s.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function SG(t,e){const{x:n,y:r}=t;let s=!1;for(let a=0,i=e.length-1;a<e.length;i=a++){const l=e[a].x,c=e[a].y,d=e[i].x,f=e[i].y;c>r!=f>r&&n<(d-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function _G(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return SG(n,e)}function pu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var NG=SA,CG=Qb,kG=NA,EG=CA,TG=r0,PG=kA,AG=Cp,DG=TA,MG=AA,OG=MA,RG=RA,IG=IA,$G=$A,LG=FA,FG=BA,o0="DropdownMenu",[UG,kae]=ts(o0,[bA]),Mn=bA(),[BG,zA]=UG(o0),VA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,c=Mn(e),d=h.useRef(null),[f=!1,u]=ya({prop:s,defaultProp:a,onChange:i});return o.jsx(BG,{scope:e,triggerId:Hr(),triggerRef:d,contentId:Hr(),open:f,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:l,children:o.jsx(NG,{...c,open:f,onOpenChange:u,dir:r,modal:l,children:n})})};VA.displayName=o0;var HA="DropdownMenuTrigger",YA=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,a=zA(HA,n),i=Mn(n);return o.jsx(CG,{asChild:!0,...i,children:o.jsx(Re.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Na(e,a.triggerRef),onPointerDown:ae(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ae(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});YA.displayName=HA;var WG="DropdownMenuPortal",GA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Mn(e);return o.jsx(kG,{...r,...n})};GA.displayName=WG;var qA="DropdownMenuContent",KA=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zA(qA,n),a=Mn(n),i=h.useRef(!1);return o.jsx(EG,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:e,onCloseAutoFocus:ae(t.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ae(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KA.displayName=qA;var zG="DropdownMenuGroup",VG=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(TG,{...s,...r,ref:e})});VG.displayName=zG;var HG="DropdownMenuLabel",ZA=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(PG,{...s,...r,ref:e})});ZA.displayName=HG;var YG="DropdownMenuItem",XA=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(AG,{...s,...r,ref:e})});XA.displayName=YG;var GG="DropdownMenuCheckboxItem",JA=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(DG,{...s,...r,ref:e})});JA.displayName=GG;var qG="DropdownMenuRadioGroup",KG=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(MG,{...s,...r,ref:e})});KG.displayName=qG;var ZG="DropdownMenuRadioItem",QA=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(OG,{...s,...r,ref:e})});QA.displayName=ZG;var XG="DropdownMenuItemIndicator",eD=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(RG,{...s,...r,ref:e})});eD.displayName=XG;var JG="DropdownMenuSeparator",tD=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(IG,{...s,...r,ref:e})});tD.displayName=JG;var QG="DropdownMenuArrow",eq=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx($G,{...s,...r,ref:e})});eq.displayName=QG;var tq="DropdownMenuSubTrigger",nD=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(LG,{...s,...r,ref:e})});nD.displayName=tq;var nq="DropdownMenuSubContent",rD=h.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Mn(n);return o.jsx(FG,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rD.displayName=nq;var rq=VA,sq=YA,aq=GA,sD=KA,aD=ZA,oD=XA,iD=JA,lD=QA,cD=eD,dD=tD,uD=nD,fD=rD;const Aa=rq,Da=sq,oq=h.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(uD,{ref:s,className:U("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,o.jsx(Gw,{className:"ml-auto"})]}));oq.displayName=uD.displayName;const iq=h.forwardRef(({className:t,...e},n)=>o.jsx(fD,{ref:n,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));iq.displayName=fD.displayName;const Hs=h.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(aq,{children:o.jsx(sD,{ref:r,sideOffset:e,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Hs.displayName=sD.displayName;const Lt=h.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(oD,{ref:r,className:U("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Lt.displayName=oD.displayName;const lq=h.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(iD,{ref:s,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cD,{children:o.jsx(Hw,{className:"h-4 w-4"})})}),e]}));lq.displayName=iD.displayName;const cq=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(lD,{ref:r,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(cD,{children:o.jsx(xF,{className:"h-2 w-2 fill-current"})})}),e]}));cq.displayName=lD.displayName;const kc=h.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(aD,{ref:r,className:U("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));kc.displayName=aD.displayName;const Ci=h.forwardRef(({className:t,...e},n)=>o.jsx(dD,{ref:n,className:U("-mx-1 my-1 h-px bg-muted",t),...e}));Ci.displayName=dD.displayName;function $_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dq(...t){return e=>{let n=!1;const r=t.map(s=>{const a=$_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():$_(t[s],null)}}}}function i0(...t){return h.useCallback(dq(...t),t)}function uq(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,fq(s,...e)]}function fq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function L_(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var vm=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},hq=Ms[" useInsertionEffect ".trim().toString()]||vm;function mq({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=pq({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const f=h.useRef(t!==void 0);h.useEffect(()=>{const u=f.current;u!==l&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=h.useCallback(f=>{var u;if(l){const m=gq(f)?f(t):f;m!==t&&((u=i.current)==null||u.call(i,m))}else a(f)},[l,t,a,i]);return[c,d]}function pq({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),s=h.useRef(n),a=h.useRef(e);return hq(()=>{a.current=e},[e]),h.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function gq(t){return typeof t=="function"}function yq(t){const e=h.useRef({value:t,previous:t});return h.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function vq(t){const[e,n]=h.useState(void 0);return vm(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function xq(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var hD=t=>{const{present:e,children:n}=t,r=wq(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=i0(r.ref,bq(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};hD.displayName="Presence";function wq(t){const[e,n]=h.useState(),r=h.useRef(null),s=h.useRef(t),a=h.useRef("none"),i=t?"mounted":"unmounted",[l,c]=xq(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=$f(r.current);a.current=l==="mounted"?d:"none"},[l]),vm(()=>{const d=r.current,f=s.current;if(f!==t){const m=a.current,p=$f(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),vm(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,u=p=>{const x=$f(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(a.current=$f(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function $f(t){return(t==null?void 0:t.animationName)||"none"}function bq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],l0=jq.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),kp="Checkbox",[Sq,Eae]=uq(kp),[_q,c0]=Sq(kp);function Nq(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:u}=t,[m,p]=mq({prop:n,defaultProp:s??!1,onChange:c,caller:kp}),[g,x]=h.useState(null),[y,v]=h.useState(null),w=h.useRef(!1),b=g?!!i||!!g.closest("form"):!0,j={checked:m,disabled:a,setChecked:p,control:g,setControl:x,name:l,form:i,value:f,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:mo(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:v};return o.jsx(_q,{scope:e,...j,children:Cq(u)?u(j):r})}var mD="CheckboxTrigger",pD=h.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:a,value:i,disabled:l,checked:c,required:d,setControl:f,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=c0(mD,t),x=i0(s,f),y=h.useRef(c);return h.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const w=()=>u(y.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[a,u]),o.jsx(l0.button,{type:"button",role:"checkbox","aria-checked":mo(c)?"mixed":c,"aria-required":d,"data-state":wD(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:x,onKeyDown:L_(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:L_(n,v=>{u(w=>mo(w)?!0:!w),g&&p&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});pD.displayName=mD;var d0=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:d,form:f,...u}=t;return o.jsx(Nq,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:d,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(pD,{...u,ref:e,__scopeCheckbox:n}),m&&o.jsx(xD,{__scopeCheckbox:n})]})})});d0.displayName=kp;var gD="CheckboxIndicator",yD=h.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,a=c0(gD,n);return o.jsx(hD,{present:r||mo(a.checked)||a.checked===!0,children:o.jsx(l0.span,{"data-state":wD(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});yD.displayName=gD;var vD="CheckboxBubbleInput",xD=h.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:d,value:f,form:u,bubbleInput:m,setBubbleInput:p}=c0(vD,t),g=i0(n,p),x=yq(a),y=vq(r);h.useEffect(()=>{const w=m;if(!w)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,N=!s.current;if(x!==a&&_){const S=new Event("click",{bubbles:N});w.indeterminate=mo(a),_.call(w,mo(a)?!1:a),w.dispatchEvent(S)}},[m,x,a,s]);const v=h.useRef(mo(a)?!1:a);return o.jsx(l0.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:d,value:f,form:u,...e,tabIndex:-1,ref:g,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xD.displayName=vD;function Cq(t){return typeof t=="function"}function mo(t){return t==="indeterminate"}function wD(t){return mo(t)?"indeterminate":t?"checked":"unchecked"}const $o=h.forwardRef(({className:t,...e},n)=>o.jsx(d0,{ref:n,className:U("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(yD,{className:U("flex items-center justify-center text-current"),children:o.jsx(Hw,{className:"h-4 w-4"})})}));$o.displayName=d0.displayName;const kq=[{id:"news-management",title:"News & Alerts Management",description:"Learn how to create, edit, and manage school news posts and urgent alerts.",steps:[{id:"overview",target:'[data-tutorial="news-overview"]',title:"News Management Overview",content:"This is your news management page where you can create announcements, urgent alerts, and manage all school communications that will be visible to parents and staff.",position:"bottom",tip:"News posts can be marked as urgent to ensure they get priority attention from parents."},{id:"add-news",target:'[data-tutorial="add-news-button"]',title:"Creating News Posts",content:"Click this button to create a new news post or alert. You can add titles in both English and Welsh, attach files, and mark posts as urgent.",position:"left",action:"click"}]}];function Eq(){const[t,e]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),[f,u]=h.useState(null),[m,p]=h.useState(""),[g,x]=h.useState(!1),{toast:y}=dt(),{language:v}=Ce(),{autoStartForNewUsers:w,isTutorialCompleted:b}=Ar(),j=async(E=!1)=>{r(!0);const{data:O}=await J.getPaginatedNews(100);e(O),r(!1)};h.useEffect(()=>{j(!0)},[]),h.useEffect(()=>{if(w&&!b("news-management")&&t.length===0&&!n){const E=setTimeout(()=>{},1e3);return()=>clearTimeout(E)}},[w,b,t.length,n]);const _=h.useMemo(()=>{let E=[...t];return g&&(E=E.filter(O=>O.isUrgent)),m&&(E=E.filter(O=>O.title_en.toLowerCase().includes(m.toLowerCase()))),E},[t,m,g]),N=()=>{a(!1),d(null),j(!0)},S=E=>{d(E),a(!0)},C=E=>{u(E),l(!0)},T=async()=>{if(f)try{await J.deleteNews(f.id),f.attachmentUrl&&await Vu(f.attachmentUrl),y({title:"Success",description:"News post deleted successfully.",variant:"default"}),j(!0)}catch(E){console.error("Error deleting news post:",E),y({title:"Error",description:"Failed to delete news post. Please try again.",variant:"destructive"})}finally{l(!1),u(null)}},k=E=>E&&!isNaN(new Date(E).getTime());return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"news-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"News & Alerts"}),o.jsx($s,{tutorials:kq,onStartTutorial:()=>{}})]}),o.jsx("p",{className:"text-muted-foreground",children:"Create, edit, and manage all school announcements."})]}),o.jsxs(W,{"data-tutorial":"add-news-button",onClick:()=>a(!0),children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Add News Post"]})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:justify-between",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Published News"}),o.jsx(ut,{children:"A list of all current news posts and alerts."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[o.jsxs("div",{className:"relative w-full sm:w-auto",children:[o.jsx(Gm,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(De,{type:"search",placeholder:"Search by title...",className:"w-full pl-8 sm:w-[250px]",value:m,onChange:E=>p(E.target.value),"data-tutorial":"search-news"})]}),o.jsxs("div",{className:"flex items-center space-x-2","data-tutorial":"urgent-filter",children:[o.jsx($o,{id:"urgent-filter",checked:g,onCheckedChange:E=>x(E)}),o.jsx(ot,{htmlFor:"urgent-filter",className:"text-sm font-medium",children:"Show urgent only"})]})]})]})}),o.jsx(ue,{children:n?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Title"}),o.jsx(Ne,{children:"Date"}),o.jsx(Ne,{children:"Status"}),o.jsx(Ne,{children:"Attachment"}),o.jsx(Ne,{className:"text-right",children:"Actions"})]})}),o.jsx(cr,{children:_.length>0?_.map(E=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:E.title_en}),o.jsx(ge,{children:k(E.date)?mt(new Date(E.date),"dd MMM yyyy"):"Invalid Date"}),o.jsx(ge,{"data-tutorial":"news-status",children:E.isUrgent&&o.jsx(Vn,{variant:"destructive",children:"Urgent"})}),o.jsx(ge,{"data-tutorial":"attachments",children:E.attachmentUrl&&o.jsxs("a",{href:E.attachmentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:[o.jsx(bs,{className:"h-4 w-4"})," View"]})}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0","data-tutorial":"news-actions",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsx(kc,{children:"Actions"}),o.jsxs(Lt,{onClick:()=>S(E),children:[o.jsx(fc,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsx(Ci,{}),o.jsxs(Lt,{onClick:()=>C(E),className:"text-destructive focus:text-destructive",children:[o.jsx(ns,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},E.id)):o.jsx(rt,{children:o.jsx(ge,{colSpan:5,className:"h-24 text-center",children:"No news posts found."})})})]})})})]}),o.jsx(Pa,{open:i,onOpenChange:l,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Are you absolutely sure?"}),o.jsx(Ws,{children:"This action cannot be undone. This will permanently delete the news post and remove its data from our servers."})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:"Cancel"}),o.jsx(zs,{onClick:T,children:"Delete"})]})]})})]}),o.jsx(dr,{open:s,onOpenChange:E=>{a(E),E||d(null)},children:o.jsxs(Hn,{className:"sm:max-w-[625px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsxs(Gn,{children:[c?"Edit":"Create"," News Post"]}),o.jsx(ur,{children:c?"Update the news post details below.":"Fill in the details to create a new news post."})]}),o.jsx(RY,{onSuccess:N,existingNews:c})]})})]})}const F_=[{id:"documents-overview",title:"Document Management",description:"Learn how to manage school documents and files",target:'[data-tutorial="documents-overview"]',content:"This is your document management center. Here you can upload, organize, and share important school documents like policies, forms, and newsletters.",position:"bottom",tip:"Keep documents organized by using categories and clear naming"},{id:"upload-document",title:"Upload Documents",description:"Add new documents to the system",target:'[data-tutorial="upload-document"]',content:"Click here to upload new documents. You can add policies, forms, newsletters, reports, and other important files.",position:"left",tip:"Always add a clear description to help others find documents"},{id:"document-actions",title:"Document Actions",description:"Manage individual documents",target:'[data-tutorial="document-actions"]',content:"Use these actions to view, download, or delete documents. You can also toggle public visibility.",position:"left",tip:"Make documents public to share them with parents and staff"}],Tq=[{id:"1",name:"School Admissions Policy 2024",type:"policy",category:"Policies",description:"Updated admissions policy for the 2024 academic year",fileUrl:"/documents/admissions-policy-2024.pdf",fileName:"admissions-policy-2024.pdf",fileSize:245760,uploadedBy:"Admin User",uploadedAt:new Date("2024-01-15"),isPublic:!0},{id:"2",name:"Parent Consent Form",type:"form",category:"Forms",description:"General consent form for school activities",fileUrl:"/documents/parent-consent-form.pdf",fileName:"parent-consent-form.pdf",fileSize:156432,uploadedBy:"Admin User",uploadedAt:new Date("2024-01-10"),isPublic:!0},{id:"3",name:"January Newsletter",type:"newsletter",category:"Communications",description:"Monthly newsletter for January 2024",fileUrl:"/documents/january-newsletter.pdf",fileName:"january-newsletter.pdf",fileSize:892345,uploadedBy:"Admin User",uploadedAt:new Date("2024-01-01"),isPublic:!0}],iy=[{value:"policy",label:"Policy"},{value:"form",label:"Form"},{value:"newsletter",label:"Newsletter"},{value:"report",label:"Report"},{value:"other",label:"Other"}],Pq=t=>{var n;switch((n=t.split(".").pop())==null?void 0:n.toLowerCase()){case"pdf":return o.jsx(bs,{className:"h-4 w-4"});case"jpg":case"jpeg":case"png":case"gif":return o.jsx(jF,{className:"h-4 w-4"});default:return o.jsx(bF,{className:"h-4 w-4"})}},Aq=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(2))+" "+n[r]};function Dq(){const[t,e]=h.useState(Tq),[n,r]=h.useState(!1),[s,a]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState(""),[f,u]=h.useState("all"),[m,p]=h.useState(!1),[g,x]=h.useState({name:"",type:"other",category:"",description:"",isPublic:!1}),{toast:y}=dt(),{startTutorial:v}=Ar(),w=t.filter(N=>{const S=N.name.toLowerCase().includes(c.toLowerCase())||N.description.toLowerCase().includes(c.toLowerCase()),C=f==="all"||N.type===f;return S&&C}),b=async()=>{if(!g.name.trim()){y({title:"Error",description:"Please enter a document name.",variant:"destructive"});return}p(!0);try{await new Promise(S=>setTimeout(S,2e3));const N={id:Date.now().toString(),name:g.name,type:g.type,category:g.category||"Uncategorized",description:g.description,fileUrl:`/documents/${g.name.toLowerCase().replace(/\s+/g,"-")}.pdf`,fileName:`${g.name.toLowerCase().replace(/\s+/g,"-")}.pdf`,fileSize:Math.floor(Math.random()*1e6)+1e5,uploadedBy:"Admin User",uploadedAt:new Date,isPublic:g.isPublic};e(S=>[N,...S]),x({name:"",type:"other",category:"",description:"",isPublic:!1}),a(!1),y({title:"Document uploaded",description:"The document has been uploaded successfully."})}catch{y({title:"Upload failed",description:"Failed to upload document. Please try again.",variant:"destructive"})}finally{p(!1)}},j=async N=>{try{e(S=>S.filter(C=>C.id!==N)),y({title:"Document deleted",description:"The document has been removed successfully."})}catch{y({title:"Error",description:"Failed to delete document.",variant:"destructive"})}},_=async N=>{try{e(S=>S.map(C=>C.id===N?{...C,isPublic:!C.isPublic}:C)),y({title:"Visibility updated",description:"Document visibility has been changed."})}catch{y({title:"Error",description:"Failed to update document visibility.",variant:"destructive"})}};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6","data-tutorial":"documents-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Document Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Upload, organize, and manage school documents"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx($s,{tutorials:F_,onStartTutorial:()=>v(F_)}),o.jsxs(dr,{open:s,onOpenChange:a,children:[o.jsx(Li,{asChild:!0,children:o.jsxs(W,{"data-tutorial":"upload-document",children:[o.jsx(Es,{className:"h-4 w-4 mr-2"}),"Upload Document"]})}),o.jsxs(Hn,{className:"max-w-md",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:"Upload New Document"}),o.jsx(ur,{children:"Add a new document to the school's document library"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"doc-name",children:"Document Name"}),o.jsx(De,{id:"doc-name",value:g.name,onChange:N=>x(S=>({...S,name:N.target.value})),placeholder:"Enter document name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"doc-type",children:"Document Type"}),o.jsxs(br,{value:g.type,onValueChange:N=>x(S=>({...S,type:N})),children:[o.jsx(sr,{children:o.jsx(jr,{})}),o.jsx(ar,{children:iy.map(N=>o.jsx($t,{value:N.value,children:N.label},N.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"doc-category",children:"Category"}),o.jsx(De,{id:"doc-category",value:g.category,onChange:N=>x(S=>({...S,category:N.target.value})),placeholder:"e.g., Policies, Forms, Communications"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"doc-description",children:"Description"}),o.jsx(Dn,{id:"doc-description",value:g.description,onChange:N=>x(S=>({...S,description:N.target.value})),placeholder:"Brief description of the document",rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"doc-public",checked:g.isPublic,onChange:N=>x(S=>({...S,isPublic:N.target.checked})),className:"rounded"}),o.jsx(ot,{htmlFor:"doc-public",children:"Make document publicly accessible"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"doc-file",children:"Select File"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[o.jsx(Mk,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, JPG, PNG (max 10MB)"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(W,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),o.jsx(W,{onClick:b,disabled:m,children:m?o.jsxs(o.Fragment,{children:[o.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload Document"})]})]})]})]})]})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Documents"}),o.jsxs(ut,{children:[w.length," document",w.length!==1?"s":""," found"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(De,{placeholder:"Search documents...",value:c,onChange:N=>d(N.target.value),className:"w-64"}),o.jsxs(br,{value:f,onValueChange:u,children:[o.jsx(sr,{className:"w-32",children:o.jsx(jr,{})}),o.jsxs(ar,{children:[o.jsx($t,{value:"all",children:"All Types"}),iy.map(N=>o.jsx($t,{value:N.value,children:N.label},N.value))]})]})]})]})}),o.jsxs(ue,{children:[o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Document"}),o.jsx(Ne,{children:"Type"}),o.jsx(Ne,{children:"Category"}),o.jsx(Ne,{children:"Size"}),o.jsx(Ne,{children:"Uploaded"}),o.jsx(Ne,{children:"Status"}),o.jsx(Ne,{className:"w-[50px]","data-tutorial":"document-actions",children:"Actions"})]})}),o.jsx(cr,{children:w.map(N=>{var S;return o.jsxs(rt,{children:[o.jsx(ge,{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[Pq(N.fileName),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:N.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:N.description})]})]})}),o.jsx(ge,{children:o.jsx(Vn,{variant:"outline",children:(S=iy.find(C=>C.value===N.type))==null?void 0:S.label})}),o.jsx(ge,{children:N.category}),o.jsx(ge,{children:Aq(N.fileSize)}),o.jsx(ge,{children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:mt(N.uploadedAt,"MMM d, yyyy")}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",N.uploadedBy]})]})}),o.jsx(ge,{children:o.jsx(Vn,{variant:N.isPublic?"default":"secondary",children:N.isPublic?"Public":"Private"})}),o.jsx(ge,{children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsx(W,{variant:"ghost",className:"h-8 w-8 p-0",children:o.jsx(Ca,{className:"h-4 w-4"})})}),o.jsxs(Hs,{align:"end",children:[o.jsx(kc,{children:"Actions"}),o.jsxs(Lt,{children:[o.jsx(Pk,{className:"h-4 w-4 mr-2"}),"View"]}),o.jsxs(Lt,{children:[o.jsx(qw,{className:"h-4 w-4 mr-2"}),"Download"]}),o.jsx(Ci,{}),o.jsx(Lt,{onClick:()=>_(N.id),children:N.isPublic?"Make Private":"Make Public"}),o.jsx(Ci,{}),o.jsxs(Lt,{onClick:()=>j(N.id),className:"text-red-600",children:[o.jsx(ns,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},N.id)})})]}),w.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(bs,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"No documents found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:c||f!=="all"?"Try adjusting your search or filter criteria":"Upload your first document to get started"}),!c&&f==="all"&&o.jsxs(W,{onClick:()=>a(!0),children:[o.jsx(Es,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})]})]})]})})}function ua(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function u0(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,Mq(s,...e)]}function Mq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function U_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Oq(...t){return e=>{let n=!1;const r=t.map(s=>{const a=U_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():U_(t[s],null)}}}}function xm(...t){return h.useCallback(Oq(...t),t)}function Rq(t){const e=t+"CollectionProvider",[n,r]=u0(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:y,children:v}=x,w=D.useRef(null),b=D.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:b,collectionRef:w,children:v})};i.displayName=e;const l=t+"CollectionSlot",c=Tr(l),d=D.forwardRef((x,y)=>{const{scope:v,children:w}=x,b=a(l,v),j=xm(y,b.collectionRef);return o.jsx(c,{ref:j,children:w})});d.displayName=l;const f=t+"CollectionItemSlot",u="data-radix-collection-item",m=Tr(f),p=D.forwardRef((x,y)=>{const{scope:v,children:w,...b}=x,j=D.useRef(null),_=xm(y,j),N=a(f,v);return D.useEffect(()=>(N.itemMap.set(j,{ref:j,...b}),()=>void N.itemMap.delete(j))),o.jsx(m,{[u]:"",ref:_,children:w})});p.displayName=f;function g(x){const y=a(t+"CollectionConsumer",x);return D.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((N,S)=>b.indexOf(N.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},g,r]}var wm=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},Iq=Ms[" useId ".trim().toString()]||(()=>{}),$q=0;function bD(t){const[e,n]=h.useState(Iq());return wm(()=>{n(r=>r??String($q++))},[t]),e?`radix-${e}`:""}var Lq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ec=Lq.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Fq(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Uq=Ms[" useInsertionEffect ".trim().toString()]||wm;function jD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=Bq({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const f=h.useRef(t!==void 0);h.useEffect(()=>{const u=f.current;u!==l&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=h.useCallback(f=>{var u;if(l){const m=Wq(f)?f(t):f;m!==t&&((u=i.current)==null||u.call(i,m))}else a(f)},[l,t,a,i]);return[c,d]}function Bq({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),s=h.useRef(n),a=h.useRef(e);return Uq(()=>{a.current=e},[e]),h.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function Wq(t){return typeof t=="function"}var zq=h.createContext(void 0);function SD(t){const e=h.useContext(zq);return t||e||"ltr"}var ly="rovingFocusGroup.onEntryFocus",Vq={bubbles:!1,cancelable:!0},Gu="RovingFocusGroup",[kx,_D,Hq]=Rq(Gu),[Yq,ND]=u0(Gu,[Hq]),[Gq,qq]=Yq(Gu),CD=h.forwardRef((t,e)=>o.jsx(kx.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(kx.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Kq,{...t,ref:e})})}));CD.displayName=Gu;var Kq=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...u}=t,m=h.useRef(null),p=xm(e,m),g=SD(a),[x,y]=jD({prop:i,defaultProp:l??null,onChange:c,caller:Gu}),[v,w]=h.useState(!1),b=Fq(d),j=_D(n),_=h.useRef(!1),[N,S]=h.useState(0);return h.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(ly,b),()=>C.removeEventListener(ly,b)},[b]),o.jsx(Gq,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:x,onItemFocus:h.useCallback(C=>y(C),[y]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>S(C=>C-1),[]),children:o.jsx(Ec.div,{tabIndex:v||N===0?-1:0,"data-orientation":r,...u,ref:p,style:{outline:"none",...t.style},onMouseDown:ua(t.onMouseDown,()=>{_.current=!0}),onFocus:ua(t.onFocus,C=>{const T=!_.current;if(C.target===C.currentTarget&&T&&!v){const k=new CustomEvent(ly,Vq);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const E=j().filter(F=>F.focusable),O=E.find(F=>F.active),P=E.find(F=>F.id===x),L=[O,P,...E].filter(Boolean).map(F=>F.ref.current);TD(L,f)}}_.current=!1}),onBlur:ua(t.onBlur,()=>w(!1))})})}),kD="RovingFocusGroupItem",ED=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=t,c=bD(),d=a||c,f=qq(kD,n),u=f.currentTabStopId===d,m=_D(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:x}=f;return h.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),o.jsx(kx.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:o.jsx(Ec.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:ua(t.onMouseDown,y=>{r?f.onItemFocus(d):y.preventDefault()}),onFocus:ua(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:ua(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=Jq(y,f.orientation,f.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=f.loop?Qq(b,j+1):b.slice(j+1)}setTimeout(()=>TD(b))}}),children:typeof i=="function"?i({isCurrentTabStop:u,hasTabStop:x!=null}):i})})});ED.displayName=kD;var Zq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Jq(t,e,n){const r=Xq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Zq[r]}function TD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Qq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eK=CD,tK=ED;function nK(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var PD=t=>{const{present:e,children:n}=t,r=rK(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=xm(r.ref,sK(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};PD.displayName="Presence";function rK(t){const[e,n]=h.useState(),r=h.useRef(null),s=h.useRef(t),a=h.useRef("none"),i=t?"mounted":"unmounted",[l,c]=nK(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Lf(r.current);a.current=l==="mounted"?d:"none"},[l]),wm(()=>{const d=r.current,f=s.current;if(f!==t){const m=a.current,p=Lf(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),wm(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,u=p=>{const x=Lf(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(a.current=Lf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Lf(t){return(t==null?void 0:t.animationName)||"none"}function sK(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ep="Tabs",[aK,Tae]=u0(Ep,[ND]),AD=ND(),[oK,f0]=aK(Ep),DD=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=SD(l),[u,m]=jD({prop:r,onChange:s,defaultProp:a??"",caller:Ep});return o.jsx(oK,{scope:n,baseId:bD(),value:u,onValueChange:m,orientation:i,dir:f,activationMode:c,children:o.jsx(Ec.div,{dir:f,"data-orientation":i,...d,ref:e})})});DD.displayName=Ep;var MD="TabsList",OD=h.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,a=f0(MD,n),i=AD(n);return o.jsx(eK,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(Ec.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});OD.displayName=MD;var RD="TabsTrigger",ID=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=t,i=f0(RD,n),l=AD(n),c=FD(i.baseId,r),d=UD(i.baseId,r),f=r===i.value;return o.jsx(tK,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(Ec.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:ua(t.onMouseDown,u=>{!s&&u.button===0&&u.ctrlKey===!1?i.onValueChange(r):u.preventDefault()}),onKeyDown:ua(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(r)}),onFocus:ua(t.onFocus,()=>{const u=i.activationMode!=="manual";!f&&!s&&u&&i.onValueChange(r)})})})});ID.displayName=RD;var $D="TabsContent",LD=h.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=t,l=f0($D,n),c=FD(l.baseId,r),d=UD(l.baseId,r),f=r===l.value,u=h.useRef(f);return h.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(PD,{present:s||f,children:({present:m})=>o.jsx(Ec.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:m&&a})})});LD.displayName=$D;function FD(t,e){return`${t}-trigger-${e}`}function UD(t,e){return`${t}-content-${e}`}var iK=DD,BD=OD,WD=ID,zD=LD;const lK=iK,VD=h.forwardRef(({className:t,...e},n)=>o.jsx(BD,{ref:n,className:U("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));VD.displayName=BD.displayName;const cd=h.forwardRef(({className:t,...e},n)=>o.jsx(WD,{ref:n,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));cd.displayName=WD.displayName;const dd=h.forwardRef(({className:t,...e},n)=>o.jsx(zD,{ref:n,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));dd.displayName=zD.displayName;const B_=[{id:"settings-overview",title:"Settings Overview",description:"Learn how to configure your school's system settings",target:'[data-tutorial="settings-overview"]',content:"This is your admin settings dashboard. Here you can configure school information, user preferences, notifications, and system settings.",position:"bottom",tip:"Use the tabs to navigate between different setting categories"},{id:"school-settings",title:"School Information",description:"Configure basic school details",target:'[data-tutorial="school-settings"]',content:"Update your school's basic information including name, address, contact details, and description. This information appears throughout the system.",position:"right",tip:"Keep your school information up to date for accurate communication"},{id:"notification-settings",title:"Notification Settings",description:"Manage system notifications",target:'[data-tutorial="notification-settings"]',content:"Configure how and when the system sends notifications to users. You can enable/disable different types of notifications.",position:"left",tip:"Balance keeping users informed without overwhelming them"}];function cK(){const[t,e]=h.useState({name:"Maes y Morfa Primary School",address:"123 School Lane, Cardiff, CF1 1AA",phone:"029 2000 0000",email:"admin@maesymorfa.edu",website:"https://maesymorfa.edu",description:"A welcoming primary school in the heart of Cardiff"}),[n,r]=h.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,parentUpdates:!0,staffUpdates:!0,systemAlerts:!0}),[s,a]=h.useState({maintenanceMode:!1,allowRegistration:!0,requireApproval:!0,sessionTimeout:30}),[i,l]=h.useState(!1),{toast:c}=dt(),{startTutorial:d}=Ar(),f=async()=>{l(!0);try{await new Promise(p=>setTimeout(p,1e3)),c({title:"Settings saved",description:"School settings have been updated successfully."})}catch{c({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{l(!1)}},u=async()=>{l(!0);try{await new Promise(p=>setTimeout(p,1e3)),c({title:"Notifications updated",description:"Notification settings have been saved."})}catch{c({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}finally{l(!1)}},m=async()=>{l(!0);try{await new Promise(p=>setTimeout(p,1e3)),c({title:"System settings updated",description:"System configuration has been saved."})}catch{c({title:"Error",description:"Failed to save system settings.",variant:"destructive"})}finally{l(!1)}};return o.jsxs("div",{className:"container mx-auto px-8 py-16","data-tutorial":"settings-overview",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Admin Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Configure your school's system settings and preferences"})]}),o.jsx($s,{tutorials:B_,onStartTutorial:()=>d(B_)})]}),o.jsxs(lK,{defaultValue:"school",className:"space-y-6",children:[o.jsxs(VD,{className:"grid w-full grid-cols-4",children:[o.jsxs(cd,{value:"school",className:"flex items-center gap-2",children:[o.jsx(qd,{className:"h-4 w-4"}),"School"]}),o.jsxs(cd,{value:"notifications",className:"flex items-center gap-2",children:[o.jsx(Dv,{className:"h-4 w-4"}),"Notifications"]}),o.jsxs(cd,{value:"system",className:"flex items-center gap-2",children:[o.jsx(Kd,{className:"h-4 w-4"}),"System"]}),o.jsxs(cd,{value:"appearance",className:"flex items-center gap-2",children:[o.jsx(bS,{className:"h-4 w-4"}),"Appearance"]})]}),o.jsx(dd,{value:"school",className:"space-y-6",children:o.jsxs(oe,{"data-tutorial":"school-settings",children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(qd,{className:"h-5 w-5"}),"School Information"]}),o.jsx(ut,{children:"Update your school's basic information and contact details"})]}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"school-name",children:"School Name"}),o.jsx(De,{id:"school-name",value:t.name,onChange:p=>e(g=>({...g,name:p.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"school-phone",children:"Phone Number"}),o.jsx(De,{id:"school-phone",value:t.phone,onChange:p=>e(g=>({...g,phone:p.target.value}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"school-address",children:"Address"}),o.jsx(De,{id:"school-address",value:t.address,onChange:p=>e(g=>({...g,address:p.target.value}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"school-email",children:"Email"}),o.jsx(De,{id:"school-email",type:"email",value:t.email,onChange:p=>e(g=>({...g,email:p.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"school-website",children:"Website"}),o.jsx(De,{id:"school-website",value:t.website,onChange:p=>e(g=>({...g,website:p.target.value}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"school-description",children:"Description"}),o.jsx(Dn,{id:"school-description",value:t.description,onChange:p=>e(g=>({...g,description:p.target.value})),rows:3})]}),o.jsx(W,{onClick:f,disabled:i,children:i?"Saving...":"Save School Settings"})]})]})}),o.jsx(dd,{value:"notifications",className:"space-y-6",children:o.jsxs(oe,{"data-tutorial":"notification-settings",children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Dv,{className:"h-5 w-5"}),"Notification Settings"]}),o.jsx(ut,{children:"Configure how and when the system sends notifications"})]}),o.jsxs(ue,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via email"})]}),o.jsx(rn,{checked:n.emailNotifications,onCheckedChange:p=>r(g=>({...g,emailNotifications:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"SMS Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications via SMS"})]}),o.jsx(rn,{checked:n.smsNotifications,onCheckedChange:p=>r(g=>({...g,smsNotifications:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send browser push notifications"})]}),o.jsx(rn,{checked:n.pushNotifications,onCheckedChange:p=>r(g=>({...g,pushNotifications:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Parent Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify parents of important updates"})]}),o.jsx(rn,{checked:n.parentUpdates,onCheckedChange:p=>r(g=>({...g,parentUpdates:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Staff Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify staff of system changes"})]}),o.jsx(rn,{checked:n.staffUpdates,onCheckedChange:p=>r(g=>({...g,staffUpdates:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"System Alerts"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical system notifications"})]}),o.jsx(rn,{checked:n.systemAlerts,onCheckedChange:p=>r(g=>({...g,systemAlerts:p}))})]})]}),o.jsx(W,{onClick:u,disabled:i,children:i?"Saving...":"Save Notification Settings"})]})]})}),o.jsx(dd,{value:"system",className:"space-y-6",children:o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Kd,{className:"h-5 w-5"}),"System Settings"]}),o.jsx(ut,{children:"Configure system-wide settings and security options"})]}),o.jsxs(ue,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Maintenance Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Temporarily disable public access"})]}),o.jsx(rn,{checked:s.maintenanceMode,onCheckedChange:p=>a(g=>({...g,maintenanceMode:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Allow Registration"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register"})]}),o.jsx(rn,{checked:s.allowRegistration,onCheckedChange:p=>a(g=>({...g,allowRegistration:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ot,{children:"Require Approval"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"New registrations require admin approval"})]}),o.jsx(rn,{checked:s.requireApproval,onCheckedChange:p=>a(g=>({...g,requireApproval:p}))})]}),o.jsx(Rn,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ot,{htmlFor:"session-timeout",children:"Session Timeout (minutes)"}),o.jsx(De,{id:"session-timeout",type:"number",value:s.sessionTimeout,onChange:p=>a(g=>({...g,sessionTimeout:parseInt(p.target.value)||30})),min:"5",max:"480"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"How long users stay logged in when inactive"})]})]}),o.jsx(W,{onClick:m,disabled:i,children:i?"Saving...":"Save System Settings"})]})]})}),o.jsx(dd,{value:"appearance",className:"space-y-6",children:o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(bS,{className:"h-5 w-5"}),"Appearance Settings"]}),o.jsx(ut,{children:"Customize the look and feel of your admin interface"})]}),o.jsx(ue,{children:o.jsx("p",{className:"text-muted-foreground",children:"Appearance customization options will be available in a future update."})})]})})]})]})}function po(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function W_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function dK(...t){return e=>{let n=!1;const r=t.map(s=>{const a=W_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():W_(t[s],null)}}}}function Lo(...t){return h.useCallback(dK(...t),t)}function HD(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,uK(s,...e)]}function uK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var fK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ma=fK.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hK(t,e){t&&Sa.flushSync(()=>t.dispatchEvent(e))}function Zl(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function mK(t,e=globalThis==null?void 0:globalThis.document){const n=Zl(t);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pK="DismissableLayer",Ex="dismissableLayer.update",gK="dismissableLayer.pointerDownOutside",yK="dismissableLayer.focusOutside",z_,YD=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GD=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=t,d=h.useContext(YD),[f,u]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),g=Lo(e,S=>u(S)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(y),w=f?x.indexOf(f):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=v,_=wK(S=>{const C=S.target,T=[...d.branches].some(k=>k.contains(C));!j||T||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),N=bK(S=>{const C=S.target;[...d.branches].some(k=>k.contains(C))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return mK(S=>{w===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(z_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),V_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=z_)}},[f,m,n,d]),h.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),V_())},[f,d]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(Ex,S),()=>document.removeEventListener(Ex,S)},[]),o.jsx(Ma.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:po(t.onFocusCapture,N.onFocusCapture),onBlurCapture:po(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:po(t.onPointerDownCapture,_.onPointerDownCapture)})});GD.displayName=pK;var vK="DismissableLayerBranch",xK=h.forwardRef((t,e)=>{const n=h.useContext(YD),r=h.useRef(null),s=Lo(e,r);return h.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Ma.div,{...t,ref:s})});xK.displayName=vK;function wK(t,e=globalThis==null?void 0:globalThis.document){const n=Zl(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){qD(gK,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bK(t,e=globalThis==null?void 0:globalThis.document){const n=Zl(t),r=h.useRef(!1);return h.useEffect(()=>{const s=a=>{a.target&&!r.current&&qD(yK,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function V_(){const t=new CustomEvent(Ex);document.dispatchEvent(t)}function qD(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hK(s,a):s.dispatchEvent(a)}var cy=0;function jK(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H_()),document.body.insertAdjacentElement("beforeend",t[1]??H_()),cy++,()=>{cy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cy--}},[])}function H_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dy="focusScope.autoFocusOnMount",uy="focusScope.autoFocusOnUnmount",Y_={bubbles:!1,cancelable:!0},SK="FocusScope",KD=h.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=t,[l,c]=h.useState(null),d=Zl(s),f=Zl(a),u=h.useRef(null),m=Lo(e,x=>c(x)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?u.current=j:Ha(u.current,{select:!0})},y=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Ha(u.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ha(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){q_.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(dy,Y_);l.addEventListener(dy,d),l.dispatchEvent(v),v.defaultPrevented||(_K(TK(ZD(l)),{select:!0}),document.activeElement===x&&Ha(l))}return()=>{l.removeEventListener(dy,d),setTimeout(()=>{const v=new CustomEvent(uy,Y_);l.addEventListener(uy,f),l.dispatchEvent(v),v.defaultPrevented||Ha(x??document.body,{select:!0}),l.removeEventListener(uy,f),q_.remove(p)},0)}}},[l,d,f,p]);const g=h.useCallback(x=>{if(!n&&!r||p.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(y&&v){const w=x.currentTarget,[b,j]=NK(w);b&&j?!x.shiftKey&&v===j?(x.preventDefault(),n&&Ha(b,{select:!0})):x.shiftKey&&v===b&&(x.preventDefault(),n&&Ha(j,{select:!0})):v===w&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(Ma.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});KD.displayName=SK;function _K(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ha(r,{select:e}),document.activeElement!==n)return}function NK(t){const e=ZD(t),n=G_(e,t),r=G_(e.reverse(),t);return[n,r]}function ZD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function G_(t,e){for(const n of t)if(!CK(n,{upTo:e}))return n}function CK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kK(t){return t instanceof HTMLInputElement&&"select"in t}function Ha(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kK(t)&&e&&t.select()}}var q_=EK();function EK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=K_(t,e),t.unshift(e)},remove(e){var n;t=K_(t,e),(n=t[0])==null||n.resume()}}}function K_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function TK(t){return t.filter(e=>e.tagName!=="A")}var Eo=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},PK=Ms[" useId ".trim().toString()]||(()=>{}),AK=0;function DK(t){const[e,n]=h.useState(PK());return Eo(()=>{n(r=>r??String(AK++))},[t]),t||(e?`radix-${e}`:"")}var MK="Arrow",XD=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return o.jsx(Ma.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});XD.displayName=MK;var OK=XD;function RK(t){const[e,n]=h.useState(void 0);return Eo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var h0="Popper",[JD,QD]=HD(h0),[IK,eM]=JD(h0),tM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return o.jsx(IK,{scope:e,anchor:r,onAnchorChange:s,children:n})};tM.displayName=h0;var nM="PopperAnchor",rM=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=eM(nM,n),i=h.useRef(null),l=Lo(e,i),c=h.useRef(null);return h.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||i.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:o.jsx(Ma.div,{...s,ref:l})});rM.displayName=nM;var m0="PopperContent",[$K,LK]=JD(m0),sM=h.forwardRef((t,e)=>{var re,Ae,Ie,Le,Me,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=t,y=eM(m0,n),[v,w]=h.useState(null),b=Lo(e,tt=>w(tt)),[j,_]=h.useState(null),N=RK(j),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,T=r+(a!=="center"?"-"+a:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(d)?d:[d],O=E.length>0,P={padding:k,boundary:E.filter(UK),altBoundary:O},{refs:M,floatingStyles:L,placement:F,isPositioned:z,middlewareData:R}=vb({strategy:"fixed",placement:T,whileElementsMounted:(...tt)=>yb(...tt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[xb({mainAxis:s+C,alignmentAxis:i}),c&&wb({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?bb():void 0,...P}),c&&jb({...P}),Sb({...P,apply:({elements:tt,rects:fe,availableWidth:vn,availableHeight:xn})=>{const{width:ln,height:A}=fe.reference,I=tt.floating.style;I.setProperty("--radix-popper-available-width",`${vn}px`),I.setProperty("--radix-popper-available-height",`${xn}px`),I.setProperty("--radix-popper-anchor-width",`${ln}px`),I.setProperty("--radix-popper-anchor-height",`${A}px`)}}),j&&Nb({element:j,padding:l}),BK({arrowWidth:S,arrowHeight:C}),m&&_b({strategy:"referenceHidden",...P})]}),[$,V]=iM(F),Q=Zl(g);Eo(()=>{z&&(Q==null||Q())},[z,Q]);const be=(re=R.arrow)==null?void 0:re.x,Ge=(Ae=R.arrow)==null?void 0:Ae.y,He=((Ie=R.arrow)==null?void 0:Ie.centerOffset)!==0,[pt,qe]=h.useState();return Eo(()=>{v&&qe(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[(Le=R.transformOrigin)==null?void 0:Le.x,(Me=R.transformOrigin)==null?void 0:Me.y].join(" "),...((ze=R.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx($K,{scope:n,placedSide:$,onArrowChange:_,arrowX:be,arrowY:Ge,shouldHideArrow:He,children:o.jsx(Ma.div,{"data-side":$,"data-align":V,...x,ref:b,style:{...x.style,animation:z?void 0:"none"}})})})});sM.displayName=m0;var aM="PopperArrow",FK={top:"bottom",right:"left",bottom:"top",left:"right"},oM=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=LK(aM,r),i=FK[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(OK,{...s,ref:n,style:{...s.style,display:"block"}})})});oM.displayName=aM;function UK(t){return t!==null}var BK=t=>({name:"transformOrigin",options:t,fn(e){var y,v,w;const{placement:n,rects:r,middlewareData:s}=e,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,f]=iM(n),u={start:"0%",center:"50%",end:"100%"}[f],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=i?u:`${m}px`,x=`${-c}px`):d==="top"?(g=i?u:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=i?u:`${p}px`):d==="left"&&(g=`${r.floating.width+c}px`,x=i?u:`${p}px`),{data:{x:g,y:x}}}});function iM(t){const[e,n="center"]=t.split("-");return[e,n]}var WK=tM,lM=rM,zK=sM,VK=oM,HK="Portal",cM=h.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,a]=h.useState(!1);Eo(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?zC.createPortal(o.jsx(Ma.div,{...r,ref:e}),i):null});cM.displayName=HK;function YK(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var p0=t=>{const{present:e,children:n}=t,r=GK(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=Lo(r.ref,qK(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};p0.displayName="Presence";function GK(t){const[e,n]=h.useState(),r=h.useRef(null),s=h.useRef(t),a=h.useRef("none"),i=t?"mounted":"unmounted",[l,c]=YK(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Ff(r.current);a.current=l==="mounted"?d:"none"},[l]),Eo(()=>{const d=r.current,f=s.current;if(f!==t){const m=a.current,p=Ff(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Eo(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,u=p=>{const x=Ff(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(a.current=Ff(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Ff(t){return(t==null?void 0:t.animationName)||"none"}function qK(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KK=Ms[" useInsertionEffect ".trim().toString()]||Eo;function ZK({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=XK({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const f=h.useRef(t!==void 0);h.useEffect(()=>{const u=f.current;u!==l&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=h.useCallback(f=>{var u;if(l){const m=JK(f)?f(t):f;m!==t&&((u=i.current)==null||u.call(i,m))}else a(f)},[l,t,a,i]);return[c,d]}function XK({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),s=h.useRef(n),a=h.useRef(e);return KK(()=>{a.current=e},[e]),h.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function JK(t){return typeof t=="function"}var Tp="Popover",[dM,Pae]=HD(Tp,[QD]),qu=QD(),[QK,Fo]=dM(Tp),uM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=t,l=qu(e),c=h.useRef(null),[d,f]=h.useState(!1),[u,m]=ZK({prop:r,defaultProp:s??!1,onChange:a,caller:Tp});return o.jsx(WK,{...l,children:o.jsx(QK,{scope:e,contentId:DK(),triggerRef:c,open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>f(!0),[]),onCustomAnchorRemove:h.useCallback(()=>f(!1),[]),modal:i,children:n})})};uM.displayName=Tp;var fM="PopoverAnchor",eZ=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Fo(fM,n),a=qu(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(lM,{...a,...r,ref:e})});eZ.displayName=fM;var hM="PopoverTrigger",mM=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Fo(hM,n),a=qu(n),i=Lo(e,s.triggerRef),l=o.jsx(Ma.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xM(s.open),...r,ref:i,onClick:po(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(lM,{asChild:!0,...a,children:l})});mM.displayName=hM;var g0="PopoverPortal",[tZ,nZ]=dM(g0,{forceMount:void 0}),pM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,a=Fo(g0,e);return o.jsx(tZ,{scope:e,forceMount:n,children:o.jsx(p0,{present:n||a.open,children:o.jsx(cM,{asChild:!0,container:s,children:r})})})};pM.displayName=g0;var Xl="PopoverContent",gM=h.forwardRef((t,e)=>{const n=nZ(Xl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,a=Fo(Xl,t.__scopePopover);return o.jsx(p0,{present:r||a.open,children:a.modal?o.jsx(sZ,{...s,ref:e}):o.jsx(aZ,{...s,ref:e})})});gM.displayName=Xl;var rZ=Tr("PopoverContent.RemoveScroll"),sZ=h.forwardRef((t,e)=>{const n=Fo(Xl,t.__scopePopover),r=h.useRef(null),s=Lo(e,r),a=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return Zm(i)},[]),o.jsx(Tu,{as:rZ,allowPinchZoom:!0,children:o.jsx(yM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:po(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:po(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:po(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),aZ=h.forwardRef((t,e)=>{const n=Fo(Xl,t.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return o.jsx(yM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),yM=h.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...u}=t,m=Fo(Xl,n),p=qu(n);return jK(),o.jsx(KD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(GD,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(zK,{"data-state":xM(m.open),role:"dialog",id:m.contentId,...p,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vM="PopoverClose",oZ=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Fo(vM,n);return o.jsx(Ma.button,{type:"button",...r,ref:e,onClick:po(t.onClick,()=>s.onOpenChange(!1))})});oZ.displayName=vM;var iZ="PopoverArrow",lZ=h.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=qu(n);return o.jsx(VK,{...s,...r,ref:e})});lZ.displayName=iZ;function xM(t){return t?"open":"closed"}var cZ=uM,dZ=mM,uZ=pM,wM=gM;const bM=cZ,jM=dZ,y0=h.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx(uZ,{children:o.jsx(wM,{ref:s,align:e,sideOffset:n,className:U("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));y0.displayName=wM.displayName;function fZ(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const fy={},ud={};function ai(t,e){try{const r=(fy[t]||(fy[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in ud?ud[r]:Z_(r,r.split(":"))}catch{if(t in ud)return ud[t];const n=t==null?void 0:t.match(hZ);return n?Z_(t,n.slice(1)):NaN}}const hZ=/([+-]\d\d):?(\d\d)?/;function Z_(t,e){const n=+(e[0]||0),r=+(e[1]||0),s=+(e[2]||0)/60;return ud[t]=n*60+r>0?n*60+r+s:n*60-r-s}class vs extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(ai(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),SM(this),Tx(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new vs(...n,e):new vs(Date.now(),e)}withTimeZone(e){return new vs(+this,e)}getTimezoneOffset(){const e=-ai(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Tx(this),+this}[Symbol.for("constructDateFrom")](e){return new vs(+new Date(e),this.timeZone)}}const X_=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!X_.test(t))return;const e=t.replace(X_,"$1UTC");vs.prototype[e]&&(t.startsWith("get")?vs.prototype[t]=function(){return this.internal[e]()}:(vs.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),mZ(this),+this},vs.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Tx(this),+this}))});function Tx(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-ai(t.timeZone,t)*60))}function mZ(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),SM(t)}function SM(t){const e=ai(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+t).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),i=s-a,l=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();i&&l&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+i);const c=s-n;c&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+c);const d=new Date(+t);d.setUTCSeconds(0);const f=s>0?d.getSeconds():(d.getSeconds()-60)%60,u=Math.round(-(ai(t.timeZone,t)*60))%60;(u||f)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+u+f));const m=ai(t.timeZone,t),p=m>0?Math.floor(m):Math.ceil(m),x=-new Date(+t).getTimezoneOffset()-p,y=p!==n,v=x-c;if(y&&v){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+v);const w=ai(t.timeZone,t),b=w>0?Math.floor(w):Math.ceil(w),j=p-b;j&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+j),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+j))}}class un extends vs{static tz(e,...n){return n.length?new un(...n,e):new un(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${fZ(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new un(+this,e)}[Symbol.for("constructDateFrom")](e){return new un(+new Date(e),this.timeZone)}}const _M=6048e5,pZ=864e5,J_=Symbol.for("constructDateFrom");function Xt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&J_ in t?t[J_](e):t instanceof Date?new t.constructor(e):new Date(e)}function ft(t,e){return Xt(e||t,t)}function NM(t,e,n){const r=ft(t,n==null?void 0:n.in);return isNaN(e)?Xt(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function CM(t,e,n){const r=ft(t,n==null?void 0:n.in);if(isNaN(e))return Xt(t,NaN);if(!e)return r;const s=r.getDate(),a=Xt(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}let gZ={};function Ku(){return gZ}function Jl(t,e){var l,c,d,f;const n=Ku(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=ft(t,e==null?void 0:e.in),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function gu(t,e){return Jl(t,{...e,weekStartsOn:1})}function kM(t,e){const n=ft(t,e==null?void 0:e.in),r=n.getFullYear(),s=Xt(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=gu(s),i=Xt(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=gu(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Q_(t){const e=ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tc(t,...e){const n=Xt.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function yu(t,e){const n=ft(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function EM(t,e,n){const[r,s]=Tc(n==null?void 0:n.in,t,e),a=yu(r),i=yu(s),l=+a-Q_(a),c=+i-Q_(i);return Math.round((l-c)/pZ)}function yZ(t,e){const n=kM(t,e),r=Xt(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),gu(r)}function vZ(t,e,n){return NM(t,e*7,n)}function xZ(t,e,n){return CM(t,e*12,n)}function wZ(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Xt.bind(null,s));const a=ft(s,r);(!n||n<a||isNaN(+a))&&(n=a)}),Xt(r,n||NaN)}function bZ(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Xt.bind(null,s));const a=ft(s,r);(!n||n>a||isNaN(+a))&&(n=a)}),Xt(r,n||NaN)}function jZ(t,e,n){const[r,s]=Tc(n==null?void 0:n.in,t,e);return+yu(r)==+yu(s)}function TM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SZ(t){return!(!TM(t)&&typeof t!="number"||isNaN(+ft(t)))}function _Z(t,e,n){const[r,s]=Tc(n==null?void 0:n.in,t,e),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function NZ(t,e){const n=ft(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function CZ(t,e){const[n,r]=Tc(t,e.start,e.end);return{start:n,end:r}}function kZ(t,e){const{start:n,end:r}=CZ(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0),i.setDate(1);let l=1;const c=[];for(;+i<=a;)c.push(Xt(n,i)),i.setMonth(i.getMonth()+l);return s?c.reverse():c}function EZ(t,e){const n=ft(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function TZ(t,e){const n=ft(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function PM(t,e){const n=ft(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function AM(t,e){var l,c,d,f;const n=Ku(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=ft(t,e==null?void 0:e.in),a=s.getDay(),i=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function PZ(t,e){return AM(t,{...e,weekStartsOn:1})}const AZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DZ=(t,e,n)=>{let r;const s=AZ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const MZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IZ={date:hy({formats:MZ,defaultWidth:"full"}),time:hy({formats:OZ,defaultWidth:"full"}),dateTime:hy({formats:RZ,defaultWidth:"full"})},$Z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LZ=(t,e,n,r)=>$Z[t];function qc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[i]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const FZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},WZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},YZ={ordinalNumber:HZ,era:qc({values:FZ,defaultWidth:"wide"}),quarter:qc({values:UZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qc({values:BZ,defaultWidth:"wide"}),day:qc({values:WZ,defaultWidth:"wide"}),dayPeriod:qc({values:zZ,defaultWidth:"wide",formattingValues:VZ,defaultFormattingWidth:"wide"})};function Kc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const i=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?qZ(l,u=>u.test(i)):GZ(l,u=>u.test(i));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(i.length);return{value:d,rest:f}}}function GZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function KZ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],a=e.match(t.parsePattern);if(!a)return null;let i=t.valueCallback?t.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=e.slice(s.length);return{value:i,rest:l}}}const ZZ=/^(\d+)(th|st|nd|rd)?/i,XZ=/\d+/i,JZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QZ={any:[/^b/i,/^(a|c)/i]},eX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tX={any:[/1/i,/2/i,/3/i,/4/i]},nX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lX={ordinalNumber:KZ({matchPattern:ZZ,parsePattern:XZ,valueCallback:t=>parseInt(t,10)}),era:Kc({matchPatterns:JZ,defaultMatchWidth:"wide",parsePatterns:QZ,defaultParseWidth:"any"}),quarter:Kc({matchPatterns:eX,defaultMatchWidth:"wide",parsePatterns:tX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kc({matchPatterns:nX,defaultMatchWidth:"wide",parsePatterns:rX,defaultParseWidth:"any"}),day:Kc({matchPatterns:sX,defaultMatchWidth:"wide",parsePatterns:aX,defaultParseWidth:"any"}),dayPeriod:Kc({matchPatterns:oX,defaultMatchWidth:"any",parsePatterns:iX,defaultParseWidth:"any"})},v0={code:"en-US",formatDistance:DZ,formatLong:IZ,formatRelative:LZ,localize:YZ,match:lX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cX(t,e){const n=ft(t,e==null?void 0:e.in);return EM(n,PM(n))+1}function DM(t,e){const n=ft(t,e==null?void 0:e.in),r=+gu(n)-+yZ(n);return Math.round(r/_M)+1}function MM(t,e){var f,u,m,p;const n=ft(t,e==null?void 0:e.in),r=n.getFullYear(),s=Ku(),a=(e==null?void 0:e.firstWeekContainsDate)??((u=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Xt((e==null?void 0:e.in)||t,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=Jl(i,e),c=Xt((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Jl(c,e);return+n>=+l?r+1:+n>=+d?r:r-1}function dX(t,e){var l,c,d,f;const n=Ku(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=MM(t,e),a=Xt((e==null?void 0:e.in)||t,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Jl(a,e)}function OM(t,e){const n=ft(t,e==null?void 0:e.in),r=+Jl(n,e)-+dX(n,e);return Math.round(r/_M)+1}function lt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Wa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return lt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):lt(n+1,2)},d(t,e){return lt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return lt(t.getHours()%12||12,e.length)},H(t,e){return lt(t.getHours(),e.length)},m(t,e){return lt(t.getMinutes(),e.length)},s(t,e){return lt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return lt(s,e.length)}},rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Wa.y(t,e)},Y:function(t,e,n,r){const s=MM(t,r),a=s>0?s:1-s;if(e==="YY"){const i=a%100;return lt(i,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):lt(a,e.length)},R:function(t,e){const n=kM(t);return lt(n,e.length)},u:function(t,e){const n=t.getFullYear();return lt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return lt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Wa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=OM(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):lt(s,e.length)},I:function(t,e,n){const r=DM(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):lt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wa.d(t,e)},D:function(t,e,n){const r=cX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return lt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return lt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return lt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=rl.noon:r===0?s=rl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=rl.evening:r>=12?s=rl.afternoon:r>=4?s=rl.morning:s=rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wa.s(t,e)},S:function(t,e){return Wa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return n1(r);case"XXXX":case"XX":return Jo(r);case"XXXXX":case"XXX":default:return Jo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return n1(r);case"xxxx":case"xx":return Jo(r);case"xxxxx":case"xxx":default:return Jo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+t1(r,":");case"OOOO":default:return"GMT"+Jo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+t1(r,":");case"zzzz":default:return"GMT"+Jo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return lt(r,e.length)},T:function(t,e,n){return lt(+t,e.length)}};function t1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+e+lt(a,2)}function n1(t,e){return t%60===0?(t>0?"-":"+")+lt(Math.abs(t)/60,2):Jo(t,e)}function Jo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=lt(Math.trunc(r/60),2),a=lt(r%60,2);return n+s+e+a}const r1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return r1(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",r1(r,e)).replace("{{time}}",RM(s,e))},fX={p:RM,P:uX},hX=/^D+$/,mX=/^Y+$/,pX=["D","DD","YY","YYYY"];function gX(t){return hX.test(t)}function yX(t){return mX.test(t)}function vX(t,e,n){const r=xX(t,e,n);if(console.warn(r),pX.includes(t))throw new RangeError(r)}function xX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jX=/^'([^]*?)'?$/,SX=/''/g,_X=/[a-zA-Z]/;function NX(t,e,n){var f,u,m,p,g,x,y,v;const r=Ku(),s=(n==null?void 0:n.locale)??r.locale??v0,a=(n==null?void 0:n.firstWeekContainsDate)??((u=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=ft(t,n==null?void 0:n.in);if(!SZ(l))throw new RangeError("Invalid time value");let c=e.match(bX).map(w=>{const b=w[0];if(b==="p"||b==="P"){const j=fX[b];return j(w,s.formatLong)}return w}).join("").match(wX).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:CX(w)};if(e1[b])return{isToken:!0,value:w};if(b.match(_X))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yX(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gX(b))&&vX(b,e,String(t));const j=e1[b[0]];return j(l,b,s.localize,d)}).join("")}function CX(t){const e=t.match(jX);return e?e[1].replace(SX,"'"):t}function kX(t,e){const n=ft(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),a=Xt(n,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function EX(t,e){return ft(t,e==null?void 0:e.in).getMonth()}function TX(t,e){return ft(t,e==null?void 0:e.in).getFullYear()}function PX(t,e){return+ft(t)>+ft(e)}function AX(t,e){return+ft(t)<+ft(e)}function DX(t,e,n){const[r,s]=Tc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function MX(t,e,n){const[r,s]=Tc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function OX(t,e,n){const r=ft(t,n==null?void 0:n.in),s=r.getFullYear(),a=r.getDate(),i=Xt(t,0);i.setFullYear(s,e,15),i.setHours(0,0,0,0);const l=kX(i);return r.setMonth(e,Math.min(a,l)),r}function RX(t,e,n){const r=ft(t,n==null?void 0:n.in);return isNaN(+r)?Xt(t,NaN):(r.setFullYear(e),r)}const s1=5,IX=4;function $X(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),a=e.addDays(s,s1*7-1);return e.getMonth(t)===e.getMonth(a)?s1:IX}function IM(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function LX(t,e){const n=IM(t,e),r=$X(t,e);return e.addDays(n,r*7-1)}class Oa{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?un.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,a)=>{var i;return(i=this.overrides)!=null&&i.newDate?this.overrides.newDate(r,s,a):this.options.timeZone?new un(r,s,a,this.options.timeZone):new Date(r,s,a)},this.addDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,s):NM(r,s)},this.addMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,s):CM(r,s)},this.addWeeks=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,s):vZ(r,s)},this.addYears=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,s):xZ(r,s)},this.differenceInCalendarDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):EM(r,s)},this.differenceInCalendarMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):_Z(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):kZ(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):LX(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):PZ(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):NZ(r)},this.endOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,s):AM(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):TZ(r)},this.format=(r,s,a)=>{var l;const i=(l=this.overrides)!=null&&l.format?this.overrides.format(r,s,this.options):NX(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):DM(r)},this.getMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):EX(r,this.options)},this.getYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):TX(r,this.options)},this.getWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):OM(r,this.options)},this.isAfter=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,s):PX(r,s)},this.isBefore=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,s):AX(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):TM(r)},this.isSameDay=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,s):jZ(r,s)},this.isSameMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,s):DX(r,s)},this.isSameYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,s):MX(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):wZ(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):bZ(r)},this.setMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,s):OX(r,s)},this.setYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,s):RX(r,s)},this.startOfBroadcastWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):IM(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):yu(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):gu(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):EZ(r)},this.startOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):Jl(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):PM(r)},this.options={locale:v0,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Ys=new Oa;class $M{constructor(e,n,r=Ys){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class FX{constructor(e,n){this.date=e,this.weeks=n}}class UX{constructor(e,n){this.days=n,this.weekNumber=e}}function BX(t){return D.createElement("button",{...t})}function WX(t){return D.createElement("span",{...t})}function zX(t){const{size:e=24,orientation:n="left",className:r}=t;return D.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&D.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&D.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&D.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&D.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function VX(t){const{day:e,modifiers:n,...r}=t;return D.createElement("td",{...r})}function HX(t){const{day:e,modifiers:n,...r}=t,s=D.useRef(null);return D.useEffect(()=>{var a;n.focused&&((a=s.current)==null||a.focus())},[n.focused]),D.createElement("button",{ref:s,...r})}var we;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(we||(we={}));var kt;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(kt||(kt={}));var Br;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Br||(Br={}));var Xn;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Xn||(Xn={}));function YX(t){const{options:e,className:n,components:r,classNames:s,...a}=t,i=[s[we.Dropdown],n].join(" "),l=e==null?void 0:e.find(({value:c})=>c===a.value);return D.createElement("span",{"data-disabled":a.disabled,className:s[we.DropdownRoot]},D.createElement(r.Select,{className:i,...a},e==null?void 0:e.map(({value:c,label:d,disabled:f})=>D.createElement(r.Option,{key:c,value:c,disabled:f},d))),D.createElement("span",{className:s[we.CaptionLabel],"aria-hidden":!0},l==null?void 0:l.label,D.createElement(r.Chevron,{orientation:"down",size:18,className:s[we.Chevron]})))}function GX(t){return D.createElement("div",{...t})}function qX(t){return D.createElement("div",{...t})}function KX(t){const{calendarMonth:e,displayIndex:n,...r}=t;return D.createElement("div",{...r},t.children)}function ZX(t){const{calendarMonth:e,displayIndex:n,...r}=t;return D.createElement("div",{...r})}function XX(t){return D.createElement("table",{...t})}function JX(t){return D.createElement("div",{...t})}const LM=h.createContext(void 0);function Zu(){const t=h.useContext(LM);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function QX(t){const{components:e}=Zu();return D.createElement(e.Dropdown,{...t})}function eJ(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...a}=t,{components:i,classNames:l,labels:{labelPrevious:c,labelNext:d}}=Zu(),f=h.useCallback(m=>{s&&(n==null||n(m))},[s,n]),u=h.useCallback(m=>{r&&(e==null||e(m))},[r,e]);return D.createElement("nav",{...a},D.createElement(i.PreviousMonthButton,{type:"button",className:l[we.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:u},D.createElement(i.Chevron,{disabled:r?void 0:!0,className:l[we.Chevron],orientation:"left"})),D.createElement(i.NextMonthButton,{type:"button",className:l[we.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:f},D.createElement(i.Chevron,{disabled:s?void 0:!0,orientation:"right",className:l[we.Chevron]})))}function tJ(t){const{components:e}=Zu();return D.createElement(e.Button,{...t})}function nJ(t){return D.createElement("option",{...t})}function rJ(t){const{components:e}=Zu();return D.createElement(e.Button,{...t})}function sJ(t){const{rootRef:e,...n}=t;return D.createElement("div",{...n,ref:e})}function aJ(t){return D.createElement("select",{...t})}function oJ(t){const{week:e,...n}=t;return D.createElement("tr",{...n})}function iJ(t){return D.createElement("th",{...t})}function lJ(t){return D.createElement("thead",{"aria-hidden":!0},D.createElement("tr",{...t}))}function cJ(t){const{week:e,...n}=t;return D.createElement("th",{...n})}function dJ(t){return D.createElement("th",{...t})}function uJ(t){return D.createElement("tbody",{...t})}function fJ(t){const{components:e}=Zu();return D.createElement(e.Dropdown,{...t})}const hJ=Object.freeze(Object.defineProperty({__proto__:null,Button:BX,CaptionLabel:WX,Chevron:zX,Day:VX,DayButton:HX,Dropdown:YX,DropdownNav:GX,Footer:qX,Month:KX,MonthCaption:ZX,MonthGrid:XX,Months:JX,MonthsDropdown:QX,Nav:eJ,NextMonthButton:tJ,Option:nJ,PreviousMonthButton:rJ,Root:sJ,Select:aJ,Week:oJ,WeekNumber:cJ,WeekNumberHeader:dJ,Weekday:iJ,Weekdays:lJ,Weeks:uJ,YearsDropdown:fJ},Symbol.toStringTag,{value:"Module"}));function ia(t,e,n=!1,r=Ys){let{from:s,to:a}=t;const{differenceInCalendarDays:i,isSameDay:l}=r;return s&&a?(i(a,s)<0&&([s,a]=[a,s]),i(e,s)>=(n?1:0)&&i(a,e)>=(n?1:0)):!n&&a?l(a,e):!n&&s?l(s,e):!1}function FM(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function x0(t){return!!(t&&typeof t=="object"&&"from"in t)}function UM(t){return!!(t&&typeof t=="object"&&"after"in t)}function BM(t){return!!(t&&typeof t=="object"&&"before"in t)}function WM(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function zM(t,e){return Array.isArray(t)&&t.every(e.isDate)}function la(t,e,n=Ys){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:a,isAfter:i}=n;return r.some(l=>{if(typeof l=="boolean")return l;if(n.isDate(l))return s(t,l);if(zM(l,n))return l.includes(t);if(x0(l))return ia(l,t,!1,n);if(WM(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(t.getDay()):l.dayOfWeek===t.getDay();if(FM(l)){const c=a(l.before,t),d=a(l.after,t),f=c>0,u=d<0;return i(l.before,l.after)?u&&f:f||u}return UM(l)?a(t,l.after)>0:BM(l)?a(l.before,t)>0:typeof l=="function"?l(t):!1})}function mJ(t,e,n,r,s){const{disabled:a,hidden:i,modifiers:l,showOutsideDays:c,broadcastCalendar:d,today:f}=e,{isSameDay:u,isSameMonth:m,startOfMonth:p,isBefore:g,endOfMonth:x,isAfter:y}=s,v=n&&p(n),w=r&&x(r),b={[kt.focused]:[],[kt.outside]:[],[kt.disabled]:[],[kt.hidden]:[],[kt.today]:[]},j={};for(const _ of t){const{date:N,displayMonth:S}=_,C=!!(S&&!m(N,S)),T=!!(v&&g(N,v)),k=!!(w&&y(N,w)),E=!!(a&&la(N,a,s)),O=!!(i&&la(N,i,s))||T||k||!d&&!c&&C||d&&c===!1&&C,P=u(N,f??s.today());C&&b.outside.push(_),E&&b.disabled.push(_),O&&b.hidden.push(_),P&&b.today.push(_),l&&Object.keys(l).forEach(M=>{const L=l==null?void 0:l[M];L&&la(N,L,s)&&(j[M]?j[M].push(_):j[M]=[_])})}return _=>{const N={[kt.focused]:!1,[kt.disabled]:!1,[kt.hidden]:!1,[kt.outside]:!1,[kt.today]:!1},S={};for(const C in b){const T=b[C];N[C]=T.some(k=>k===_)}for(const C in j)S[C]=j[C].some(T=>T===_);return{...N,...S}}}function pJ(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[a])=>(n[a]?s.push(n[a]):e[kt[a]]?s.push(e[kt[a]]):e[Br[a]]&&s.push(e[Br[a]]),s),[e[we.Day]])}function gJ(t){return{...hJ,...t}}function yJ(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function vJ(){const t={};for(const e in we)t[we[e]]=`rdp-${we[e]}`;for(const e in kt)t[kt[e]]=`rdp-${kt[e]}`;for(const e in Br)t[Br[e]]=`rdp-${Br[e]}`;for(const e in Xn)t[Xn[e]]=`rdp-${Xn[e]}`;return t}function VM(t,e,n){return(n??new Oa(e)).format(t,"LLLL y")}const xJ=VM;function wJ(t,e,n){return(n??new Oa(e)).format(t,"d")}function bJ(t,e=Ys){return e.format(t,"LLLL")}function jJ(t,e,n){return(n??new Oa(e)).format(t,"cccccc")}function SJ(t,e=Ys){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function _J(){return""}function HM(t,e=Ys){return e.format(t,"yyyy")}const NJ=HM,CJ=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:VM,formatDay:wJ,formatMonthCaption:xJ,formatMonthDropdown:bJ,formatWeekNumber:SJ,formatWeekNumberHeader:_J,formatWeekdayName:jJ,formatYearCaption:NJ,formatYearDropdown:HM},Symbol.toStringTag,{value:"Module"}));function kJ(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...CJ,...t}}function EJ(t,e,n,r,s){const{startOfMonth:a,startOfYear:i,endOfYear:l,eachMonthOfInterval:c,getMonth:d}=s;return c({start:i(t),end:l(t)}).map(m=>{const p=r.formatMonthDropdown(m,s),g=d(m),x=e&&m<a(e)||n&&m>a(n)||!1;return{value:g,label:p,disabled:x}})}function TJ(t,e={},n={}){let r={...e==null?void 0:e[we.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}function PJ(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),a=[];for(let i=0;i<7;i++){const l=t.addDays(s,i);a.push(l)}return a}function AJ(t,e,n,r,s=!1){if(!t||!e)return;const{startOfYear:a,endOfYear:i,addYears:l,getYear:c,isBefore:d,isSameYear:f}=r,u=a(t),m=i(e),p=[];let g=u;for(;d(g,m)||f(g,m);)p.push(g),g=l(g,1);return s&&p.reverse(),p.map(x=>{const y=n.formatYearDropdown(x,r);return{value:c(x),label:y,disabled:!1}})}function YM(t,e,n,r){let s=(r??new Oa(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const DJ=YM;function GM(t,e,n){return(n??new Oa(e)).format(t,"LLLL y")}const MJ=GM;function OJ(t,e,n,r){let s=(r??new Oa(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function RJ(t){return"Choose the Month"}function IJ(){return""}function $J(t){return"Go to the Next Month"}function LJ(t){return"Go to the Previous Month"}function FJ(t,e,n){return(n??new Oa(e)).format(t,"cccc")}function UJ(t,e){return`Week ${t}`}function BJ(t){return"Week Number"}function WJ(t){return"Choose the Year"}const zJ=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:MJ,labelDay:DJ,labelDayButton:YM,labelGrid:GM,labelGridcell:OJ,labelMonthDropdown:RJ,labelNav:IJ,labelNext:$J,labelPrevious:LJ,labelWeekNumber:UJ,labelWeekNumberHeader:BJ,labelWeekday:FJ,labelYearDropdown:WJ},Symbol.toStringTag,{value:"Module"})),Xu=t=>t instanceof HTMLElement?t:null,my=t=>[...t.querySelectorAll("[data-animated-month]")??[]],VJ=t=>Xu(t.querySelector("[data-animated-month]")),py=t=>Xu(t.querySelector("[data-animated-caption]")),gy=t=>Xu(t.querySelector("[data-animated-weeks]")),HJ=t=>Xu(t.querySelector("[data-animated-nav]")),YJ=t=>Xu(t.querySelector("[data-animated-weekdays]"));function GJ(t,e,{classNames:n,months:r,focused:s,dateLib:a}){const i=h.useRef(null),l=h.useRef(r),c=h.useRef(!1);h.useLayoutEffect(()=>{const d=l.current;if(l.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const f=a.isSameMonth(r[0].date,d[0].date),u=a.isAfter(r[0].date,d[0].date),m=u?n[Xn.caption_after_enter]:n[Xn.caption_before_enter],p=u?n[Xn.weeks_after_enter]:n[Xn.weeks_before_enter],g=i.current,x=t.current.cloneNode(!0);if(x instanceof HTMLElement?(my(x).forEach(b=>{if(!(b instanceof HTMLElement))return;const j=VJ(b);j&&b.contains(j)&&b.removeChild(j);const _=py(b);_&&_.classList.remove(m);const N=gy(b);N&&N.classList.remove(p)}),i.current=x):i.current=null,c.current||f||s)return;const y=g instanceof HTMLElement?my(g):[],v=my(t.current);if(v!=null&&v.every(w=>w instanceof HTMLElement)&&y&&y.every(w=>w instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const w=HJ(t.current);w&&(w.style.zIndex="1"),v.forEach((b,j)=>{const _=y[j];if(!_)return;b.style.position="relative",b.style.overflow="hidden";const N=py(b);N&&N.classList.add(m);const S=gy(b);S&&S.classList.add(p);const C=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),w&&(w.style.zIndex=""),N&&N.classList.remove(m),S&&S.classList.remove(p),b.style.position="",b.style.overflow="",b.contains(_)&&b.removeChild(_)};_.style.pointerEvents="none",_.style.position="absolute",_.style.overflow="hidden",_.setAttribute("aria-hidden","true");const T=YJ(_);T&&(T.style.opacity="0");const k=py(_);k&&(k.classList.add(u?n[Xn.caption_before_exit]:n[Xn.caption_after_exit]),k.addEventListener("animationend",C));const E=gy(_);E&&E.classList.add(u?n[Xn.weeks_before_exit]:n[Xn.weeks_after_exit]),b.insertBefore(_,b.firstChild)})}})}function qJ(t,e,n,r){const s=t[0],a=t[t.length-1],{ISOWeek:i,fixedWeeks:l,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:f,differenceInCalendarMonths:u,endOfBroadcastWeek:m,endOfISOWeek:p,endOfMonth:g,endOfWeek:x,isAfter:y,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:b}=r,j=c?v(s,r):i?w(s):b(s),_=c?m(a):i?p(g(a)):x(g(a)),N=f(_,j),S=u(a,s)+1,C=[];for(let E=0;E<=N;E++){const O=d(j,E);if(e&&y(O,e))break;C.push(O)}const k=(c?35:42)*S;if(l&&C.length<k){const E=k-C.length;for(let O=0;O<E;O++){const P=d(C[C.length-1],1);C.push(P)}}return C}function KJ(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((a,i)=>a.concat(i.days.slice()),e.slice());return n.concat(s.slice())},e.slice())}function ZJ(t,e,n,r){const{numberOfMonths:s=1}=n,a=[];for(let i=0;i<s;i++){const l=r.addMonths(t,i);if(e&&l>e)break;a.push(l)}return a}function a1(t,e,n,r){const{month:s,defaultMonth:a,today:i=r.today(),numberOfMonths:l=1}=t;let c=s||a||i;const{differenceInCalendarMonths:d,addMonths:f,startOfMonth:u}=r;if(n&&d(n,c)<l-1){const m=-1*(l-1);c=f(n,m)}return e&&d(c,e)<0&&(c=e),u(c)}function XJ(t,e,n,r){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:i,endOfMonth:l,endOfWeek:c,getISOWeek:d,getWeek:f,startOfBroadcastWeek:u,startOfISOWeek:m,startOfWeek:p}=r,g=t.reduce((x,y)=>{const v=n.broadcastCalendar?u(y,r):n.ISOWeek?m(y):p(y),w=n.broadcastCalendar?a(y):n.ISOWeek?i(l(y)):c(l(y)),b=e.filter(S=>S>=v&&S<=w),j=n.broadcastCalendar?35:42;if(n.fixedWeeks&&b.length<j){const S=e.filter(C=>{const T=j-b.length;return C>w&&C<=s(w,T)});b.push(...S)}const _=b.reduce((S,C)=>{const T=n.ISOWeek?d(C):f(C),k=S.find(O=>O.weekNumber===T),E=new $M(C,y,r);return k?k.days.push(E):S.push(new UX(T,[E])),S},[]),N=new FX(y,_);return x.push(N),x},[]);return n.reverseMonths?g.reverse():g}function JJ(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:a,startOfMonth:i,endOfMonth:l,addYears:c,endOfYear:d,newDate:f,today:u}=e,{fromYear:m,toYear:p,fromMonth:g,toMonth:x}=t;!n&&g&&(n=g),!n&&m&&(n=e.newDate(m,0,1)),!r&&x&&(r=x),!r&&p&&(r=f(p,11,31));const y=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=i(n):m?n=f(m,0,1):!n&&y&&(n=s(c(t.today??u(),-100))),r?r=l(r):p?r=f(p,11,31):!r&&y&&(r=d(t.today??u())),[n&&a(n),r&&a(r)]}function QJ(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=n,{startOfMonth:i,addMonths:l,differenceInCalendarMonths:c}=r,d=s?a:1,f=i(t);if(!e)return l(f,d);if(!(c(e,t)<a))return l(f,d)}function eQ(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=n,{startOfMonth:i,addMonths:l,differenceInCalendarMonths:c}=r,d=s?a??1:1,f=i(t);if(!e)return l(f,-d);if(!(c(f,e)<=0))return l(f,-d)}function tQ(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function Pp(t,e){const[n,r]=h.useState(t);return[e===void 0?n:e,r]}function nQ(t,e){const[n,r]=JJ(t,e),{startOfMonth:s,endOfMonth:a}=e,i=a1(t,n,r,e),[l,c]=Pp(i,t.month?i:void 0);h.useEffect(()=>{const N=a1(t,n,r,e);c(N)},[t.timeZone]);const d=ZJ(l,r,t,e),f=qJ(d,t.endMonth?a(t.endMonth):void 0,t,e),u=XJ(d,f,t,e),m=tQ(u),p=KJ(u),g=eQ(l,n,t,e),x=QJ(l,r,t,e),{disableNavigation:y,onMonthChange:v}=t,w=N=>m.some(S=>S.days.some(C=>C.isEqualTo(N))),b=N=>{if(y)return;let S=s(N);n&&S<s(n)&&(S=s(n)),r&&S>s(r)&&(S=s(r)),c(S),v==null||v(S)};return{months:u,weeks:m,days:p,navStart:n,navEnd:r,previousMonth:g,nextMonth:x,goToMonth:b,goToDay:N=>{w(N)||b(N.date)}}}var cs;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(cs||(cs={}));function o1(t){return!t[kt.disabled]&&!t[kt.hidden]&&!t[kt.outside]}function rQ(t,e,n,r){let s,a=-1;for(const i of t){const l=e(i);o1(l)&&(l[kt.focused]&&a<cs.FocusedModifier?(s=i,a=cs.FocusedModifier):r!=null&&r.isEqualTo(i)&&a<cs.LastFocused?(s=i,a=cs.LastFocused):n(i.date)&&a<cs.Selected?(s=i,a=cs.Selected):l[kt.today]&&a<cs.Today&&(s=i,a=cs.Today))}return s||(s=t.find(i=>o1(e(i)))),s}function sQ(t,e,n,r,s,a,i){const{ISOWeek:l,broadcastCalendar:c}=a,{addDays:d,addMonths:f,addWeeks:u,addYears:m,endOfBroadcastWeek:p,endOfISOWeek:g,endOfWeek:x,max:y,min:v,startOfBroadcastWeek:w,startOfISOWeek:b,startOfWeek:j}=i;let N={day:d,week:u,month:f,year:m,startOfWeek:S=>c?w(S,i):l?b(S):j(S),endOfWeek:S=>c?p(S):l?g(S):x(S)}[t](n,e==="after"?1:-1);return e==="before"&&r?N=y([r,N]):e==="after"&&s&&(N=v([s,N])),N}function qM(t,e,n,r,s,a,i,l=0){if(l>365)return;const c=sQ(t,e,n.date,r,s,a,i),d=!!(a.disabled&&la(c,a.disabled,i)),f=!!(a.hidden&&la(c,a.hidden,i)),u=c,m=new $M(c,u,i);return!d&&!f?m:qM(t,e,m,r,s,a,i,l+1)}function aQ(t,e,n,r,s){const{autoFocus:a}=t,[i,l]=h.useState(),c=rQ(e.days,n,r||(()=>!1),i),[d,f]=h.useState(a?c:void 0);return{isFocusTarget:x=>!!(c!=null&&c.isEqualTo(x)),setFocused:f,focused:d,blur:()=>{l(d),f(void 0)},moveFocus:(x,y)=>{if(!d)return;const v=qM(x,y,d,e.navStart,e.navEnd,t,s);v&&(e.goToDay(v),f(v))}}}function oQ(t,e){const{selected:n,required:r,onSelect:s}=t,[a,i]=Pp(n,s?n:void 0),l=s?n:a,{isSameDay:c}=e,d=p=>(l==null?void 0:l.some(g=>c(g,p)))??!1,{min:f,max:u}=t;return{selected:l,select:(p,g,x)=>{let y=[...l??[]];if(d(p)){if((l==null?void 0:l.length)===f||r&&(l==null?void 0:l.length)===1)return;y=l==null?void 0:l.filter(v=>!c(v,p))}else(l==null?void 0:l.length)===u?y=[p]:y=[...y,p];return s||i(y),s==null||s(y,p,g,x),y},isSelected:d}}function iQ(t,e,n=0,r=0,s=!1,a=Ys){const{from:i,to:l}=e||{},{isSameDay:c,isAfter:d,isBefore:f}=a;let u;if(!i&&!l)u={from:t,to:n>0?void 0:t};else if(i&&!l)c(i,t)?n===0?u={from:i,to:t}:s?u={from:i,to:void 0}:u=void 0:f(t,i)?u={from:t,to:i}:u={from:i,to:t};else if(i&&l)if(c(i,t)&&c(l,t))s?u={from:i,to:l}:u=void 0;else if(c(i,t))u={from:i,to:n>0?void 0:t};else if(c(l,t))u={from:t,to:n>0?void 0:t};else if(f(t,i))u={from:t,to:l};else if(d(t,i))u={from:i,to:t};else if(d(t,l))u={from:i,to:t};else throw new Error("Invalid range");if(u!=null&&u.from&&(u!=null&&u.to)){const m=a.differenceInCalendarDays(u.to,u.from);r>0&&m>r?u={from:t,to:void 0}:n>1&&m<n&&(u={from:t,to:void 0})}return u}function lQ(t,e,n=Ys){const r=Array.isArray(e)?e:[e];let s=t.from;const a=n.differenceInCalendarDays(t.to,t.from),i=Math.min(a,6);for(let l=0;l<=i;l++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function i1(t,e,n=Ys){return ia(t,e.from,!1,n)||ia(t,e.to,!1,n)||ia(e,t.from,!1,n)||ia(e,t.to,!1,n)}function cQ(t,e,n=Ys){const r=Array.isArray(e)?e:[e];if(r.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:n.isDate(l)?ia(t,l,!1,n):zM(l,n)?l.some(c=>ia(t,c,!1,n)):x0(l)?l.from&&l.to?i1(t,{from:l.from,to:l.to},n):!1:WM(l)?lQ(t,l.dayOfWeek,n):FM(l)?n.isAfter(l.before,l.after)?i1(t,{from:n.addDays(l.after,1),to:n.addDays(l.before,-1)},n):la(t.from,l,n)||la(t.to,l,n):UM(l)||BM(l)?la(t.from,l,n)||la(t.to,l,n):!1))return!0;const i=r.filter(l=>typeof l=="function");if(i.length){let l=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let d=0;d<=c;d++){if(i.some(f=>f(l)))return!0;l=n.addDays(l,1)}}return!1}function dQ(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:a,onSelect:i}=t,[l,c]=Pp(s,i?s:void 0),d=i?s:l;return{selected:d,select:(m,p,g)=>{const{min:x,max:y}=t,v=m?iQ(m,d,x,y,a,e):void 0;return r&&n&&(v!=null&&v.from)&&v.to&&cQ({from:v.from,to:v.to},n,e)&&(v.from=m,v.to=void 0),i||c(v),i==null||i(v,m,p,g),v},isSelected:m=>d&&ia(d,m,!1,e)}}function uQ(t,e){const{selected:n,required:r,onSelect:s}=t,[a,i]=Pp(n,s?n:void 0),l=s?n:a,{isSameDay:c}=e;return{selected:l,select:(u,m,p)=>{let g=u;return!r&&l&&l&&c(u,l)&&(g=void 0),s||i(g),s==null||s(g,u,m,p),g},isSelected:u=>l?c(l,u):!1}}function fQ(t,e){const n=uQ(t,e),r=oQ(t,e),s=dQ(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function hQ(t){var rf;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new un(e.today,e.timeZone)),e.month&&(e.month=new un(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new un(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new un(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new un(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new un(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(rf=e.selected)==null?void 0:rf.map(q=>new un(q,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new un(e.selected.from,e.timeZone):void 0,to:e.selected.to?new un(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:a,locale:i,classNames:l}=h.useMemo(()=>{const q={...v0,...e.locale};return{dateLib:new Oa({locale:q,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:gJ(e.components),formatters:kJ(e.formatters),labels:{...zJ,...e.labels},locale:q,classNames:{...vJ(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:d,navLayout:f,numberOfMonths:u=1,onDayBlur:m,onDayClick:p,onDayFocus:g,onDayKeyDown:x,onDayMouseEnter:y,onDayMouseLeave:v,onNextClick:w,onPrevClick:b,showWeekNumber:j,styles:_}=e,{formatCaption:N,formatDay:S,formatMonthDropdown:C,formatWeekNumber:T,formatWeekNumberHeader:k,formatWeekdayName:E,formatYearDropdown:O}=r,P=nQ(e,a),{days:M,months:L,navStart:F,navEnd:z,previousMonth:R,nextMonth:$,goToMonth:V}=P,Q=mJ(M,e,F,z,a),{isSelected:be,select:Ge,selected:He}=fQ(e,a)??{},{blur:pt,focused:qe,isFocusTarget:re,moveFocus:Ae,setFocused:Ie}=aQ(e,P,Q,be??(()=>!1),a),{labelDayButton:Le,labelGridcell:Me,labelGrid:ze,labelMonthDropdown:tt,labelNav:fe,labelPrevious:vn,labelNext:xn,labelWeekday:ln,labelWeekNumber:A,labelWeekNumberHeader:I,labelYearDropdown:B}=s,ee=h.useMemo(()=>PJ(a,e.ISOWeek),[a,e.ISOWeek]),X=d!==void 0||p!==void 0,Y=h.useCallback(()=>{R&&(V(R),b==null||b(R))},[R,V,b]),ve=h.useCallback(()=>{$&&(V($),w==null||w($))},[V,$,w]),Fe=h.useCallback((q,je)=>le=>{le.preventDefault(),le.stopPropagation(),Ie(q),Ge==null||Ge(q.date,je,le),p==null||p(q.date,je,le)},[Ge,p,Ie]),At=h.useCallback((q,je)=>le=>{Ie(q),g==null||g(q.date,je,le)},[g,Ie]),Dt=h.useCallback((q,je)=>le=>{pt(),m==null||m(q.date,je,le)},[pt,m]),wn=h.useCallback((q,je)=>le=>{const xe={ArrowLeft:[le.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[le.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[le.shiftKey?"year":"week","after"],ArrowUp:[le.shiftKey?"year":"week","before"],PageUp:[le.shiftKey?"year":"month","before"],PageDown:[le.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(xe[le.key]){le.preventDefault(),le.stopPropagation();const[Qe,Oe]=xe[le.key];Ae(Qe,Oe)}x==null||x(q.date,je,le)},[Ae,x,e.dir]),Dc=h.useCallback((q,je)=>le=>{y==null||y(q.date,je,le)},[y]),Ra=h.useCallback((q,je)=>le=>{v==null||v(q.date,je,le)},[v]),Bo=h.useCallback(q=>je=>{const le=Number(je.target.value),xe=a.setMonth(a.startOfMonth(q),le);V(xe)},[a,V]),qs=h.useCallback(q=>je=>{const le=Number(je.target.value),xe=a.setYear(a.startOfMonth(q),le);V(xe)},[a,V]),{className:Wo,style:Mc}=h.useMemo(()=>({className:[l[we.Root],e.className].filter(Boolean).join(" "),style:{..._==null?void 0:_[we.Root],...e.style}}),[l,e.className,e.style,_]),Hi=yJ(e),nf=h.useRef(null);GJ(nf,!!e.animate,{classNames:l,months:L,focused:qe,dateLib:a});const Kp={dayPickerProps:e,selected:He,select:Ge,isSelected:be,months:L,nextMonth:$,previousMonth:R,goToMonth:V,getModifiers:Q,components:n,classNames:l,styles:_,labels:s,formatters:r};return D.createElement(LM.Provider,{value:Kp},D.createElement(n.Root,{rootRef:e.animate?nf:void 0,className:Wo,style:Mc,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Hi},D.createElement(n.Months,{className:l[we.Months],style:_==null?void 0:_[we.Months]},!e.hideNavigation&&!f&&D.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[we.Nav],style:_==null?void 0:_[we.Nav],"aria-label":fe(),onPreviousClick:Y,onNextClick:ve,previousMonth:R,nextMonth:$}),L.map((q,je)=>D.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:l[we.Month],style:_==null?void 0:_[we.Month],key:je,displayIndex:je,calendarMonth:q},f==="around"&&!e.hideNavigation&&je===0&&D.createElement(n.PreviousMonthButton,{type:"button",className:l[we.PreviousMonthButton],tabIndex:R?void 0:-1,"aria-disabled":R?void 0:!0,"aria-label":vn(R),onClick:Y,"data-animated-button":e.animate?"true":void 0},D.createElement(n.Chevron,{disabled:R?void 0:!0,className:l[we.Chevron],orientation:e.dir==="rtl"?"right":"left"})),D.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:l[we.MonthCaption],style:_==null?void 0:_[we.MonthCaption],calendarMonth:q,displayIndex:je},c!=null&&c.startsWith("dropdown")?D.createElement(n.DropdownNav,{className:l[we.Dropdowns],style:_==null?void 0:_[we.Dropdowns]},c==="dropdown"||c==="dropdown-months"?D.createElement(n.MonthsDropdown,{className:l[we.MonthsDropdown],"aria-label":tt(),classNames:l,components:n,disabled:!!e.disableNavigation,onChange:Bo(q.date),options:EJ(q.date,F,z,r,a),style:_==null?void 0:_[we.Dropdown],value:a.getMonth(q.date)}):D.createElement("span",null,C(q.date,a)),c==="dropdown"||c==="dropdown-years"?D.createElement(n.YearsDropdown,{className:l[we.YearsDropdown],"aria-label":B(a.options),classNames:l,components:n,disabled:!!e.disableNavigation,onChange:qs(q.date),options:AJ(F,z,r,a,!!e.reverseYears),style:_==null?void 0:_[we.Dropdown],value:a.getYear(q.date)}):D.createElement("span",null,O(q.date,a)),D.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(q.date,a.options,a))):D.createElement(n.CaptionLabel,{className:l[we.CaptionLabel],role:"status","aria-live":"polite"},N(q.date,a.options,a))),f==="around"&&!e.hideNavigation&&je===u-1&&D.createElement(n.NextMonthButton,{type:"button",className:l[we.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":xn($),onClick:ve,"data-animated-button":e.animate?"true":void 0},D.createElement(n.Chevron,{disabled:$?void 0:!0,className:l[we.Chevron],orientation:e.dir==="rtl"?"left":"right"})),je===u-1&&f==="after"&&!e.hideNavigation&&D.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:l[we.Nav],style:_==null?void 0:_[we.Nav],"aria-label":fe(),onPreviousClick:Y,onNextClick:ve,previousMonth:R,nextMonth:$}),D.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":ze(q.date,a.options,a)||void 0,className:l[we.MonthGrid],style:_==null?void 0:_[we.MonthGrid]},!e.hideWeekdays&&D.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:l[we.Weekdays],style:_==null?void 0:_[we.Weekdays]},j&&D.createElement(n.WeekNumberHeader,{"aria-label":I(a.options),className:l[we.WeekNumberHeader],style:_==null?void 0:_[we.WeekNumberHeader],scope:"col"},k()),ee.map(le=>D.createElement(n.Weekday,{"aria-label":ln(le,a.options,a),className:l[we.Weekday],key:String(le),style:_==null?void 0:_[we.Weekday],scope:"col"},E(le,a.options,a)))),D.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:l[we.Weeks],style:_==null?void 0:_[we.Weeks]},q.weeks.map(le=>D.createElement(n.Week,{className:l[we.Week],key:le.weekNumber,style:_==null?void 0:_[we.Week],week:le},j&&D.createElement(n.WeekNumber,{week:le,style:_==null?void 0:_[we.WeekNumber],"aria-label":A(le.weekNumber,{locale:i}),className:l[we.WeekNumber],scope:"row",role:"rowheader"},T(le.weekNumber,a)),le.days.map(xe=>{const{date:Qe}=xe,Oe=Q(xe);if(Oe[kt.focused]=!Oe.hidden&&!!(qe!=null&&qe.isEqualTo(xe)),Oe[Br.selected]=(be==null?void 0:be(Qe))||Oe.selected,x0(He)){const{from:Dr,to:mr}=He;Oe[Br.range_start]=!!(Dr&&mr&&a.isSameDay(Qe,Dr)),Oe[Br.range_end]=!!(Dr&&mr&&a.isSameDay(Qe,mr)),Oe[Br.range_middle]=ia(He,Qe,!0,a)}const tn=TJ(Oe,_,e.modifiersStyles),ss=pJ(Oe,l,e.modifiersClassNames),qn=!X&&!Oe.hidden?Me(Qe,Oe,a.options,a):void 0;return D.createElement(n.Day,{key:`${a.format(Qe,"yyyy-MM-dd")}_${a.format(xe.displayMonth,"yyyy-MM")}`,day:xe,modifiers:Oe,className:ss.join(" "),style:tn,role:"gridcell","aria-selected":Oe.selected||void 0,"aria-label":qn,"data-day":a.format(Qe,"yyyy-MM-dd"),"data-month":xe.outside?a.format(Qe,"yyyy-MM"):void 0,"data-selected":Oe.selected||void 0,"data-disabled":Oe.disabled||void 0,"data-hidden":Oe.hidden||void 0,"data-outside":xe.outside||void 0,"data-focused":Oe.focused||void 0,"data-today":Oe.today||void 0},!Oe.hidden&&X?D.createElement(n.DayButton,{className:l[we.DayButton],style:_==null?void 0:_[we.DayButton],type:"button",day:xe,modifiers:Oe,disabled:Oe.disabled||void 0,tabIndex:re(xe)?0:-1,"aria-label":Le(Qe,Oe,a.options,a),onClick:Fe(xe,Oe),onBlur:Dt(xe,Oe),onFocus:At(xe,Oe),onKeyDown:wn(xe,Oe),onMouseEnter:Dc(xe,Oe),onMouseLeave:Ra(xe,Oe)},S(Qe,a.options,a)):!Oe.hidden&&S(xe.date,a.options,a))})))))))),e.footer&&D.createElement(n.Footer,{className:l[we.Footer],style:_==null?void 0:_[we.Footer],role:"status","aria-live":"polite"},e.footer)))}function Ap({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(hQ,{showOutsideDays:n,className:U("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:U("text-sm font-medium",r.captionLayout==="dropdown-buttons"&&"hidden"),caption_dropdowns:"flex justify-center gap-2",nav:"space-x-1 flex items-center",nav_button:U(Zd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:U(Zd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...a})=>o.jsx(kk,{className:U("h-4 w-4",s),...a}),IconRight:({className:s,...a})=>o.jsx(Gw,{className:U("h-4 w-4",s),...a})},...r})}Ap.displayName="Calendar";const mQ=["All",...no],pQ=t=>yn({title_en:Ke().min(5,{message:t.title_en_message}),start:Ru({required_error:t.start_required_error}),description_en:Ke().optional(),relevantTo:Si(Ke()).refine(e=>e.some(n=>n),{message:t.relevantTo_message}),isUrgent:ho().default(!1),showOnHomepage:ho().default(!1),attachment:Ri().optional(),crossPostToNews:ho().default(!1)}),gQ={en:{formSchema:{title_en_message:"Title must be at least 5 characters.",start_required_error:"An event date is required.",relevantTo_message:"You have to select at least one year group."},titleLabel:"Event Title",titlePlaceholder:"e.g., School Sports Day",dateLabel:"Date of Event",datePlaceholder:"Pick a date",descriptionLabel:"Description (Optional)",descriptionPlaceholder:"Provide more details about the event...",relevantToLabel:"Relevant To",relevantToDesc:"Select which year groups this event applies to.",urgentLabel:"Urgent Alert",urgentDesc:"Mark this as an urgent announcement.",homepageLabel:"Show on Homepage",homepageDesc:"Display this event on the public homepage.",crossPostLabel:"Cross-post to News",crossPostDesc:"Automatically create a news item for this event. The event title and description will be used as the news content.",attachmentLabel:"Attachment (Optional)",attachmentDesc:"Upload a PDF or image if needed (e.g., a permission slip).",uploadComplete:"Upload complete!",toastSuccessUpdate:{title:"Success!",description:"Calendar event has been updated."},toastSuccessAdd:{title:"Success!",description:"New calendar event has been created."},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitButtonUpdate:"Update Event",submitButtonCreate:"Create Event"},cy:{formSchema:{title_en_message:"Rhaid i'r teitl fod o leiaf 5 nod.",start_required_error:"Mae angen dyddiad digwyddiad.",relevantTo_message:"Rhaid i chi ddewis o leiaf un grp blwyddyn."},titleLabel:"Teitl y Digwyddiad",titlePlaceholder:"e.e., Diwrnod Chwaraeon Ysgol",dateLabel:"Dyddiad y Digwyddiad",datePlaceholder:"Dewiswch ddyddiad",descriptionLabel:"Disgrifiad (Dewisol)",descriptionPlaceholder:"Rhowch fwy o fanylion am y digwyddiad...",relevantToLabel:"Perthnasol i",relevantToDesc:"Dewiswch pa grwpiau blwyddyn y mae'r digwyddiad hwn yn berthnasol iddynt.",urgentLabel:"Hysbysiad Brys",urgentDesc:"Nodwch hwn fel cyhoeddiad brys.",homepageLabel:"Dangos ar y Tudalen Cartref",homepageDesc:"Dangoswch y digwyddiad hwn ar y dudalen gartref gyhoeddus.",crossPostLabel:"Traws-bostio i Newyddion",crossPostDesc:"Creu eitem newyddion yn awtomatig ar gyfer y digwyddiad hwn. Bydd teitl a disgrifiad y digwyddiad yn cael eu defnyddio fel cynnwys y newyddion.",attachmentLabel:"Atodiad (Dewisol)",attachmentDesc:"Uwchlwythwch PDF neu ddelwedd os oes angen (e.e., slip caniatd).",uploadComplete:"Wedi'i uwchlwytho'n llwyddiannus!",toastSuccessUpdate:{title:"Llwyddiant!",description:"Mae digwyddiad y calendr wedi'i ddiweddaru."},toastSuccessAdd:{title:"Llwyddiant!",description:"Mae digwyddiad calendr newydd wedi'i greu."},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Rhowch gynnig arall arni."},submitButtonUpdate:"Diweddaru Digwyddiad",submitButtonCreate:"Creu Digwyddiad"}};function yQ({onSuccess:t,existingEvent:e}){const{language:n}=Ce(),r=gQ[n],{toast:s}=dt(),[a,i]=h.useState(!1),[l,c]=h.useState(null),d=Tn({resolver:Pn(pQ(r.formSchema)),defaultValues:{title_en:(e==null?void 0:e.title_en)||"",start:e?new Date(e.start):new Date,description_en:(e==null?void 0:e.description_en)||"",relevantTo:(e==null?void 0:e.relevantTo)||["All"],isUrgent:(e==null?void 0:e.isUrgent)||!1,showOnHomepage:(e==null?void 0:e.showOnHomepage)||!1,attachment:void 0,crossPostToNews:!!(e!=null&&e.linkedNewsPostId)}}),f=async u=>{i(!0);try{let m=(e==null?void 0:e.attachmentUrl)||"",p=(e==null?void 0:e.attachmentName)||"";const g=u.attachment instanceof File?u.attachment:null;g&&(c(0),m=await zu(g,"calendar-attachments",y=>{c(y)}),p=g.name,c(100));const x={title_en:u.title_en,title_cy:u.title_en,description_en:u.description_en,description_cy:u.description_en,start:u.start.toISOString(),allDay:!0,isUrgent:u.isUrgent,showOnHomepage:u.showOnHomepage,relevantTo:u.relevantTo,attachmentUrl:m,attachmentName:p,tags:[],published:!0,linkedNewsPostId:e==null?void 0:e.linkedNewsPostId};e?(await J.updateCalendarEvent(e.id,x,u.crossPostToNews),s(r.toastSuccessUpdate)):(await J.addCalendarEvent(x,u.crossPostToNews),s(r.toastSuccessAdd)),d.reset(),t()}catch(m){console.error("Error submitting form:",m),s(r.toastError)}finally{i(!1),c(null)}};return o.jsx(An,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[o.jsx(he,{control:d.control,name:"title_en",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.titleLabel}),o.jsx(ye,{children:o.jsx(De,{placeholder:r.titlePlaceholder,...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"start",render:({field:u})=>o.jsxs(me,{className:"flex flex-col",children:[o.jsx(de,{children:r.dateLabel}),o.jsxs(bM,{children:[o.jsx(jM,{asChild:!0,children:o.jsx(ye,{children:o.jsxs(W,{variant:"outline",className:U("w-[240px] pl-3 text-left font-normal",!u.value&&"text-muted-foreground"),children:[u.value?mt(u.value,"PPP"):o.jsx("span",{children:r.datePlaceholder}),o.jsx(zn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(y0,{className:"w-auto p-0",align:"start",children:o.jsx(Ap,{mode:"single",selected:u.value,onSelect:u.onChange,initialFocus:!0})})]}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"description_en",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.descriptionLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:r.descriptionPlaceholder,className:"min-h-[100px]",...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"relevantTo",render:({field:u})=>o.jsxs(me,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(de,{className:"text-base",children:r.relevantToLabel}),o.jsx(It,{children:r.relevantToDesc})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:mQ.map(m=>o.jsx(he,{control:d.control,name:"relevantTo",render:({field:p})=>{var g;return o.jsxs(me,{className:"flex flex-row items-start space-x-3 space-y-0",children:[o.jsx(ye,{children:o.jsx($o,{checked:(g=p.value)==null?void 0:g.includes(m),onCheckedChange:x=>{const y=p.value?[...p.value]:[];if(x){if(m==="All")return p.onChange(["All"]);y.push(m);const v=y.indexOf("All");return v>-1&&y.splice(v,1),p.onChange(y)}else return p.onChange(y==null?void 0:y.filter(v=>v!==m))}})}),o.jsx(de,{className:"font-normal",children:m})]},m)}},m))}),o.jsx(Ee,{})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(de,{children:r.urgentLabel}),o.jsx(It,{children:r.urgentDesc})]}),o.jsx(he,{control:d.control,name:"isUrgent",render:({field:u})=>o.jsx(me,{children:o.jsx(ye,{children:o.jsx(rn,{checked:u.value,onCheckedChange:u.onChange})})})})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(de,{children:r.homepageLabel}),o.jsx(It,{children:r.homepageDesc})]}),o.jsx(he,{control:d.control,name:"showOnHomepage",render:({field:u})=>o.jsx(me,{children:o.jsx(ye,{children:o.jsx(rn,{checked:u.value,onCheckedChange:u.onChange})})})})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(de,{children:r.crossPostLabel}),o.jsx(It,{children:r.crossPostDesc})]}),o.jsx(he,{control:d.control,name:"crossPostToNews",render:({field:u})=>o.jsx(me,{children:o.jsx(ye,{children:o.jsx(rn,{checked:u.value,onCheckedChange:u.onChange})})})})]}),d.watch("crossPostToNews")&&o.jsx("div",{className:"ml-6 text-sm text-gray-600",children:o.jsx("p",{children:r.crossPostDesc})})]}),o.jsx(he,{control:d.control,name:"attachment",render:({field:{onChange:u,...m}})=>o.jsxs(me,{children:[o.jsx(de,{children:r.attachmentLabel}),o.jsx(ye,{children:o.jsx("div",{className:"relative",children:o.jsx(De,{type:"file",accept:"application/pdf,image/*",onChange:p=>{var g;return u((g=p.target.files)==null?void 0:g[0])},...m})})}),o.jsx(It,{children:r.attachmentDesc}),l!==null&&l<100&&o.jsx(Cc,{value:l,className:"w-full mt-2"}),l===100&&o.jsxs("div",{className:"flex items-center text-sm text-green-600 mt-2",children:[o.jsx(uc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:r.uploadComplete})]}),o.jsx(Ee,{})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:a,children:[a&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e?r.submitButtonUpdate:r.submitButtonCreate]})})]})})}function vQ(){const[t,e]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),[f,u]=h.useState(null),[m,p]=h.useState(""),[g,x]=h.useState("desc"),{toast:y}=dt(),{language:v}=Ce(),{autoStartForNewUsers:w,isTutorialCompleted:b}=Ar(),j=async(E=!1)=>{r(!0);try{const{data:O}=await J.getPaginatedCalendarEvents(100);e(O)}catch(O){console.error("Error fetching events:",O),y({title:"Error",description:"Failed to fetch events. Please try again.",variant:"destructive"})}finally{r(!1)}};h.useEffect(()=>{j(!0)},[]);const _=[{id:"calendar-basics",title:v==="en"?"Calendar Management Basics":"Sylfaeni Rheoli Calendr",description:v==="en"?"Learn how to create, edit, and manage school events in the calendar system.":"Dysgwch sut i greu, golygu, a rheoli digwyddiadau ysgol yn y system calendr.",steps:[{id:"overview",target:'[data-tutorial="calendar-overview"]',title:v==="en"?"Calendar Overview":"Trosolwg Calendr",content:v==="en"?"This is your calendar management page where you can view all school events, create new ones, and manage existing events.":"Dyma eich tudalen rheoli calendr lle gallwch weld holl ddigwyddiadau'r ysgol, creu rhai newydd, a rheoli digwyddiadau presennol.",position:"bottom",tip:v==="en"?"Events created here will automatically appear on the public school website.":"Bydd digwyddiadau a grir yma yn ymddangos yn awtomatig ar wefan gyhoeddus yr ysgol."},{id:"add-event",target:'[data-tutorial="add-event-button"]',title:v==="en"?"Adding New Events":"Ychwanegu Digwyddiadau Newydd",content:v==="en"?"Click this button to create a new calendar event. You can add details like title, date, description, and even attach files.":"Cliciwch y botwm hwn i greu digwyddiad calendr newydd. Gallwch ychwanegu manylion fel teitl, dyddiad, disgrifiad, a hyd yn oed atodi ffeiliau.",position:"left",action:"click"},{id:"search-events",target:'[data-tutorial="search-input"]',title:v==="en"?"Searching Events":"Chwilio Digwyddiadau",content:v==="en"?"Use this search box to quickly find specific events by typing part of the event title.":"Defnyddiwch y blwch chwilio hwn i ddod o hyd i ddigwyddiadau penodol yn gyflym drwy deipio rhan o deitl y digwyddiad.",position:"bottom"},{id:"sort-events",target:'[data-tutorial="sort-button"]',title:v==="en"?"Sorting Events":"Trefnu Digwyddiadau",content:v==="en"?"Click this button to toggle between ascending and descending date order for your events.":"Cliciwch y botwm hwn i newid rhwng trefn dyddiad esgynnol a disgynnol ar gyfer eich digwyddiadau.",position:"left"},{id:"event-actions",target:'[data-tutorial="event-actions"]',title:v==="en"?"Managing Events":"Rheoli Digwyddiadau",content:v==="en"?"Each event has an actions menu where you can edit details or delete the event. Click the three dots to see options.":"Mae gan bob digwyddiad ddewislen gweithredoedd lle gallwch olygu manylion neu ddileu'r digwyddiad. Cliciwch y tri dot i weld opsiynau.",position:"left",tip:v==="en"?"Deleting an event will also remove any attached files and cannot be undone.":"Bydd dileu digwyddiad hefyd yn dileu unrhyw ffeiliau atodol ac ni ellir ei ddadwneud."},{id:"event-badges",target:'[data-tutorial="event-status"]',title:v==="en"?"Event Status Badges":"Bathodynnau Statws Digwyddiad",content:v==="en"?'These badges show important event properties: "Urgent" for critical announcements and "Homepage" for events displayed on the main site.':`Mae'r bathodynnau hyn yn dangos priodweddau pwysig digwyddiadau: "Brys" ar gyfer cyhoeddiadau critigol a "Tudalen Gartref" ar gyfer digwyddiadau a ddangosir ar y brif wefan.`,position:"right"}]}];h.useEffect(()=>{if(w&&!b("calendar-basics")&&t.length===0&&!n){const E=setTimeout(()=>{},1e3);return()=>clearTimeout(E)}},[w,b,t.length,n]);const N=h.useMemo(()=>{let E=[...t];return m&&(E=E.filter(O=>O.title_en.toLowerCase().includes(m.toLowerCase()))),E.sort((O,P)=>{const M=new Date(O.start).getTime(),L=new Date(P.start).getTime();return g==="asc"?M-L:L-M}),E},[t,m,g]),S=()=>{a(!1),d(null),j(!0)},C=E=>{d(E),a(!0)},T=E=>{u(E),l(!0)},k=async()=>{if(f)try{await J.deleteCalendarEvent(f.id),f.attachmentUrl&&await Vu(f.attachmentUrl),y({title:"Success",description:"Calendar event deleted successfully.",variant:"default"}),j(!0)}catch(E){console.error("Error deleting event:",E),y({title:"Error",description:"Failed to delete event. Please try again.",variant:"destructive"})}finally{l(!1),u(null)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"calendar-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Calendar"}),o.jsx("p",{className:"text-muted-foreground",children:"Create, edit, and manage all school events."})]}),o.jsxs(dr,{open:s,onOpenChange:E=>{a(E),E||d(null)},children:[o.jsx(Li,{asChild:!0,children:o.jsxs(W,{"data-tutorial":"add-event-button",children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Add Event"]})}),o.jsxs(Hn,{className:"sm:max-w-[625px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsxs(Gn,{children:[c?"Edit":"Create"," Event"]}),o.jsx(ur,{children:"Fill in the details below. Click save when you're done."})]}),o.jsx(yQ,{onSuccess:S,existingEvent:c})]})]})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:justify-between",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"Upcoming Events"}),o.jsx(ut,{children:"A list of all current and future school events."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[o.jsxs("div",{className:"relative w-full sm:w-auto",children:[o.jsx(Gm,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(De,{type:"search",placeholder:"Search by title...",className:"w-full pl-8 sm:w-[250px]",value:m,onChange:E=>p(E.target.value),"data-tutorial":"search-input"})]}),o.jsxs(W,{variant:"outline",size:"icon",onClick:()=>x(E=>E==="asc"?"desc":"asc"),"data-tutorial":"sort-button",children:[g==="desc"?o.jsx(gF,{className:"h-4 w-4"}):o.jsx(yF,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle sort order"})]})]})]})}),o.jsx(ue,{children:n?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Title"}),o.jsx(Ne,{children:"Date"}),o.jsx(Ne,{children:"Status"}),o.jsx(Ne,{children:"Attachment"}),o.jsx(Ne,{className:"text-right",children:"Actions"})]})}),o.jsx(cr,{children:N.length>0?N.map(E=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:E.title_en}),o.jsx(ge,{children:mt(new Date(E.start),"dd MMM yyyy")}),o.jsx(ge,{"data-tutorial":"event-status",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[E.isUrgent&&o.jsx(Vn,{variant:"destructive",children:"Urgent"}),E.showOnHomepage&&o.jsx(Vn,{variant:"secondary",children:"Homepage"})]})}),o.jsx(ge,{children:E.attachmentUrl&&o.jsxs("a",{href:E.attachmentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:[o.jsx(bs,{className:"h-4 w-4"})," View"]})}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0","data-tutorial":"event-actions",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsx(kc,{children:"Actions"}),o.jsxs(Lt,{onClick:()=>C(E),children:[o.jsx(fc,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsx(Ci,{}),o.jsxs(Lt,{onClick:()=>T(E),className:"text-destructive focus:text-destructive",children:[o.jsx(ns,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},E.id)):o.jsx(rt,{children:o.jsx(ge,{colSpan:5,className:"h-24 text-center",children:"No upcoming events found."})})})]})})})]}),o.jsx(Pa,{open:i,onOpenChange:l,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Are you absolutely sure?"}),o.jsx(Ws,{children:"This action cannot be undone. This will permanently delete the calendar event and remove its data from our servers."})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:"Cancel"}),o.jsx(zs,{onClick:k,children:"Delete"})]})]})})]}),o.jsx($s,{tutorials:_,position:"bottom-right"})]})}const xQ=["All",...no],wQ=t=>yn({title_en:Ke().min(5,{message:t.title_message}),eventDate:Ru().optional(),body_en:Ke().optional(),relevantTo:Si(Ke()).default(["All"]),isUrgent:ho().default(!1),showOnHomepage:ho().default(!1),attachment:Ri().optional()}).refine(e=>e.eventDate||e.body_en&&e.body_en.length>=10,{message:t.validation_message,path:["body_en"]}),bQ={en:{formSchema:{title_message:"Title must be at least 5 characters.",validation_message:"Either select a date (for calendar event) or write body text (for news post), or both."},titleLabel:"Announcement Title",titlePlaceholder:"e.g., School Sports Day",dateLabel:"Event Date (Optional)",datePlaceholder:"Pick a date to create a calendar event",bodyLabel:"Body Text (Optional)",bodyPlaceholder:"Write announcement details to create a news post...",relevantToLabel:"Relevant To",relevantToDesc:"Select which year groups this applies to.",urgentLabel:"Urgent Alert",urgentDesc:"Mark as urgent - creates a homepage banner regardless of other settings.",homepageLabel:"Show on Homepage",homepageDesc:"Display this announcement prominently on the public homepage.",attachmentLabel:"Attachment (Optional)",attachmentDesc:"Upload a PDF or image if needed.",uploadComplete:"Upload complete!",logicExplanation:{title:"How This Works:",dateOnly:" Date only  Creates calendar event",bodyOnly:" Body text only  Creates news post",both:" Date + Body  Creates both calendar event and news post",urgent:" Urgent  Always creates news post with homepage banner"},toastSuccess:{newsOnly:{title:"Success!",description:"News post created."},eventOnly:{title:"Success!",description:"Calendar event created."},both:{title:"Success!",description:"News post and calendar event created."},update:{title:"Success!",description:"Announcement updated."}},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitButton:"Create Announcement",submitButtonUpdate:"Update Announcement"},cy:{formSchema:{title_message:"Rhaid i'r teitl fod o leiaf 5 nod.",validation_message:"Naill ai dewiswch ddyddiad (ar gyfer digwyddiad calendr) neu ysgrifennwch destun corff (ar gyfer post newyddion), neu'r ddau."},titleLabel:"Teitl y Cyhoeddiad",titlePlaceholder:"e.e., Diwrnod Chwaraeon Ysgol",dateLabel:"Dyddiad Digwyddiad (Dewisol)",datePlaceholder:"Dewiswch ddyddiad i greu digwyddiad calendr",bodyLabel:"Testun Corff (Dewisol)",bodyPlaceholder:"Ysgrifennwch fanylion y cyhoeddiad i greu post newyddion...",relevantToLabel:"Perthnasol i",relevantToDesc:"Dewiswch pa grwpiau blwyddyn y mae hyn yn berthnasol iddynt.",urgentLabel:"Hysbysiad Brys",urgentDesc:"Nodwch fel brys - yn creu baner tudalen gartref beth bynnag fo'r gosodiadau eraill.",homepageLabel:"Dangos ar y Tudalen Gartref",homepageDesc:"Dangoswch y cyhoeddiad hwn yn amlwg ar y dudalen gartref gyhoeddus.",attachmentLabel:"Atodiad (Dewisol)",attachmentDesc:"Uwchlwythwch PDF neu ddelwedd os oes angen.",uploadComplete:"Wedi'i uwchlwytho'n llwyddiannus!",logicExplanation:{title:"Sut Mae Hyn yn Gweithio:",dateOnly:" Dyddiad yn unig  Creu digwyddiad calendr",bodyOnly:" Testun corff yn unig  Creu post newyddion",both:" Dyddiad + Corff  Creu digwyddiad calendr a post newyddion",urgent:" Brys  Bob amser yn creu post newyddion gyda baner tudalen gartref"},toastSuccess:{newsOnly:{title:"Llwyddiant!",description:"Post newyddion wedi'i greu."},eventOnly:{title:"Llwyddiant!",description:"Digwyddiad calendr wedi'i greu."},both:{title:"Llwyddiant!",description:"Post newyddion a digwyddiad calendr wedi'u creu."},update:{title:"Llwyddiant!",description:"Cyhoeddiad wedi'i ddiweddaru."}},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Rhowch gynnig arall arni."},submitButton:"Creu Cyhoeddiad",submitButtonUpdate:"Diweddaru Cyhoeddiad"}};function jQ({onSuccess:t,existingAnnouncement:e}){const{language:n}=Ce(),r=bQ[n],{toast:s}=dt(),[a,i]=h.useState(!1),[l,c]=h.useState(null),d=Tn({resolver:Pn(wQ(r.formSchema)),defaultValues:{title_en:(e==null?void 0:e.title_en)||"",eventDate:e&&"start"in e?new Date(e.start):void 0,body_en:e&&"body_en"in e?e.body_en:"",relevantTo:e&&"relevantTo"in e?e.relevantTo:["All"],isUrgent:(e==null?void 0:e.isUrgent)||!1,showOnHomepage:(e==null?void 0:e.showOnHomepage)||!1}}),f=d.watch("eventDate"),u=d.watch("body_en"),m=d.watch("isUrgent"),p=()=>{const y=!!f,v=u&&u.length>=10;return m?y?"both":"newsOnly":y&&v?"both":y?"eventOnly":v?"newsOnly":null},g=async y=>{i(!0);try{let v="";y.attachment&&(c(0),v=await zu(y.attachment,C=>{c(C)}),c(100));const w=!!y.eventDate,b=y.body_en&&y.body_en.length>=10,j=y.isUrgent;let _=!1,N=!1;if(j||b){const C={title_en:y.title_en,body_en:y.body_en||y.title_en,isUrgent:y.isUrgent,attachmentUrl:v,createdAt:new Date().toISOString()};e&&"body_en"in e?await J.updateNews(e.id,C):await J.addNews(C),_=!0}if(w){const C={title_en:y.title_en,start:y.eventDate.toISOString(),description_en:y.body_en||"",relevantTo:y.relevantTo,isUrgent:y.isUrgent,showOnHomepage:y.showOnHomepage,attachmentUrl:v,createdAt:new Date().toISOString()};e&&"start"in e?await J.updateCalendarEvent(e.id,C):await J.addCalendarEvent(C),N=!0}let S;e?S=r.toastSuccess.update:_&&N?S=r.toastSuccess.both:N?S=r.toastSuccess.eventOnly:S=r.toastSuccess.newsOnly,s({title:S.title,description:S.description}),t()}catch(v){console.error("Error creating announcement:",v),s({title:r.toastError.title,description:r.toastError.description,variant:"destructive"})}finally{i(!1),c(null)}},x=p();return o.jsx(An,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:r.logicExplanation.title}),o.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("div",{children:r.logicExplanation.dateOnly}),o.jsx("div",{children:r.logicExplanation.bodyOnly}),o.jsx("div",{children:r.logicExplanation.both}),o.jsx("div",{children:r.logicExplanation.urgent})]}),x&&o.jsxs("div",{className:"mt-3 p-2 bg-blue-100 rounded text-sm font-medium text-blue-900",children:[" This will create: ",x==="both"?"News Post + Calendar Event":x==="eventOnly"?"Calendar Event":"News Post"]})]}),o.jsx(he,{control:d.control,name:"title_en",render:({field:y})=>o.jsxs(me,{children:[o.jsx(de,{children:r.titleLabel}),o.jsx(ye,{children:o.jsx(De,{placeholder:r.titlePlaceholder,...y})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"eventDate",render:({field:y})=>o.jsxs(me,{className:"flex flex-col",children:[o.jsx(de,{children:r.dateLabel}),o.jsxs(bM,{children:[o.jsx(jM,{asChild:!0,children:o.jsx(ye,{children:o.jsxs(W,{variant:"outline",className:U("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[y.value?mt(y.value,"PPP"):o.jsx("span",{children:r.datePlaceholder}),o.jsx(zn,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(y0,{className:"w-auto p-0",align:"start",children:o.jsx(Ap,{mode:"single",selected:y.value,onSelect:y.onChange,disabled:v=>v<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),o.jsx(It,{children:"Leave empty if this is just a news announcement without a specific date."}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"body_en",render:({field:y})=>o.jsxs(me,{children:[o.jsx(de,{children:r.bodyLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:r.bodyPlaceholder,className:"min-h-[120px]",...y})}),o.jsx(It,{children:"Leave empty if this is just a calendar event without detailed news content."}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"relevantTo",render:()=>o.jsxs(me,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(de,{className:"text-base",children:r.relevantToLabel}),o.jsx(It,{children:r.relevantToDesc})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:xQ.map(y=>o.jsx(he,{control:d.control,name:"relevantTo",render:({field:v})=>{var w;return o.jsxs(me,{className:"flex flex-row items-start space-x-3 space-y-0",children:[o.jsx(ye,{children:o.jsx($o,{checked:(w=v.value)==null?void 0:w.includes(y),onCheckedChange:b=>{var j;return b?v.onChange([...v.value,y]):v.onChange((j=v.value)==null?void 0:j.filter(_=>_!==y))}})}),o.jsx(de,{className:"text-sm font-normal",children:y})]},y)}},y))}),o.jsx(Ee,{})]})}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(de,{className:"text-base",children:r.urgentLabel}),o.jsx(It,{children:r.urgentDesc})]}),o.jsx(he,{control:d.control,name:"isUrgent",render:({field:y})=>o.jsx(me,{className:"ml-4",children:o.jsx(ye,{children:o.jsx(rn,{checked:y.value,onCheckedChange:y.onChange})})})})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(de,{className:"text-base",children:r.homepageLabel}),o.jsx(It,{children:r.homepageDesc})]}),o.jsx(he,{control:d.control,name:"showOnHomepage",render:({field:y})=>o.jsx(me,{className:"ml-4",children:o.jsx(ye,{children:o.jsx(rn,{checked:y.value,onCheckedChange:y.onChange})})})})]}),o.jsx(he,{control:d.control,name:"attachment",render:({field:{onChange:y,...v}})=>o.jsxs(me,{children:[o.jsx(de,{children:r.attachmentLabel}),o.jsx(ye,{children:o.jsx(De,{type:"file",accept:"application/pdf,image/*",onChange:w=>{var b;return y((b=w.target.files)==null?void 0:b[0])},...v})}),o.jsx(It,{children:r.attachmentDesc}),l!==null&&l<100&&o.jsx(Cc,{value:l,className:"w-full mt-2"}),l===100&&o.jsxs("div",{className:"flex items-center text-sm text-green-600 mt-2",children:[o.jsx(uc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:r.uploadComplete})]}),o.jsx(Ee,{})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:a,children:[a&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e?r.submitButtonUpdate:r.submitButton]})})]})})}const SQ=[{id:"announcements-overview",title:"Unified Announcements",description:"Learn how to create announcements that can be both news posts and calendar events",target:'[data-tutorial="announcements-overview"]',content:"This unified system lets you create announcements that automatically become news posts, calendar events, or both based on what information you provide.",position:"bottom",tip:"Add a date to create a calendar event, add body text to create a news post, or add both!"},{id:"add-announcement-button",title:"Create New Announcement",description:"Add a new announcement to the system",target:'[data-tutorial="add-announcement-button"]',content:"Click here to create a new announcement. The form will automatically determine what to create based on the fields you fill out.",position:"left",tip:"Urgent announcements always create news posts with homepage banners"},{id:"search-announcements",title:"Search Announcements",description:"Find specific announcements quickly",target:'[data-tutorial="search-announcements"]',content:"Use this search box to find announcements by title. Works across both news posts and calendar events.",position:"bottom",tip:"Search is case-insensitive and matches partial titles"},{id:"urgent-filter",title:"Filter Urgent Items",description:"Show only urgent announcements",target:'[data-tutorial="urgent-filter"]',content:"Toggle this to show only urgent announcements that appear as homepage banners.",position:"left",tip:"Urgent items are automatically promoted to news posts"}];function _Q(){const[t,e]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState(""),[f,u]=h.useState(!1),[m,p]=h.useState(!1),[g,x]=h.useState(null),{toast:y}=dt(),{language:v}=Ce(),{startTutorial:w}=Ar(),b=async()=>{try{r(!0);const[k,E]=await Promise.all([J.news.getAll(),J.calendar.getAll()]),O=[];k.forEach(P=>{O.push({id:`news-${P.id}`,title:P.title_en,date:P.createdAt,type:"news",isUrgent:P.isUrgent||!1,attachment:P.attachment,source:"news",originalData:P})}),E.forEach(P=>{O.push({id:`event-${P.id}`,title:P.title_en,date:P.eventDate,type:"event",isUrgent:P.isUrgent||!1,source:"calendar",originalData:P})}),O.sort((P,M)=>new Date(M.date).getTime()-new Date(P.date).getTime()),e(O)}catch(k){console.error("Error loading announcements:",k),y({title:"Error",description:"Failed to load announcements. Please try again.",variant:"destructive"})}finally{r(!1)}};h.useEffect(()=>{b()},[]);const j=h.useMemo(()=>t.filter(k=>{const E=k.title.toLowerCase().includes(c.toLowerCase()),O=!f||k.isUrgent;return E&&O}),[t,c,f]),_=k=>{l(k),a(!0)},N=async k=>{try{if(k.source==="news"){const E=k.originalData;E.attachment&&await Vu(E.attachment),await J.news.delete(E.id)}else{const E=k.originalData;await J.calendar.delete(E.id)}y({title:"Success",description:`${k.type==="news"?"News post":"Calendar event"} deleted successfully.`}),await b()}catch(E){console.error("Error deleting item:",E),y({title:"Error",description:"Failed to delete item. Please try again.",variant:"destructive"})}},S=k=>{x(k),p(!0)},C=()=>{a(!1),l(null),b()},T=k=>k&&!isNaN(new Date(k).getTime());return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"announcements-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Announcements"}),o.jsx($s,{tutorials:SQ,onStartTutorial:()=>{}})]}),o.jsx("p",{className:"text-muted-foreground",children:"Create and manage unified announcements that can be news posts, calendar events, or both."})]}),o.jsxs(W,{"data-tutorial":"add-announcement-button",onClick:()=>a(!0),children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Add Announcement"]})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:justify-between",children:[o.jsxs("div",{children:[o.jsx(_e,{children:"All Announcements"}),o.jsx(ut,{children:"A unified view of all news posts and calendar events."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[o.jsxs("div",{className:"relative w-full sm:w-auto",children:[o.jsx(Gm,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(De,{type:"search",placeholder:"Search by title...",className:"w-full pl-8 sm:w-[250px]",value:c,onChange:k=>d(k.target.value),"data-tutorial":"search-announcements"})]}),o.jsxs("div",{className:"flex items-center space-x-2","data-tutorial":"urgent-filter",children:[o.jsx($o,{id:"urgent-filter",checked:f,onCheckedChange:k=>u(k)}),o.jsx(ot,{htmlFor:"urgent-filter",className:"text-sm font-medium",children:"Show urgent only"})]})]})]})}),o.jsx(ue,{children:n?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Title"}),o.jsx(Ne,{children:"Type"}),o.jsx(Ne,{children:"Date"}),o.jsx(Ne,{children:"Status"}),o.jsx(Ne,{children:"Attachment"}),o.jsx(Ne,{className:"text-right",children:"Actions"})]})}),o.jsx(cr,{children:j.length>0?j.map(k=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:k.title}),o.jsx(ge,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[k.type==="news"&&o.jsx(Gd,{className:"h-4 w-4 text-blue-500"}),k.type==="event"&&o.jsx(zn,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"capitalize",children:k.type})]})}),o.jsx(ge,{children:T(k.date)?mt(new Date(k.date),"dd MMM yyyy"):"Invalid date"}),o.jsx(ge,{children:k.isUrgent&&o.jsx(Vn,{variant:"destructive",className:"text-xs",children:"Urgent"})}),o.jsx(ge,{children:k.attachment&&o.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsx(kc,{children:"Actions"}),o.jsxs(Lt,{onClick:()=>_(k),children:[o.jsx(fc,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsx(Ci,{}),o.jsxs(Lt,{onClick:()=>S(k),className:"text-destructive focus:text-destructive",children:[o.jsx(ns,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},k.id)):o.jsx(rt,{children:o.jsx(ge,{colSpan:6,className:"h-24 text-center",children:"No announcements found."})})})]})})})]})]}),o.jsx(dr,{open:s,onOpenChange:a,children:o.jsxs(Hn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:i?"Edit Announcement":"Create New Announcement"}),o.jsx(ur,{children:i?"Update the announcement details below.":"Fill out the form below to create a new announcement. Add a date to create a calendar event, body text to create a news post, or both!"})]}),o.jsx(jQ,{existingData:i==null?void 0:i.originalData,onSuccess:C})]})}),o.jsx(Pa,{open:m,onOpenChange:p,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Are you sure?"}),o.jsxs(Ws,{children:["This will permanently delete the ",(g==null?void 0:g.type)==="news"?"news post":"calendar event",' "',g==null?void 0:g.title,'". This action cannot be undone.']})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:"Cancel"}),o.jsx(zs,{onClick:()=>{g&&(N(g),p(!1),x(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const NQ={en:{title:"User Management",description:"View all registered users and manage their roles.",tableHeaders:{email:"Email",role:"Role",registered:"Registered",actions:"Actions"},actions:{label:"Actions",makeAdmin:"Make Admin",makeParent:"Make Parent"},noUsers:"No users found.",toast:{success:{title:"Success",description:"User role has been updated."},error:{title:"Error",description:"Failed to update user role."}}},cy:{title:"Rheoli Defnyddwyr",description:"Gweld pob defnyddiwr cofrestredig a rheoli eu rolau.",tableHeaders:{email:"E-bost",role:"Rl",registered:"Cofrestwyd",actions:"Gweithredoedd"},actions:{label:"Gweithredoedd",makeAdmin:"Gwneud yn Weinyddwr",makeParent:"Gwneud yn Rhiant"},noUsers:"Ni chanfuwyd unrhyw ddefnyddwyr.",toast:{success:{title:"Llwyddiant",description:"Mae rl y defnyddiwr wedi'i diweddaru."},error:{title:"Gwall",description:"Wedi methu diweddaru rl y defnyddiwr."}}}};function CQ(){const{language:t}=Ce(),e=NQ[t],[n,r]=h.useState([]),[s,a]=h.useState(!0),[i,l]=h.useState(null),{toast:c}=dt();h.useEffect(()=>{(async()=>{a(!0);{try{const m=await J.getUsersWithRoles();r(m)}catch(m){console.error("Failed to fetch mock users:",m)}finally{a(!1)}return}})()},[!1,e.toast.error.title,c]);const f=async(u,m)=>{try{await J.updateUserRole(u,m),r(n.map(p=>p.id===u?{...p,role:m}:p)),c(e.toast.success)}catch(p){console.error("Failed to update role:",p),c(e.toast.error)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:"All Users"}),o.jsx(ut,{children:"A list of all users who have signed up to the portal."})]}),o.jsx(ue,{children:s?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:e.tableHeaders.email}),o.jsx(Ne,{children:e.tableHeaders.role}),o.jsx(Ne,{children:e.tableHeaders.registered}),o.jsx(Ne,{className:"text-right",children:e.tableHeaders.actions})]})}),o.jsx(cr,{children:n.length>0?n.map(u=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:u.email}),o.jsx(ge,{children:o.jsxs(Vn,{variant:u.role==="admin"?"default":"secondary",children:[u.role==="admin"?o.jsx(Kd,{className:"mr-2 h-3 w-3"}):o.jsx(Kw,{className:"mr-2 h-3 w-3"}),u.role.charAt(0).toUpperCase()+u.role.slice(1)]})}),o.jsx(ge,{children:mt(new Date(u.created_at),"dd MMM yyyy")}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0",disabled:u.id===(i==null?void 0:i.id),children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsx(kc,{children:e.actions.label}),o.jsx(Ci,{}),o.jsx(Lt,{onClick:()=>f(u.id,"admin"),disabled:u.role==="admin",children:e.actions.makeAdmin}),o.jsx(Lt,{onClick:()=>f(u.id,"parent"),disabled:u.role==="parent",children:e.actions.makeParent})]})]})})]},u.id)):o.jsx(rt,{children:o.jsx(ge,{colSpan:4,className:"h-24 text-center",children:e.noUsers})})})]})})]})]})}const kQ=["All",...no],EQ=t=>yn({caption:Ke().min(3,{message:t.caption_message}),image:Ri().refine(e=>e instanceof File,{message:t.image_message}),yearGroups:Si(Ke()).refine(e=>e.some(n=>n),{message:t.yearGroups_message})}),TQ={en:{formSchema:{caption_message:"Caption must be at least 3 characters.",image_message:"An image file is required.",yearGroups_message:"You have to select at least one year group."},imageLabel:"Image File",captionLabel:"Caption",captionPlaceholder:"e.g., Year 2's trip to the museum",tagLabel:"Tag Year Groups",tagDesc:"Select which year groups this photo should be visible to.",uploadComplete:"Upload complete!",toastSuccess:{title:"Success!",description:"Photo has been uploaded successfully."},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitButton:"Upload Photo"},cy:{formSchema:{caption_message:"Rhaid i'r capsiwn fod o leiaf 3 nod.",image_message:"Mae angen ffeil delwedd.",yearGroups_message:"Rhaid i chi ddewis o leiaf un grp blwyddyn."},imageLabel:"Ffeil Delwedd",captionLabel:"Capsiwn",captionPlaceholder:"e.e., Taith Blwyddyn 2 i'r amgueddfa",tagLabel:"Tagio Grwpiau Blwyddyn",tagDesc:"Dewiswch pa grwpiau blwyddyn ddylai'r llun hwn fod yn weladwy iddynt.",uploadComplete:"Wedi'i uwchlwytho'n llwyddiannus!",toastSuccess:{title:"Llwyddiant!",description:"Mae'r llun wedi'i uwchlwytho'n llwyddiannus."},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Rhowch gynnig arall arni."},submitButton:"Uwchlwytho Llun"}};function KM({onSuccess:t}){const{language:e}=Ce(),{user:n}=xc(),r=TQ[e],{toast:s}=dt(),[a,i]=h.useState(!1),[l,c]=h.useState(null),d=Tn({resolver:Pn(EQ(r.formSchema)),defaultValues:{caption:"",yearGroups:[]}}),f=async u=>{i(!0);try{const m=u.image;c(0);const p=await zu(m,"gallery-photos",x=>{c(x)});c(100);const g={caption:u.caption,imageUrl:p,yearGroups:u.yearGroups.includes("All")?["All"]:u.yearGroups,uploadedAt:new Date().toISOString(),uploadedBy:(n==null?void 0:n.email)||"teacher@example.com"};await J.addPhoto(g),s(r.toastSuccess),d.reset(),t()}catch(m){console.error("Error submitting form:",m),s(r.toastError)}finally{i(!1),c(null)}};return o.jsx(An,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[o.jsx(he,{control:d.control,name:"image",render:({field:{onChange:u,...m}})=>o.jsxs(me,{children:[o.jsx(de,{children:r.imageLabel}),o.jsx(ye,{children:o.jsx(De,{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:p=>{var g;return u((g=p.target.files)==null?void 0:g[0])},...m})}),l!==null&&l<100&&o.jsx(Cc,{value:l,className:"w-full mt-2"}),l===100&&o.jsxs("div",{className:"flex items-center text-sm text-green-600 mt-2",children:[o.jsx(uc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:r.uploadComplete})]}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"caption",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.captionLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:r.captionPlaceholder,...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"yearGroups",render:()=>o.jsxs(me,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(de,{className:"text-base",children:r.tagLabel}),o.jsx(It,{children:r.tagDesc})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:kQ.map(u=>o.jsx(he,{control:d.control,name:"yearGroups",render:({field:m})=>{var p;return o.jsxs(me,{className:"flex flex-row items-start space-x-3 space-y-0",children:[o.jsx(ye,{children:o.jsx($o,{checked:(p=m.value)==null?void 0:p.includes(u),onCheckedChange:g=>{const x=m.value?[...m.value]:[];if(g){if(u==="All")return m.onChange(["All"]);x.push(u);const y=x.indexOf("All");return y>-1&&x.splice(y,1),m.onChange(x)}else return m.onChange(x==null?void 0:x.filter(y=>y!==u))}})}),o.jsx(de,{className:"font-normal",children:u})]},u)}},u))}),o.jsx(Ee,{})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:a,children:[a&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),r.submitButton]})})]})})}const l1=[{id:"gallery-overview",title:"Photo Gallery Management",description:"This page allows you to manage photos that will be visible to parents.",target:'[data-tutorial="gallery-overview"]',content:"Here you can upload new photos, organize them by year groups, and manage the photo gallery that parents can access through their portal. Photos are displayed newest-first.",position:"bottom",tip:"Photos should be appropriate for sharing with all parents and tagged with relevant year groups"},{id:"upload-photo",title:"Upload New Photos",description:"Click this button to upload a new photo to the gallery.",target:'[data-tutorial="upload-photo"]',content:"When uploading photos, you can add a caption, select which year groups the photo relates to, and the system will automatically organize them by date. Make sure photos are high quality and appropriate for sharing.",position:"bottom",tip:"You can tag photos with multiple year groups if they show activities involving different classes"},{id:"photo-grid",title:"Photo Gallery Grid",description:"All uploaded photos are displayed in a responsive grid layout.",target:'[data-tutorial="photo-grid"]',content:"Each photo shows its caption, year group tags, and upload date. Hover over a photo to see the delete button. Photos are automatically resized to fit the grid while maintaining their aspect ratio.",position:"top",tip:"The grid automatically adjusts to show more or fewer columns based on screen size"},{id:"delete-photo",title:"Delete Photos",description:"Hover over any photo to reveal the delete button.",target:'[data-tutorial="delete-photo"]',content:"You can remove photos from the gallery by clicking the delete button that appears when you hover over a photo. This will permanently remove the photo from both the gallery and storage.",position:"left",tip:"Deleted photos cannot be recovered, so make sure you really want to remove them"},{id:"load-more",title:"Load More Photos",description:"Use this button to load additional photos when there are more available.",target:'[data-tutorial="load-more"]',content:"The gallery loads photos in batches to improve performance. When there are more photos available, this button will appear to load the next set.",position:"top",tip:"Photos are loaded 12 at a time to keep the page responsive"}];function PQ(){const[t,e]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState(!1),[i,l]=h.useState(!0),[c,d]=h.useState(null),[f,u]=h.useState(!1),[m,p]=h.useState(!1),[g,x]=h.useState(null),{toast:y}=dt(),{startTutorial:v}=Ar(),w=async(N=!1)=>{N?(r(!0),d(void 0),l(!0)):a(!0);try{const{data:S,lastDoc:C}=await J.getPaginatedPhotos(12,N?void 0:c);e(N?S:T=>[...T,...S]),d(C),l(!!C)}catch(S){console.error("Failed to fetch photos:",S),y({title:"Error",description:"Could not fetch photo gallery.",variant:"destructive"})}r(!1),a(!1)};h.useEffect(()=>{w(!0)},[]);const b=()=>{u(!1),w(!0)},j=N=>{x(N),p(!0)},_=async()=>{if(g)try{await Vu(g.imageUrl),await J.deletePhoto(g.id),y({title:"Success",description:"Photo deleted successfully."}),w(!0)}catch(N){console.error("Error deleting photo:",N),y({title:"Error",description:"Failed to delete photo. Please try again.",variant:"destructive"})}finally{p(!1),x(null)}};return o.jsxs(dr,{open:f,onOpenChange:u,children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{"data-tutorial":"gallery-overview",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Photo Gallery"}),o.jsx($s,{tutorials:l1,onStartTutorial:()=>v(l1)})]}),o.jsx("p",{className:"text-muted-foreground",children:"Upload and manage photos for the parent portal."})]}),o.jsx(Li,{asChild:!0,children:o.jsxs(W,{"data-tutorial":"upload-photo",children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Upload Photo"]})})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:"Uploaded Photos"}),o.jsx(ut,{children:"Photos are shown newest-first."})]}),o.jsxs(ue,{children:[n?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):t.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4","data-tutorial":"photo-grid",children:t.map(N=>o.jsxs(oe,{className:"overflow-hidden group relative",children:[o.jsx("img",{src:N.imageUrl,alt:N.caption,className:"aspect-square w-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[o.jsx("p",{className:"text-sm font-semibold truncate",children:N.caption}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(Array.isArray(N.yearGroups)?N.yearGroups:[]).map(S=>o.jsx(Vn,{variant:"secondary",className:"text-xs",children:S},S))}),o.jsx("p",{className:"text-xs text-white/80 mt-2",children:mt(new Date(N.uploadedAt),"dd MMM yyyy")})]}),o.jsx(W,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>j(N),"data-tutorial":"delete-photo",children:o.jsx(ns,{className:"h-4 w-4"})})]},N.id))}):o.jsx("div",{className:"text-center py-16 border-dashed border-2 rounded-lg",children:o.jsx("p",{className:"text-muted-foreground",children:"No photos have been uploaded yet."})}),i&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs(W,{onClick:()=>w(!1),disabled:s,"data-tutorial":"load-more",children:[s?o.jsx(We,{className:"h-5 w-5 animate-spin mr-2"}):null,"Load More"]})})]})]}),o.jsx(Pa,{open:m,onOpenChange:p,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Are you absolutely sure?"}),o.jsx(Ws,{children:"This will permanently delete the photo. This action cannot be undone."})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:"Cancel"}),o.jsx(zs,{onClick:_,children:"Delete"})]})]})})]}),o.jsxs(Hn,{className:"sm:max-w-xl",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:"Upload a New Photo"}),o.jsx(ur,{children:"Select a photo and tag the relevant year groups."})]}),o.jsx(KM,{onSuccess:b})]})]})}const AQ=yn({replyMessage:Ke().min(1,"Reply cannot be empty.")});function DQ(){const[t,e]=h.useState({}),[n,r]=h.useState(!0),[s,a]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),[f,u]=h.useState(null),[m,p]=h.useState(!1),[g,x]=h.useState(""),[y,v]=h.useState("all"),{toast:w}=dt(),b=Tn({resolver:Pn(AQ),defaultValues:{replyMessage:""}}),j=async()=>{r(!0);try{const P=await J.getInboxMessages(),M={};P.forEach(L=>{const F=L.threadId||L.id;M[F]||(M[F]=[]),M[F].push(L)});for(const L in M)M[L].sort((F,z)=>new Date(F.createdAt).getTime()-new Date(z.createdAt).getTime());e(M)}catch(P){console.error("Failed to fetch inbox messages:",P),w({title:"Error",description:"Could not load inbox messages.",variant:"destructive"})}finally{r(!1)}};h.useEffect(()=>{j()},[]);const _=h.useMemo(()=>{let P=Object.entries(t);if(y!=="all"&&(P=P.filter(([,M])=>M[0].type===y)),g){const M=g.toLowerCase();P=P.filter(([,L])=>{const F=L[0];return F.sender.name.toLowerCase().includes(M)||F.subject.toLowerCase().includes(M)})}return P.sort(([,M],[,L])=>{const F=M[M.length-1],z=L[L.length-1];return new Date(z.createdAt).getTime()-new Date(F.createdAt).getTime()}),P},[t,y,g]),N=P=>{d(P),l(!0)},S=async()=>{if(!c)return;const P=t[c]||[];try{for(const M of P)await J.deleteInboxMessage(M.id);w({title:"Success",description:"Message thread deleted successfully."}),j()}catch(M){console.error("Error deleting message thread:",M),w({title:"Error",description:"Failed to delete message thread. Please try again.",variant:"destructive"})}finally{l(!1),d(null)}},C=async P=>{const M=t[P];if(M){for(const L of M)if(!L.isReadByAdmin)try{await J.updateInboxMessage(L.id,{isReadByAdmin:!0}),e(F=>{const z={...F};return z[P]=z[P].map(R=>R.id===L.id?{...R,isReadByAdmin:!0}:R),z})}catch(F){console.error("Failed to mark message as read:",F)}}},T=async P=>{u(P),b.reset(),p(!0),await C(P)},k=async P=>{if(!f)return;const M=t[f];if(!M||M.length===0)return;const L=M[0],F=L.sender.type==="parent"?L.sender:L.recipient;a(!0);try{const z={id:"admin-1",name:"School Admin",email:"admin@example.com",type:"admin"};await J.addInboxMessage({type:"reply",subject:`Re: ${L.subject}`,body:P.replyMessage,sender:z,recipient:F,isReadByAdmin:!0,isReadByParent:!1,createdAt:new Date().toISOString(),threadId:f}),w({title:"Reply Sent",description:`Your reply has been sent to ${F.name}.`}),b.reset(),j()}catch{w({title:"Error Sending Reply",description:"Could not send the reply. Please try again.",variant:"destructive"})}finally{a(!1)}},E=P=>P.some(M=>!M.isReadByAdmin),O=h.useMemo(()=>Object.values(t).filter(E).length,[t]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Inbox"}),o.jsx("p",{className:"text-muted-foreground",children:O>0?`You have ${O} unread message threads.`:"No unread messages."})]})}),o.jsxs("div",{className:"rounded-lg border",children:[o.jsxs("div",{className:"p-4 flex flex-col sm:flex-row gap-2 bg-muted/50 border-b",children:[o.jsxs("div",{className:"relative w-full sm:flex-grow",children:[o.jsx(Gm,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(De,{type:"search",placeholder:"Search by sender or subject...",className:"w-full pl-8",value:g,onChange:P=>x(P.target.value)})]}),o.jsx("div",{className:"grid grid-cols-1 sm:flex gap-2",children:o.jsxs(br,{value:y,onValueChange:v,children:[o.jsx(sr,{className:"w-full sm:w-[150px]",children:o.jsx(jr,{placeholder:"Filter by type..."})}),o.jsxs(ar,{children:[o.jsx($t,{value:"all",children:"All Types"}),o.jsx($t,{value:"absence",children:"Absence"}),o.jsx($t,{value:"contact",children:"Contact"})]})]})})]}),o.jsx("div",{children:n?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{className:"w-[150px]",children:"From"}),o.jsx(Ne,{children:"Subject"}),o.jsx(Ne,{className:"w-[150px]",children:"Last Update"}),o.jsx(Ne,{className:"text-right w-[80px]",children:"Actions"})]})}),o.jsx(cr,{children:_.length>0?_.map(([P,M])=>{const L=M[0],F=M[M.length-1],z=E(M);return o.jsxs(rt,{className:U("cursor-pointer",z&&"bg-secondary/40 font-bold"),onClick:()=>T(P),children:[o.jsx(ge,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[z&&o.jsx("div",{className:"h-2 w-2 rounded-full bg-primary shrink-0"}),o.jsx("span",{children:L.sender.name})]})}),o.jsx(ge,{className:"font-medium",children:L.subject}),o.jsx(ge,{children:wp(new Date(F.createdAt),{addSuffix:!0})}),o.jsx(ge,{className:"text-right",onClick:R=>R.stopPropagation(),children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsxs(Lt,{onClick:()=>T(P),children:[o.jsx(Pk,{className:"mr-2 h-4 w-4"}),z?"View & Mark Read":"View"]}),o.jsxs(Lt,{onClick:()=>N(P),className:"text-destructive focus:text-destructive",children:[o.jsx(ns,{className:"mr-2 h-4 w-4"}),"Delete Thread"]})]})]})})]},P)}):o.jsx(rt,{children:o.jsx(ge,{colSpan:4,className:"h-24 text-center",children:"Your inbox is empty or no messages match your search."})})})]})})})]}),o.jsx(Pa,{open:i,onOpenChange:l,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Are you absolutely sure?"}),o.jsx(Ws,{children:"This action cannot be undone. This will permanently delete this entire message thread."})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:"Cancel"}),o.jsx(zs,{onClick:S,children:"Delete"})]})]})}),o.jsx(dr,{open:m,onOpenChange:p,children:o.jsxs(Hn,{className:"sm:max-w-2xl flex flex-col max-h-[90vh]",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:f?t[f][0].subject:""}),o.jsxs(ur,{children:["Conversation with ",f?t[f][0].sender.name:""]})]}),o.jsx(Ds,{className:"flex-grow pr-4 -mr-6",children:f&&t[f]&&o.jsx("div",{className:"space-y-4 py-4",children:t[f].map(P=>o.jsxs("div",{className:U("p-4 rounded-md flex gap-4",P.sender.type==="admin"?"bg-primary/10":"bg-card border"),children:[o.jsx("div",{className:"shrink-0 mt-1",children:P.sender.type==="admin"?o.jsx(Uv,{className:"h-5 w-5 text-primary"}):o.jsx(ks,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("p",{className:"font-semibold",children:P.sender.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:mt(new Date(P.createdAt),"dd MMM yyyy, p")})]}),o.jsx("p",{className:"mt-2 text-sm whitespace-pre-wrap",children:P.body})]})]},P.id))})}),o.jsx("div",{className:"flex-shrink-0 pt-4 border-t",children:o.jsx(An,{...b,children:o.jsxs("form",{onSubmit:b.handleSubmit(k),className:"space-y-4",children:[o.jsx(he,{control:b.control,name:"replyMessage",render:({field:P})=>o.jsxs(me,{children:[o.jsxs(de,{className:"font-semibold flex items-center gap-2",children:[o.jsx(Uv,{className:"h-4 w-4"})," Reply"]}),o.jsx(ye,{children:o.jsx(Dn,{...P,placeholder:"Type your reply here...",rows:4})}),o.jsx(Ee,{})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:s,children:[s&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),o.jsx(Eu,{className:"mr-2 h-4 w-4"}),"Send Reply"]})})]})})})]})})]})}function MQ(){return o.jsxs("div",{className:"container mx-auto px-8 py-16",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Staff Dashboard"}),o.jsx("p",{children:"Staff dashboard interface will be implemented here."})]})}function OQ(){return o.jsxs("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(ie,{to:"/",className:"text-sm text-muted-foreground hover:text-primary",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:" Back to Public Site"})}),o.jsxs(oe,{className:"w-full max-w-md shadow-2xl border-0",children:[o.jsxs(Se,{className:"text-center",children:[o.jsx(ie,{to:"/",className:"mx-auto mb-4 flex items-center justify-center",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:o.jsx("img",{src:"/icon.png",alt:"School logo",width:40,height:40,className:"h-10 w-10"})}),o.jsx(_e,{className:"font-headline text-2xl",children:"Staff Login"}),o.jsx(ut,{children:"Please select your login portal."})]}),o.jsxs(ue,{className:"space-y-4",children:[o.jsx(W,{asChild:!0,size:"lg",className:"w-full justify-center",children:o.jsxs(ie,{to:"/admin/login",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(Kd,{className:"mr-2 h-5 w-5"})," Admin Portal"]})}),o.jsx(W,{asChild:!0,size:"lg",variant:"secondary",className:"w-full justify-center",children:o.jsxs(ie,{to:"/teacher/login",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(Kw,{className:"mr-2 h-5 w-5"})," Teacher Portal"]})})]})]})]})}const RQ={en:{myClass:"My Class",welcome:"Welcome, {name}. Here's an overview of your class today.",classList:"Class List",upcomingAbsences:"Upcoming Absences",upcomingAbsencesDesc:"Absences reported for today and future dates.",noAbsences:"No absences reported for your class.",nameHeader:"Name",actionsHeader:"Actions",viewDetails:"View Details",notifyParent:"Notify Parent",valuesAwardButton:"Values Award",outboxButton:"Outbox",childDetailsTitle:"Child Details",childDetailsDesc:"Key information for this student. For full details, please contact the school office.",parentContactTitle:"Parent/Guardian Contact",noParentsLinked:"No parents linked.",medicalTitle:"Allergies & Medical",medicalNone:"No known allergies or medical conditions.",profileTitle:"One Page Profile / IDP",profileView:"View Document",profileNone:"No profile document uploaded.",reason:"Reason",date:"Date",awardSummaryTitle:"Values Award Summary",awardCountHeader:"Awards This Year",awardDatesTitle:"Award Dates for {childName}",awardDatesDesc:"A list of dates this student received a Values Award."},cy:{myClass:"Fy Nosbarth",welcome:"Croeso, {name}. Dyma drosolwg o'ch dosbarth heddiw.",classList:"Rhestr Ddosbarth",upcomingAbsences:"Absenoldebau i Ddod",upcomingAbsencesDesc:"Absenoldebau a adroddwyd ar gyfer heddiw a dyddiadau'r dyfodol.",noAbsences:"Dim absenoldebau wedi'u hadrodd ar gyfer eich dosbarth.",nameHeader:"Enw",actionsHeader:"Gweithredoedd",viewDetails:"Gweld Manylion",notifyParent:"Hysbysu Rhiant",valuesAwardButton:"Gwobr Gwerthoedd",outboxButton:"Blwch Anfon",childDetailsTitle:"Manylion y Plentyn",childDetailsDesc:"Gwybodaeth allweddol ar gyfer y myfyriwr hwn. Am fanylion llawn, cysylltwch  swyddfa'r ysgol.",parentContactTitle:"Cyswllt Rhiant/Gwarcheidwad",noParentsLinked:"Dim rhieni wedi'u cysylltu.",medicalTitle:"Alergeddau a Meddygol",medicalNone:"Dim alergeddau na chyflyrau meddygol hysbys.",profileTitle:"Proffil Un Dudalen / CDU",profileView:"Gweld y Ddogfen",profileNone:"Dim dogfen proffil wedi'i huwchlwytho.",reason:"Rheswm",date:"Dyddiad",awardSummaryTitle:"Crynodeb Gwobrau Gwerthoedd",awardCountHeader:"Gwobrau Eleni",awardDatesTitle:"Dyddiadau Gwobrwyo ar gyfer {childName}",awardDatesDesc:"Rhestr o ddyddiadau y derbyniodd y myfyriwr hwn Wobr Gwerthoedd."}};function IQ(){const{language:t}=Ce(),e=RQ[t],[n,r]=h.useState(null),[s,a]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState({}),[f,u]=h.useState({}),[m,p]=h.useState(!0),[g,x]=h.useState(null),[y,v]=h.useState([]),[w,b]=h.useState(!1),[j,_]=h.useState(!1),{toast:N}=dt(),S=!1;h.useEffect(()=>{(async()=>{p(!0);try{const O=await J.getTeacherAndClass("mock-teacher-id-1");if(O){r(O.teacher),a(O.myClass);const P=await J.getInboxMessages(),M=new Date;M.setHours(0,0,0,0);const L=P.filter(R=>{var Q;return R.type!=="absence"||!O.myClass.find(be=>R.subject.includes(be.name))?!1:new Date((Q=R.body.split("Date of Absence: ")[1])==null?void 0:Q.split(`
`)[0])>=M});l(L);const F={},z={};for(const R of O.myClass){const $=await J.getAwardsForChild(R.id);F[R.id]=$.length,z[R.id]=$}d(F),u(z)}}catch(E){console.error("Error fetching teacher data:",E),N({title:"Error",description:"Could not load your class data. Please try again.",variant:"destructive"})}finally{p(!1)}})()},[N,S]);const C=k=>{x(k),b(!0)},T=k=>{x(k),v(f[k.id]||[]),_(!0)};return m?o.jsx("div",{className:"flex h-64 w-full items-center justify-center",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[e.myClass," - ",n==null?void 0:n.team]}),o.jsx("p",{className:"text-muted-foreground",children:e.welcome.replace("{name}",(n==null?void 0:n.name)||"")})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(vo,{className:"h-5 w-5"})," ",e.classList," (",s.length,")"]})}),o.jsx(ue,{children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:e.nameHeader}),o.jsx(Ne,{className:"text-right",children:e.actionsHeader})]})}),o.jsx(cr,{children:s.map(k=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:k.name}),o.jsxs(ge,{className:"text-right",children:[o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(k),children:[o.jsx($v,{className:"mr-2 h-4 w-4"})," ",e.viewDetails]}),o.jsx(W,{variant:"default",size:"sm",asChild:!0,className:"ml-2",children:o.jsxs(ie,{to:`/teacher/notify?childId=${k.id}&childName=${encodeURIComponent(k.name)}`,children:[o.jsx(bl,{className:"mr-2 h-4 w-4"})," ",e.notifyParent]})})]})]},k.id))})]})})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Vm,{className:"h-5 w-5"})," ",e.awardSummaryTitle]})}),o.jsx(ue,{children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:e.nameHeader}),o.jsx(Ne,{className:"text-right",children:e.awardCountHeader})]})}),o.jsx(cr,{children:s.map(k=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:k.name}),o.jsx(ge,{className:"text-right",children:o.jsx(W,{variant:"outline",size:"sm",onClick:()=>T(k),disabled:(c[k.id]||0)===0,children:c[k.id]||0})})]},k.id))})]})})]})]}),o.jsx("div",{children:o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(bs,{className:"h-5 w-5"})," ",e.upcomingAbsences]}),o.jsx(ut,{children:e.upcomingAbsencesDesc})]}),o.jsx(ue,{children:i.length>0?o.jsx("div",{className:"space-y-3",children:i.map(k=>{var E,O;return o.jsxs("div",{className:"p-3 rounded-md border text-sm",children:[o.jsx("p",{className:"font-semibold",children:k.subject.replace("Absence Report for ","")}),o.jsxs("p",{className:"text-muted-foreground",children:[e.date,": ",mt(new Date((E=k.body.split("Date of Absence: ")[1])==null?void 0:E.split(`
`)[0]),"dd MMM yyyy")]}),o.jsxs("p",{className:"text-muted-foreground mt-1",children:[e.reason,": ",(O=k.body.split("Reason: ")[1])==null?void 0:O.split(`
---`)[0]]})]},k.id)})}):o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:e.noAbsences})})]})})]}),o.jsx(dr,{open:w,onOpenChange:b,children:o.jsxs(Hn,{className:"sm:max-w-md",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:g==null?void 0:g.name}),o.jsx(ur,{children:e.childDetailsDesc})]}),g&&o.jsx(Ds,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"text-base flex items-center gap-2",children:[o.jsx(Kw,{className:"h-4 w-4"})," ",e.parentContactTitle]})}),o.jsx(ue,{className:"space-y-2 text-sm",children:g.linkedParents&&g.linkedParents.length>0?g.linkedParents.map(k=>o.jsxs("div",{className:"p-2 bg-muted rounded-md",children:[o.jsx("p",{className:"font-semibold",children:k.relationship}),o.jsx("p",{className:"text-muted-foreground",children:"Contact details available from the office."})]},k.parentId)):o.jsx("p",{className:"text-muted-foreground",children:e.noParentsLinked})})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"text-base flex items-center gap-2",children:[o.jsx(Ck,{className:"h-4 w-4"})," ",e.medicalTitle]})}),o.jsx(ue,{className:"text-sm",children:o.jsx("p",{className:"text-muted-foreground",children:g.allergies||e.medicalNone})})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs(_e,{className:"text-base flex items-center gap-2",children:[o.jsx(Mv,{className:"h-4 w-4"})," ",e.profileTitle]})}),o.jsx(ue,{children:g.onePageProfileUrl?o.jsx(W,{variant:"outline",asChild:!0,children:o.jsxs("a",{href:g.onePageProfileUrl,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(NF,{className:"mr-2 h-4 w-4"})," ",e.profileView]})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e.profileNone})})]})]})})]})}),o.jsx(dr,{open:j,onOpenChange:_,children:o.jsxs(Hn,{className:"sm:max-w-md",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:e.awardDatesTitle.replace("{childName}",(g==null?void 0:g.name)||"")}),o.jsx(ur,{children:e.awardDatesDesc})]}),o.jsx(Ds,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-2 py-4",children:y.length>0?y.map(k=>o.jsxs("div",{className:"flex items-center gap-3 rounded-md border p-3",children:[o.jsx(zn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:mt(new Date(k.date),"EEEE, dd MMMM yyyy")})]},k.id)):o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No awards found."})})})]})})]})}var $Q={lessThanXSeconds:{one:"llai na eiliad",other:"llai na {{count}} eiliad"},xSeconds:{one:"1 eiliad",other:"{{count}} eiliad"},halfAMinute:"hanner munud",lessThanXMinutes:{one:"llai na munud",two:"llai na 2 funud",other:"llai na {{count}} munud"},xMinutes:{one:"1 munud",two:"2 funud",other:"{{count}} munud"},aboutXHours:{one:"tua 1 awr",other:"tua {{count}} awr"},xHours:{one:"1 awr",other:"{{count}} awr"},xDays:{one:"1 diwrnod",two:"2 ddiwrnod",other:"{{count}} diwrnod"},aboutXWeeks:{one:"tua 1 wythnos",two:"tua pythefnos",other:"tua {{count}} wythnos"},xWeeks:{one:"1 wythnos",two:"pythefnos",other:"{{count}} wythnos"},aboutXMonths:{one:"tua 1 mis",two:"tua 2 fis",other:"tua {{count}} mis"},xMonths:{one:"1 mis",two:"2 fis",other:"{{count}} mis"},aboutXYears:{one:"tua 1 flwyddyn",two:"tua 2 flynedd",other:"tua {{count}} mlynedd"},xYears:{one:"1 flwyddyn",two:"2 flynedd",other:"{{count}} mlynedd"},overXYears:{one:"dros 1 flwyddyn",two:"dros 2 flynedd",other:"dros {{count}} mlynedd"},almostXYears:{one:"bron 1 flwyddyn",two:"bron 2 flynedd",other:"bron {{count}} mlynedd"}},LQ=function(e,n,r){var s,a=$Q[e];return typeof a=="string"?s=a:n===1?s=a.one:n===2&&a.two?s=a.two:s=a.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"mewn "+s:s+" yn l":s},FQ={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},UQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BQ={full:"{{date}} 'am' {{time}}",long:"{{date}} 'am' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WQ={date:da({formats:FQ,defaultWidth:"full"}),time:da({formats:UQ,defaultWidth:"full"}),dateTime:da({formats:BQ,defaultWidth:"full"})},zQ={lastWeek:"eeee 'diwethaf am' p",yesterday:"'ddoe am' p",today:"'heddiw am' p",tomorrow:"'yfory am' p",nextWeek:"eeee 'am' p",other:"P"},VQ=function(e,n,r,s){return zQ[e]},HQ={narrow:["C","O"],abbreviated:["CC","OC"],wide:["Cyn Crist","Ar l Crist"]},YQ={narrow:["1","2","3","4"],abbreviated:["Ch1","Ch2","Ch3","Ch4"],wide:["Chwarter 1af","2ail chwarter","3ydd chwarter","4ydd chwarter"]},GQ={narrow:["I","Ch","Ma","E","Mi","Me","G","A","Md","H","T","Rh"],abbreviated:["Ion","Chwe","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rhag"],wide:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},qQ={narrow:["S","Ll","M","M","I","G","S"],short:["Su","Ll","Ma","Me","Ia","Gw","Sa"],abbreviated:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],wide:["dydd Sul","dydd Llun","dydd Mawrth","dydd Mercher","dydd Iau","dydd Gwener","dydd Sadwrn"]},KQ={narrow:{am:"b",pm:"h",midnight:"hn",noon:"hd",morning:"bore",afternoon:"prynhawn",evening:"gyda'r nos",night:"nos"},abbreviated:{am:"yb",pm:"yh",midnight:"hanner nos",noon:"hanner dydd",morning:"bore",afternoon:"prynhawn",evening:"gyda'r nos",night:"nos"},wide:{am:"y.b.",pm:"y.h.",midnight:"hanner nos",noon:"hanner dydd",morning:"bore",afternoon:"prynhawn",evening:"gyda'r nos",night:"nos"}},ZQ={narrow:{am:"b",pm:"h",midnight:"hn",noon:"hd",morning:"yn y bore",afternoon:"yn y prynhawn",evening:"gyda'r nos",night:"yn y nos"},abbreviated:{am:"yb",pm:"yh",midnight:"hanner nos",noon:"hanner dydd",morning:"yn y bore",afternoon:"yn y prynhawn",evening:"gyda'r nos",night:"yn y nos"},wide:{am:"y.b.",pm:"y.h.",midnight:"hanner nos",noon:"hanner dydd",morning:"yn y bore",afternoon:"yn y prynhawn",evening:"gyda'r nos",night:"yn y nos"}},XQ=function(e,n){var r=Number(e);if(r<20)switch(r){case 0:return r+"fed";case 1:return r+"af";case 2:return r+"ail";case 3:case 4:return r+"ydd";case 5:case 6:return r+"ed";case 7:case 8:case 9:case 10:case 12:case 15:case 18:return r+"fed";case 11:case 13:case 14:case 16:case 17:case 19:return r+"eg"}else if(r>=50&&r<=60||r===80||r>=100)return r+"fed";return r+"ain"},JQ={ordinalNumber:XQ,era:ms({values:HQ,defaultWidth:"wide"}),quarter:ms({values:YQ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ms({values:GQ,defaultWidth:"wide"}),day:ms({values:qQ,defaultWidth:"wide"}),dayPeriod:ms({values:KQ,defaultWidth:"wide",formattingValues:ZQ,defaultFormattingWidth:"wide"})},QQ=/^(\d+)(af|ail|ydd|ed|fed|eg|ain)?/i,eee=/\d+/i,tee={narrow:/^(c|o)/i,abbreviated:/^(c\.?\s?c\.?|o\.?\s?c\.?)/i,wide:/^(cyn christ|ar l crist|ar ol crist)/i},nee={wide:[/^c/i,/^(ar l crist|ar ol crist)/i],any:[/^c/i,/^o/i]},ree={narrow:/^[1234]/i,abbreviated:/^ch[1234]/i,wide:/^(chwarter 1af)|([234](ail|ydd)? chwarter)/i},see={any:[/1/i,/2/i,/3/i,/4/i]},aee={narrow:/^(i|ch|m|e|g|a|h|t|rh)/i,abbreviated:/^(ion|chwe|maw|ebr|mai|meh|gor|aws|med|hyd|tach|rhag)/i,wide:/^(ionawr|chwefror|mawrth|ebrill|mai|mehefin|gorffennaf|awst|medi|hydref|tachwedd|rhagfyr)/i},oee={narrow:[/^i/i,/^ch/i,/^m/i,/^e/i,/^m/i,/^m/i,/^g/i,/^a/i,/^m/i,/^h/i,/^t/i,/^rh/i],any:[/^io/i,/^ch/i,/^maw/i,/^e/i,/^mai/i,/^meh/i,/^g/i,/^a/i,/^med/i,/^h/i,/^t/i,/^rh/i]},iee={narrow:/^(s|ll|m|i|g)/i,short:/^(su|ll|ma|me|ia|gw|sa)/i,abbreviated:/^(sul|llun|maw|mer|iau|gwe|sad)/i,wide:/^dydd (sul|llun|mawrth|mercher|iau|gwener|sadwrn)/i},lee={narrow:[/^s/i,/^ll/i,/^m/i,/^m/i,/^i/i,/^g/i,/^s/i],wide:[/^dydd su/i,/^dydd ll/i,/^dydd ma/i,/^dydd me/i,/^dydd i/i,/^dydd g/i,/^dydd sa/i],any:[/^su/i,/^ll/i,/^ma/i,/^me/i,/^i/i,/^g/i,/^sa/i]},cee={narrow:/^(b|h|hn|hd|(yn y|y|yr|gyda'r) (bore|prynhawn|nos|hwyr))/i,any:/^(y\.?\s?[bh]\.?|hanner nos|hanner dydd|(yn y|y|yr|gyda'r) (bore|prynhawn|nos|hwyr))/i},dee={any:{am:/^b|(y\.?\s?b\.?)/i,pm:/^h|(y\.?\s?h\.?)|(yr hwyr)/i,midnight:/^hn|hanner nos/i,noon:/^hd|hanner dydd/i,morning:/bore/i,afternoon:/prynhawn/i,evening:/^gyda'r nos$/i,night:/blah/i}},uee={ordinalNumber:t2({matchPattern:QQ,parsePattern:eee,valueCallback:function(e){return parseInt(e,10)}}),era:ps({matchPatterns:tee,defaultMatchWidth:"wide",parsePatterns:nee,defaultParseWidth:"any"}),quarter:ps({matchPatterns:ree,defaultMatchWidth:"wide",parsePatterns:see,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ps({matchPatterns:aee,defaultMatchWidth:"wide",parsePatterns:oee,defaultParseWidth:"any"}),day:ps({matchPatterns:iee,defaultMatchWidth:"wide",parsePatterns:lee,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:cee,defaultMatchWidth:"any",parsePatterns:dee,defaultParseWidth:"any"})},w0={code:"cy",formatDistance:LQ,formatLong:WQ,formatRelative:VQ,localize:JQ,match:uee,options:{weekStartsOn:0,firstWeekContainsDate:1}},fee={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},hee={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pee={date:da({formats:fee,defaultWidth:"full"}),time:da({formats:hee,defaultWidth:"full"}),dateTime:da({formats:mee,defaultWidth:"full"})},ZM={code:"en-GB",formatDistance:JP,formatLong:pee,formatRelative:QP,localize:e2,match:n2,options:{weekStartsOn:1,firstWeekContainsDate:4}};const gee=t=>ys.object({childIds:ys.array(ys.string()).min(1,{message:t.childIds_message}),message:ys.string().min(10,{message:t.message_message})}),yee={en:{formSchema:{childIds_message:"Please select at least one student.",message_message:"The message must be at least 10 characters."},title:"Values Award",description:"Send a personalised values award message to selected students' parents.",backLink:"Back to Dashboard",form:{title:"Create Values Award",description:"Select students and personalise the message. Use [STUDENT_NAME] and [TEACHER_NAME] placeholders.",studentsLabel:"Select Students",messageLabel:"Personalised Message",messagePlaceholder:"e.g., [STUDENT_NAME] has demonstrated excellent perseverance in class today. - [TEACHER_NAME]"},weekOf:"Award for week commencing:",toast:{success:"Values award sent successfully to selected students' parents.",error:"Failed to send values award. Please try again."},submitButton:"Send Award to {count} Student(s)",noStudents:"No students found for your class."},cy:{formSchema:{childIds_message:"Dewiswch o leiaf un plentyn.",message_message:"Rhaid i'r neges fod yn o leiaf 10 nod."},title:"Gwobr Gwerthoedd",description:"Anfonwch neges gwobr gwerthoedd wedi'i phersonoli at rieni'r myfyrwyr a ddewiswyd.",backLink:"Yn l i'r Dangosfwrdd",form:{title:"Creu Gwobr Gwerthoedd",description:"Dewiswch fyfyrwyr a phersonoleiddiwch y neges. Defnyddiwch [STUDENT_NAME] a [TEACHER_NAME].",studentsLabel:"Dewiswch Fyfyrwyr",messageLabel:"Neges wedi'i Phersonoli",messagePlaceholder:"e.e., Mae [STUDENT_NAME] wedi dangos dyfalbarhad rhagorol yn y dosbarth heddiw. - [TEACHER_NAME]"},weekOf:"Gwobr am yr wythnos yn dechrau:",toast:{success:"Anfonwyd y wobr gwerthoedd yn llwyddiannus at rieni'r myfyrwyr a ddewiswyd.",error:"Methwyd  anfon y wobr gwerthoedd. Rhowch gynnig arall arni."},submitButton:"Anfon Gwobr i {count} Myfyriwr",noStudents:"Heb ddod o hyd i fyfyrwyr ar gyfer eich dosbarth."}};function vee(){var w;const{language:t}=Ce(),e=yee[t],{toast:n}=dt(),r=Mo(),[s,a]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState([]),f=!1,m=pH(new Date,{weekStartsOn:1}),p=t==="cy"?w0:ZM,g=t==="cy"?`Annwyl Riant/Gwarcheidwad,

Rydym yn falch iawn o'ch hysbysu, am wythnos ${mt(m,"do MMM",{locale:p})}, bod [STUDENT_NAME] wedi derbyn gwobr gwerthoedd yr ysgol am ddangos caredigrwydd a pharch eithriadol. Rydym yn falch iawn!

Da iawn,
[TEACHER_NAME]`:`Dear Parent/Guardian,

We are delighted to inform you that for the week of ${mt(m,"do MMM",{locale:p})}, [STUDENT_NAME] has received a school values award for demonstrating exceptional kindness and respect. We are very proud!

Well done,
[TEACHER_NAME]`;h.useEffect(()=>{(async()=>{try{const _=await J.getTeacherAndClass("mock-teacher-id-1");if(!_)return;l(_.teacher),d(_.myClass.map(N=>{var S,C;return{id:N.id,name:N.name,parentId:(C=(S=N.linkedParents)==null?void 0:S[0])==null?void 0:C.parentId}}))}catch{}})()},[f]);const x=Tn({resolver:Pn(gee(e.formSchema)),defaultValues:{childIds:[],message:g}});h.useEffect(()=>{x.setValue("message",g.replace(/\[TEACHER_NAME\]|\[ENW_ATHRO\]/g,(i==null?void 0:i.name)||"Teacher"))},[i==null?void 0:i.name,t]);const y=((w=x.watch("childIds"))==null?void 0:w.length)||0,v=async b=>{a(!0);try{const j=c.filter(N=>b.childIds.includes(N.id)),_=new Date().toISOString();for(const N of j){const S=b.message.replace(/\[STUDENT_NAME\]|\[ENW_MYFYRIWR\]/g,N.name).replace(/\[TEACHER_NAME\]|\[ENW_ATHRO\]/g,(i==null?void 0:i.name)||"Teacher");await J.addParentNotification({childId:N.id,childName:N.name,parentId:N.parentId||"parent-1",teacherId:(i==null?void 0:i.userId)||"mock-teacher-id-1",teacherName:(i==null?void 0:i.name)||"Teacher",date:_,type:"Values Award",notes:S,isRead:!1})}n({title:"Success",description:e.toast.success}),r("/teacher/dashboard")}catch(j){console.error(j),n({title:"Error",description:e.toast.error,variant:"destructive"})}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{to:"/teacher/dashboard",className:"flex items-center text-sm text-muted-foreground hover:text-primary",children:[o.jsx(cc,{className:"mr-2 h-4 w-4"}),e.backLink]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsxs(oe,{className:"w-full",children:[o.jsxs(Se,{children:[o.jsx(_e,{children:e.form.title}),o.jsxs(ut,{children:[e.form.description,o.jsxs("span",{className:"block mt-1 text-sm",children:[e.weekOf," ",mt(m,"EEEE, do MMMM yyyy",{locale:p})]})]})]}),o.jsx(ue,{children:o.jsx(An,{...x,children:o.jsxs("form",{onSubmit:x.handleSubmit(v),className:"space-y-8",children:[o.jsx(he,{control:x.control,name:"childIds",render:()=>o.jsxs(me,{children:[o.jsx(de,{children:e.form.studentsLabel}),o.jsx(Ds,{className:"h-64 rounded-md border p-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:c.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:e.noStudents}):c.map(b=>o.jsx(he,{control:x.control,name:"childIds",render:({field:j})=>{var N;const _=(N=j.value)==null?void 0:N.includes(b.id);return o.jsxs(me,{className:"flex items-start space-x-3 space-y-0",children:[o.jsx(ye,{children:o.jsx($o,{checked:_,onCheckedChange:S=>{S===!0?j.onChange([...j.value||[],b.id]):j.onChange((j.value||[]).filter(T=>T!==b.id))}})}),o.jsx(de,{className:"font-normal",children:b.name})]})}},b.id))})})]})}),o.jsx(he,{control:x.control,name:"message",render:({field:b})=>o.jsxs(me,{children:[o.jsx(de,{children:e.form.messageLabel}),o.jsx(ye,{children:o.jsx(Dn,{rows:6,placeholder:e.form.messagePlaceholder,...b})}),o.jsx(Ee,{})]})}),o.jsxs(W,{type:"submit",disabled:s||y===0,children:[s&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),o.jsx(Vm,{className:"mr-2 h-4 w-4"}),e.submitButton.replace("{count}",String(y))]})]})})})]})]})}function xee(){return o.jsx(h.Suspense,{fallback:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(We,{className:"h-8 w-8 animate-spin"})}),children:o.jsx(vee,{})})}const wee=t=>yn({type:cb(["Incident","Achievement","General"],{required_error:t.type_required}),notes:Ke().min(10,{message:t.notes_message}),treatmentGiven:Ke().optional()}),bee={en:{formSchema:{type_required:"Please select a notification type.",notes_message:"Notes must be at least 10 characters."},title:"Send Parent Notification",description:"Send a one-way notification to the parent/guardian of {childName}.",backLink:"Back to Class List",noChild:"No child selected.",goBack:"Go back to dashboard",form:{title:"Notification Details",description:"This will appear on the parent's dashboard immediately.",typeLabel:"Notification Type",typePlaceholder:"Select a type...",typeAchievement:"Achievement",typeIncident:"Incident (e.g., head bump)",typeGeneral:"General Note",notesLabel:"Notes",notesPlaceholder:"Provide details about the achievement, incident, or general note...",treatmentLabel:"Treatment Given (Optional)",treatmentPlaceholder:"e.g., Cold compress applied, cleaned with wipe",submitButton:"Send Notification"},toast:{noChildError:"No child selected.",success:"A notification has been sent to the parent/guardian of {childName}.",error:"Could not send the notification. Please try again."}},cy:{formSchema:{type_required:"Dewiswch fath o hysbysiad.",notes_message:"Rhaid i'r nodiadau fod o leiaf 10 nod."},title:"Anfon Hysbysiad at Riant",description:"Anfonwch hysbysiad unffordd at riant/gwarcheidwad {childName}.",backLink:"Yn l i Restr y Dosbarth",noChild:"Ni ddewiswyd plentyn.",goBack:"Ewch yn l i'r dangosfwrdd",form:{title:"Manylion yr Hysbysiad",description:"Bydd hyn yn ymddangos ar ddangosfwrdd y rhiant ar unwaith.",typeLabel:"Math o Hysbysiad",typePlaceholder:"Dewiswch fath...",typeAchievement:"Cyflawniad",typeIncident:"Digwyddiad (e.e., bump pen)",typeGeneral:"Nodyn Cyffredinol",notesLabel:"Nodiadau",notesPlaceholder:"Rhowch fanylion am y cyflawniad, y digwyddiad, neu'r nodyn cyffredinol...",treatmentLabel:"Triniaeth a Roddwyd (Dewisol)",treatmentPlaceholder:"e.e., Rhoddwyd cywasgiad oer, glanhawyd  chadach",submitButton:"Anfon Hysbysiad"},toast:{noChildError:"Ni ddewiswyd plentyn.",success:"Mae hysbysiad wedi'i anfon at riant/gwarcheidwad {childName}.",error:"Ni ellid anfon yr hysbysiad. Rhowch gynnig arall arni."}}};function jee(){const{language:t}=Ce(),e=bee[t],n=Mo(),[r]=vL(),{toast:s}=dt(),[a,i]=h.useState(!1),[l,c]=h.useState(null),d=!1,f=r.get("childId")||void 0,u=r.get("childName")||void 0;h.useEffect(()=>{(async()=>{try{const v=await J.getTeacherAndClass("mock-teacher-id-1");v&&c(v.teacher)}catch{}})()},[d]);const m=Tn({resolver:Pn(wee(e.formSchema)),defaultValues:{notes:"",treatmentGiven:""}}),p=m.watch("type");async function g(x){if(!f||!u){s({title:"Error",description:e.toast.noChildError,variant:"destructive"});return}i(!0);try{await J.addParentNotification({childId:f,childName:u,parentId:"parent-1",teacherId:(l==null?void 0:l.userId)||"mock-teacher-id-1",teacherName:(l==null?void 0:l.name)||"Teacher",date:new Date().toISOString(),type:x.type,notes:x.notes,treatmentGiven:x.treatmentGiven,isRead:!1}),s({title:"Notification Sent",description:e.toast.success.replace("{childName}",u)}),n("/teacher/outbox")}catch(y){console.error("Failed to send notification:",y),s({title:"Submission Failed",description:e.toast.error,variant:"destructive"})}finally{i(!1)}}return u?o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{to:"/teacher/dashboard",className:"flex items-center text-sm text-muted-foreground hover:text-primary",children:[o.jsx(cc,{className:"mr-2 h-4 w-4"}),e.backLink]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description.replace("{childName}",u)})]}),o.jsxs(oe,{className:"max-w-2xl",children:[o.jsxs(Se,{children:[o.jsx(_e,{children:e.form.title}),o.jsx(ut,{children:e.form.description})]}),o.jsx(ue,{children:o.jsx(An,{...m,children:o.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-8",children:[o.jsx(he,{control:m.control,name:"type",render:({field:x})=>o.jsxs(me,{children:[o.jsx(de,{children:e.form.typeLabel}),o.jsxs(br,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx(ye,{children:o.jsx(sr,{children:o.jsx(jr,{placeholder:e.form.typePlaceholder})})}),o.jsxs(ar,{children:[o.jsx($t,{value:"Achievement",children:e.form.typeAchievement}),o.jsx($t,{value:"Incident",children:e.form.typeIncident}),o.jsx($t,{value:"General",children:e.form.typeGeneral})]})]}),o.jsx(Ee,{})]})}),o.jsx(he,{control:m.control,name:"notes",render:({field:x})=>o.jsxs(me,{children:[o.jsx(de,{children:e.form.notesLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:e.form.notesPlaceholder,...x})}),o.jsx(Ee,{})]})}),p==="Incident"&&o.jsx(he,{control:m.control,name:"treatmentGiven",render:({field:x})=>o.jsxs(me,{children:[o.jsx(de,{children:e.form.treatmentLabel}),o.jsx(ye,{children:o.jsx(De,{placeholder:e.form.treatmentPlaceholder,...x})}),o.jsx(Ee,{})]})}),o.jsxs(W,{type:"submit",disabled:a,children:[a&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e.form.submitButton]})]})})})]})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:e.noChild}),o.jsx(W,{asChild:!0,variant:"link",children:o.jsx(ie,{to:"/teacher/dashboard",children:e.goBack})})]})}function See(){return o.jsx(h.Suspense,{fallback:o.jsx("div",{children:"Loading..."}),children:o.jsx(jee,{})})}const _ee={en:{title:"Sent Messages",description:"A history of notifications you have sent to parents.",newButton:"Send New Notification",sentItems:"Sent Items",filterPlaceholder:"Filter by student...",allStudents:"All Students",emptyTitle:"No Sent Messages",emptyAll:"You haven't sent any notifications yet.",emptyFiltered:"No notifications found for this student.",toParentOf:"To Parent of:",seen:"Seen",delivered:"Delivered",treatment:"Treatment:"},cy:{title:"Negeseuon a Anfonwyd",description:"Hanes yr hysbysiadau rydych wedi'u hanfon at rieni.",newButton:"Anfon Hysbysiad Newydd",sentItems:"Eitemau a Anfonwyd",filterPlaceholder:"Hidlo yn l myfyriwr...",allStudents:"Pob Myfyriwr",emptyTitle:"Dim Negeseuon a Anfonwyd",emptyAll:"Nid ydych wedi anfon unrhyw hysbysiadau eto.",emptyFiltered:"Ni chanfuwyd unrhyw hysbysiadau ar gyfer y myfyriwr hwn.",toParentOf:"At Riant:",seen:"Wedi'i Weld",delivered:"Wedi'i Ddanfon",treatment:"Triniaeth:"}};function Nee(){const{language:t}=Ce(),e=_ee[t],[n,r]=h.useState([]),[s,a]=h.useState(!0),[i,l]=h.useState(null),[c,d]=h.useState([]),[f,u]=h.useState("all"),{toast:m}=dt(),p=!1;h.useEffect(()=>{(async()=>{a(!0);try{let v="mock-teacher-id-1";const b=(await J.getParentNotifications()).filter(_=>_.teacherId===v);r(b.sort((_,N)=>new Date(N.date).getTime()-new Date(_.date).getTime()));const j=await J.getTeacherAndClass(v);j&&(l(j.teacher),d(j.myClass))}catch(v){console.error("Failed to fetch sent notifications:",v),m({title:"Error",description:"Could not load your sent messages.",variant:"destructive"})}finally{a(!1)}})()},[m,p]);const g=h.useMemo(()=>f==="all"?n:n.filter(y=>y.childId===f),[n,f]);if(s)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})});const x={Achievement:o.jsx(bl,{className:"h-6 w-6 text-yellow-500"}),Incident:o.jsx(bl,{className:"h-6 w-6 text-red-500"}),General:o.jsx(bl,{className:"h-6 w-6 text-blue-500"}),"Values Award":o.jsx(Vm,{className:"h-6 w-6 text-purple-500"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx(W,{asChild:!0,children:o.jsxs(ie,{to:"/teacher/dashboard",children:[o.jsx(bl,{className:"mr-2 h-4 w-4"})," ",e.newButton]})})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(_e,{children:e.sentItems}),o.jsx("div",{className:"w-full max-w-xs",children:o.jsxs(br,{value:f,onValueChange:u,children:[o.jsx(sr,{children:o.jsx(jr,{placeholder:e.filterPlaceholder})}),o.jsxs(ar,{children:[o.jsx($t,{value:"all",children:e.allStudents}),c.map(y=>o.jsx($t,{value:y.id,children:y.name},y.id))]})]})})]})}),o.jsx(ue,{children:g.length>0?o.jsx("div",{className:"space-y-4",children:g.map(y=>o.jsx(oe,{children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1",children:x[y.type]}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold",children:[e.toParentOf," ",o.jsx("span",{className:"text-primary",children:y.childName})]}),o.jsx(Vn,{variant:"outline",className:"mt-1",children:y.type})]}),o.jsxs("p",{className:"text-xs text-muted-foreground text-right shrink-0",children:[wp(new Date(y.date),{addSuffix:!0}),o.jsx("br",{}),o.jsx("span",{className:y.isRead?"":"font-bold text-primary",children:y.isRead?e.seen:e.delivered})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-4 whitespace-pre-wrap",children:y.notes}),y.treatmentGiven&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[o.jsx("strong",{children:e.treatment})," ",y.treatmentGiven]})]})]})})},y.id))}):o.jsxs(oe,{className:"text-center p-12 border-dashed",children:[o.jsx(Eu,{className:"mx-auto h-12 w-12 text-muted-foreground"}),o.jsx("h2",{className:"mt-4 text-xl font-semibold",children:e.emptyTitle}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:f==="all"?e.emptyAll:e.emptyFiltered})]})})]})]})}const Cee=()=>{const{language:t}=Ce(),{user:e}=xc(),[n,r]=h.useState([]),[s,a]=h.useState(!0),[i,l]=h.useState(!1),[c,d]=h.useState(null),f=12,u={en:{title:"Photo Gallery",description:"Manage and view school photos",addPhoto:"Add Photo",deletePhoto:"Delete Photo",confirmDelete:"Are you sure you want to delete this photo?",deleteDescription:"This action cannot be undone.",cancel:"Cancel",delete:"Delete",uploadedBy:"Uploaded by",noPhotos:"No photos available"},cy:{title:"Oriel Lluniau",description:"Rheoli a gweld lluniau ysgol",addPhoto:"Ychwanegu Llun",deletePhoto:"Dileu Llun",confirmDelete:"Ydych chi'n sir eich bod am ddileu'r llun hwn?",deleteDescription:"Ni ellir dadwneud y weithred hon.",cancel:"Canslo",delete:"Dileu",uploadedBy:"Wedi'i lwytho gan",noPhotos:"Dim lluniau ar gael"}},m=async(y=!1)=>{y&&(a(!0),d(void 0));try{const{data:v,lastDoc:w}=await J.getPaginatedPhotos(f,y?void 0:c);r(y?v:b=>[...b,...v]),d(w)}catch(v){console.error("Error fetching photos:",v)}finally{a(!1)}};h.useEffect(()=>{m(!0)},[]);const p=async y=>{try{await J.deletePhoto(y),await m(!0)}catch(v){console.error("Error deleting photo:",v)}},g=()=>{l(!1),m(!0)},x=()=>{m(!1)};return s?o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):o.jsx("div",{className:"container mx-auto p-6",children:o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx(_e,{className:"text-2xl font-bold",children:u[t].title}),o.jsx("p",{className:"text-muted-foreground mt-2",children:u[t].description})]}),o.jsxs(dr,{open:i,onOpenChange:l,children:[o.jsx(Li,{asChild:!0,children:o.jsxs(W,{children:[o.jsx(DF,{className:"h-4 w-4 mr-2"}),u[t].addPhoto]})}),o.jsxs(Hn,{className:"max-w-2xl",children:[o.jsx(Yn,{children:o.jsx(Gn,{children:u[t].addPhoto})}),o.jsx(KM,{onSuccess:g})]})]})]})}),o.jsx(ue,{children:n.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:u[t].noPhotos})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(y=>o.jsxs(oe,{className:"overflow-hidden",children:[o.jsx("div",{className:"aspect-square relative",children:o.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full h-full object-cover"})}),o.jsxs(ue,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-sm mb-2 line-clamp-2",children:y.title}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:y.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Vn,{variant:"secondary",className:"text-xs",children:[u[t].uploadedBy,": ",y.uploadedBy]}),o.jsxs(Pa,{children:[o.jsx(aY,{asChild:!0,children:o.jsx(W,{variant:"destructive",size:"sm",children:o.jsx(ns,{className:"h-3 w-3"})})}),o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:u[t].deletePhoto}),o.jsxs(Ws,{children:[u[t].confirmDelete,o.jsx("br",{}),u[t].deleteDescription]})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:u[t].cancel}),o.jsx(zs,{onClick:()=>p(y.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u[t].delete})]})]})]})]})]})]},y.id))}),n.length>=f&&o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx(W,{variant:"outline",onClick:x,disabled:s,children:s?"Loading...":"Load More"})})]})})]})})};function kee(){return o.jsxs("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(ie,{to:"/",className:"text-sm text-muted-foreground hover:text-primary",children:" Back to Public Site"})}),o.jsxs(oe,{className:"w-full max-w-md shadow-2xl border-0",children:[o.jsxs(Se,{className:"text-center pt-8 pb-6",children:[o.jsx(ie,{to:"/",className:"mx-auto mb-4 flex items-center justify-center",children:o.jsx("img",{src:"/logo.png",alt:"School logo",className:"h-16 w-16"})}),o.jsx(_e,{className:"font-headline text-2xl mb-2",children:"Teacher Portal Login"}),o.jsx(ut,{children:"Access your teacher dashboard and manage your classroom activities."})]}),o.jsx(ue,{children:o.jsx(Zb,{userRole:"teacher"})})]})]})}function Eee(){return o.jsxs("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 p-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx(ie,{to:"/",className:"text-sm text-muted-foreground hover:text-primary",children:" Back to Public Site"})}),o.jsxs(oe,{className:"w-full max-w-md shadow-2xl border-0",children:[o.jsxs(Se,{className:"text-center pt-8 pb-6",children:[o.jsx(ie,{to:"/",className:"mx-auto mb-4 flex items-center justify-center",children:o.jsx("img",{src:"/logo.png",alt:"School logo",className:"h-16 w-16"})}),o.jsx(_e,{className:"font-headline text-2xl mb-2",children:"Admin Portal Login"}),o.jsx(ut,{children:"Access your admin dashboard and manage school operations."})]}),o.jsx(ue,{children:o.jsx(Zb,{userRole:"admin"})})]})]})}function Tee(){const[t,e]=h.useState([]),[n,r]=h.useState([]),[s,a]=h.useState(!0),{toast:i}=dt(),{language:l}=Ce(),{autoStartForNewUsers:c,isTutorialCompleted:d}=Ar();h.useEffect(()=>{(async()=>{try{a(!0);const[w,b]=await Promise.all([J.getChildren(),J.getParents()]);e(w),r(b)}catch(w){console.error(w),i({title:"Error",description:"Failed to load students.",variant:"destructive"})}finally{a(!1)}})()},[i]);const f=async()=>{try{const[v,w]=await Promise.all([J.getChildren(),J.getParents()]);e(v),r(w)}catch(v){console.error(v),i({title:"Error",description:"Failed to refresh data.",variant:"destructive"})}},u=async()=>{await f(),setIsDialogOpen(!1),setSelectedChild(null),i({title:"Success",description:selectedChild?"Student updated successfully.":"Student enrolled successfully."})},m=()=>{setSelectedChild(null),setIsDialogOpen(!0)},p=v=>{setSelectedChild(v),setIsDialogOpen(!0)},g=v=>{setDeleteTarget(v),setIsDeleteOpen(!0)},x=async()=>{if(deleteTarget)try{setIsDeleting(!0),await J.deleteChild(deleteTarget.id),await f(),i({title:"Deleted",description:"Student deleted successfully."})}catch(v){console.error(v),i({title:"Error",description:"Failed to delete student.",variant:"destructive"})}finally{setIsDeleting(!1),setIsDeleteOpen(!1),setDeleteTarget(null)}},y=[{id:"children-management",title:l==="en"?"Children Management":"Rheoli Plant",description:l==="en"?"Learn how to manage student records and enrollment information.":"Dysgwch sut i reoli cofnodion myfyrwyr a gwybodaeth cofrestru.",steps:[{id:"overview",target:'[data-tutorial="children-overview"]',title:l==="en"?"Children Management Overview":"Trosolwg Rheoli Plant",content:l==="en"?"This is your student management center where you can enroll new students, update records, and manage class assignments.":"Dyma eich canolfan rheoli myfyrwyr lle gallwch gofrestru myfyrwyr newydd, diweddaru cofnodion, a rheoli aseiniadau dosbarth.",position:"bottom"},{id:"add-child",target:'[data-tutorial="add-child-button"]',title:l==="en"?"Enrolling Students":"Cofrestru Myfyrwyr",content:l==="en"?"Click this button to enroll a new student with their personal information, emergency contacts, and class assignment.":"Cliciwch y botwm hwn i gofrestru myfyriwr newydd gyda'u gwybodaeth bersonol, cysylltiadau brys, ac aseiniad dosbarth.",position:"left",action:"click"}]}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"children-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Children Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage student records and enrollment information."})]}),o.jsxs(dr,{open:isDialogOpen,onOpenChange:v=>{setIsDialogOpen(v),v||setSelectedChild(null)},children:[o.jsx(Li,{asChild:!0,children:o.jsxs(W,{"data-tutorial":"add-child-button",onClick:m,children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Enroll Student"]})}),o.jsxs(Hn,{className:"sm:max-w-[650px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsxs(Gn,{children:[selectedChild?"Edit":"Enrol"," Student"]}),o.jsx(ur,{children:selectedChild?"Update the student details below.":"Fill in the details to enrol a new student."})]}),o.jsx(jW,{onSuccess:u,existingChild:selectedChild,allParents:n})]})]})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:"Enrolled Students"}),o.jsx(ut,{children:"A list of all enrolled students."})]}),o.jsx(ue,{children:s?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Name"}),o.jsx(Ne,{children:"Class"}),o.jsx(Ne,{children:"Parent/Guardian"}),o.jsx(Ne,{className:"text-right",children:"Actions"})]})}),o.jsx(cr,{children:t.length>0?t.map(v=>{const w=(v.linkedParents||[]).map(b=>{var j;return((j=n.find(_=>_.id===b.parentId))==null?void 0:j.name)||""}).filter(Boolean);return o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:v.name}),o.jsx(ge,{children:v.yearGroup||""}),o.jsx(ge,{children:w.length?w.join(", "):""}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsxs(Lt,{onClick:()=>p(v),children:[o.jsx(fc,{className:"mr-2 h-4 w-4"})," Edit"]}),o.jsxs(Lt,{onClick:()=>g(v),children:[o.jsx(ns,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},v.id)}):o.jsx(rt,{children:o.jsx(ge,{colSpan:4,className:"h-24 text-center",children:'No students enrolled yet. Click "Enroll Student" to get started.'})})})]})})})]})]}),o.jsx(Pa,{open:isDeleteOpen,onOpenChange:setIsDeleteOpen,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Delete Student"}),o.jsx(Ws,{children:"This will permanently remove the student record and unlink from parents. Continue?"})]}),o.jsxs(Us,{children:[o.jsx(Vs,{disabled:isDeleting,children:"Cancel"}),o.jsxs(zs,{onClick:x,disabled:isDeleting,children:[isDeleting?o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})]})]})}),o.jsx($s,{tutorials:y,position:"bottom-right"})]})}const Pee=t=>yn({childId:Ke(),relationship:Ke().min(2,{message:t.relationship_message})}),Aee=t=>yn({name:Ke().min(2,{message:t.name_message}),email:Ke().email({message:t.email_message}),phone:Ke().optional(),linkedChildren:Si(Pee(t)).default([])}),Dee={en:{formSchema:{relationship_message:"Relationship is required.",name_message:"Name must be at least 2 characters.",email_message:"A valid email is required."},parentName:"Parent's Full Name",parentNamePlaceholder:"e.g., Jane Doe",parentEmail:"Parent's Email Address",parentEmailPlaceholder:"e.g., jane.doe@email.com",parentEmailDesc:"This will be their username for the Parent Portal.",parentPhone:"Mobile Number (Optional)",parentPhonePlaceholder:"e.g., 07123456789",parentPhoneDesc:"Used for SMS alerts in the future.",linkedChildren:"Linked Children",linkedChildrenDesc:"Select children and specify the relationship.",childSearchPlaceholder:"Search for a child to link...",relationshipPlaceholder:"Relationship",toastSuccess:{update:{title:"Success!",description:"Parent account has been updated."},add:{title:"Success!",description:"Parent account has been created."}},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitUpdate:"Update Parent",submitAdd:"Add Parent"},cy:{formSchema:{relationship_message:"Mae angen perthynas.",name_message:"Rhaid i'r enw fod o leiaf 2 nod.",email_message:"Mae angen cyfeiriad e-bost dilys."},parentName:"Enw Llawn y Rhiant",parentNamePlaceholder:"e.e., Sin Jones",parentEmail:"Cyfeiriad E-bost y Rhiant",parentEmailPlaceholder:"e.e., sian.jones@email.com",parentEmailDesc:"Hwn fydd eu henw defnyddiwr ar gyfer Porth y Rieni.",parentPhone:"Rhif Ffn Symudol (Dewisol)",parentPhonePlaceholder:"e.e., 07123456789",parentPhoneDesc:"Defnyddir ar gyfer rhybuddion SMS yn y dyfodol.",linkedChildren:"Plant Cysylltiedig",linkedChildrenDesc:"Dewiswch blant a nodwch y berthynas.",childSearchPlaceholder:"Chwilio am blentyn i'w gysylltu...",relationshipPlaceholder:"Perthynas",toastSuccess:{update:{title:"Llwyddiant!",description:"Mae cyfrif y rhiant wedi'i ddiweddaru."},add:{title:"Llwyddiant!",description:"Mae cyfrif rhiant newydd wedi'i greu."}},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Ceisiwch eto."},submitUpdate:"Diweddaru Rhiant",submitAdd:"Ychwanegu Rhiant"}};function Mee({onSuccess:t,existingParent:e,allChildren:n}){const{language:r}=Ce(),s=Dee[r],{toast:a}=dt(),[i,l]=h.useState(!1),[c,d]=h.useState(""),f=Tn({resolver:Pn(Aee(s.formSchema)),defaultValues:{name:"",email:"",phone:"",linkedChildren:[]}}),{fields:u,append:m,remove:p}=Gv({control:f.control,name:"linkedChildren"});h.useEffect(()=>{if(e){const y=n.filter(v=>{var w;return(w=v.linkedParents)==null?void 0:w.some(b=>b.parentId===e.id)}).map(v=>{var b,j;const w=((j=(b=v.linkedParents)==null?void 0:b.find(_=>_.parentId===e.id))==null?void 0:j.relationship)||"";return{childId:v.id,relationship:w}});f.reset({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",linkedChildren:y})}else f.reset({name:"",email:"",phone:"",linkedChildren:[]})},[e,n,f]);const g=async y=>{var v,w;l(!0);try{const b={name:y.name,email:y.email,phone:y.phone};let j;e?(j=e.id,await J.updateParent(j,b)):j=await J.addParent(b);const _=new Map(y.linkedChildren.map(S=>[S.childId,S.relationship])),N=new Map(n.filter(S=>{var C;return(C=S.linkedParents)==null?void 0:C.some(T=>T.parentId===j)}).map(S=>{var C,T;return[S.id,((T=(C=S.linkedParents)==null?void 0:C.find(k=>k.parentId===j))==null?void 0:T.relationship)||""]}));for(const S of n){const C=N.has(S.id),T=_.has(S.id);if(C&&!T){const k=(v=S.linkedParents)==null?void 0:v.filter(E=>E.parentId!==j);await J.updateChild(S.id,{linkedParents:k})}else if(!C&&T){const k={parentId:j,relationship:_.get(S.id)},E=[...S.linkedParents||[],k];await J.updateChild(S.id,{linkedParents:E})}else if(C&&T){const k=_.get(S.id),E=N.get(S.id);if(k!==E){const O=(w=S.linkedParents)==null?void 0:w.map(P=>P.parentId===j?{...P,relationship:k}:P);await J.updateChild(S.id,{linkedParents:O})}}}a(e?s.toastSuccess.update:s.toastSuccess.add),t()}catch(b){console.error("Error submitting form:",b),a(s.toastError)}finally{l(!1)}},x=n.filter(y=>y.name.toLowerCase().includes(c.toLowerCase()));return o.jsx(Ds,{className:"max-h-[80vh] px-6",children:o.jsx(An,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-6 pt-2 pb-6",children:[o.jsx(he,{control:f.control,name:"name",render:({field:y})=>o.jsxs(me,{children:[o.jsx(de,{children:s.parentName}),o.jsx(ye,{children:o.jsx(De,{placeholder:s.parentNamePlaceholder,...y})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:f.control,name:"email",render:({field:y})=>o.jsxs(me,{children:[o.jsx(de,{children:s.parentEmail}),o.jsx(ye,{children:o.jsx(De,{placeholder:s.parentEmailPlaceholder,type:"email",...y})}),o.jsx(It,{children:s.parentEmailDesc}),o.jsx(Ee,{})]})}),o.jsx(he,{control:f.control,name:"phone",render:({field:y})=>o.jsxs(me,{children:[o.jsx(de,{children:s.parentPhone}),o.jsx(ye,{children:o.jsx(De,{placeholder:s.parentPhonePlaceholder,type:"tel",...y})}),o.jsx(It,{children:s.parentPhoneDesc}),o.jsx(Ee,{})]})}),o.jsx(Rn,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(de,{children:s.linkedChildren}),o.jsx(It,{children:s.linkedChildrenDesc}),o.jsx(De,{placeholder:s.childSearchPlaceholder,value:c,onChange:y=>d(y.target.value),className:"mb-2"}),o.jsx(Ds,{className:"h-40 w-full rounded-md border",children:o.jsx("div",{className:"p-4",children:x.map((y,v)=>{const w=u.findIndex(j=>j.childId===y.id),b=w!==-1;return o.jsxs("div",{className:"flex flex-row items-center gap-4 mb-2",children:[o.jsx($o,{id:`child-${y.id}`,checked:b,onCheckedChange:j=>{j?m({childId:y.id,relationship:""}):p(w)}}),o.jsxs("label",{htmlFor:`child-${y.id}`,className:"text-sm font-normal flex-grow",children:[y.name," (",y.yearGroup,")"]}),b&&o.jsx(he,{control:f.control,name:`linkedChildren.${w}.relationship`,render:({field:j})=>o.jsx(ye,{children:o.jsx(De,{...j,placeholder:s.relationshipPlaceholder,className:"h-8"})})})]},y.id)})})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:i,children:[i&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e?s.submitUpdate:s.submitAdd]})})]})})})}function Oee(){const[t,e]=h.useState([]),[n,r]=h.useState([]),[s,a]=h.useState(!0),{toast:i}=dt(),{language:l}=Ce(),{autoStartForNewUsers:c,isTutorialCompleted:d}=Ar();h.useEffect(()=>{(async()=>{try{a(!0);const[w,b]=await Promise.all([J.getParents(),J.getChildren()]);e(w),r(b)}catch(w){console.error(w),i({title:"Error",description:"Failed to load parent data.",variant:"destructive"})}finally{a(!1)}})()},[i]);const f=async()=>{try{const[v,w]=await Promise.all([J.getParents(),J.getChildren()]);e(v),r(w)}catch(v){console.error(v),i({title:"Error",description:"Failed to refresh data.",variant:"destructive"})}},u=async()=>{await f(),setIsDialogOpen(!1),setSelectedParent(null),i({title:"Success",description:selectedParent?"Parent updated successfully.":"Parent created successfully."})},m=()=>{setSelectedParent(null),setIsDialogOpen(!0)},p=v=>{setSelectedParent(v),setIsDialogOpen(!0)},g=v=>{setDeleteTarget(v),setIsDeleteOpen(!0)},x=async()=>{if(deleteTarget)try{setIsDeleting(!0),await J.deleteParent(deleteTarget.id),await f(),i({title:"Deleted",description:"Parent deleted successfully."})}catch(v){console.error(v),i({title:"Error",description:"Failed to delete parent.",variant:"destructive"})}finally{setIsDeleting(!1),setIsDeleteOpen(!1),setDeleteTarget(null)}},y=[{id:"parents-management",title:l==="en"?"Parents Management":"Rheoli Rhieni",description:l==="en"?"Learn how to manage parent accounts and contact information.":"Dysgwch sut i reoli cyfrifon rhieni a gwybodaeth gyswllt.",steps:[{id:"overview",target:'[data-tutorial="parents-overview"]',title:l==="en"?"Parents Management Overview":"Trosolwg Rheoli Rhieni",content:l==="en"?"This is your parent management center where you can create parent accounts, update contact information, and manage access permissions.":"Dyma eich canolfan rheoli rhieni lle gallwch greu cyfrifon rhieni, diweddaru gwybodaeth gyswllt, a rheoli caniatdau mynediad.",position:"bottom"},{id:"add-parent",target:'[data-tutorial="add-parent-button"]',title:l==="en"?"Adding Parent Accounts":"Ychwanegu Cyfrifon Rhieni",content:l==="en"?"Click this button to create a new parent account with contact details and link them to their children.":"Cliciwch y botwm hwn i greu cyfrif rhiant newydd gyda manylion cyswllt a'u cysylltu 'u plant.",position:"left",action:"click"}]}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"parents-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Parents Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage parent accounts and contact information."})]}),o.jsxs(dr,{open:isDialogOpen,onOpenChange:v=>{setIsDialogOpen(v),v||setSelectedParent(null)},children:[o.jsx(Li,{asChild:!0,children:o.jsxs(W,{"data-tutorial":"add-parent-button",onClick:m,children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Add Parent Account"]})}),o.jsxs(Hn,{className:"sm:max-w-[650px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsxs(Gn,{children:[selectedParent?"Edit":"Create"," Parent"]}),o.jsx(ur,{children:selectedParent?"Update the parent details below.":"Fill in the details to create a new parent account."})]}),o.jsx(Mee,{onSuccess:u,existingParent:selectedParent,allChildren:n})]})]})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:"Parent Accounts"}),o.jsx(ut,{children:"A list of all parent accounts and their contact information."})]}),o.jsx(ue,{children:s?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Name"}),o.jsx(Ne,{children:"Email"}),o.jsx(Ne,{children:"Children"}),o.jsx(Ne,{className:"text-right",children:"Actions"})]})}),o.jsx(cr,{children:t.length>0?t.map(v=>{const w=n.filter(b=>{var j;return(j=b.linkedParents)==null?void 0:j.some(_=>_.parentId===v.id)}).map(b=>b.name);return o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:v.name}),o.jsx(ge,{children:v.email}),o.jsx(ge,{children:w.length?w.join(", "):""}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsxs(Lt,{onClick:()=>p(v),children:[o.jsx(fc,{className:"mr-2 h-4 w-4"})," Edit"]}),o.jsxs(Lt,{onClick:()=>g(v),children:[o.jsx(ns,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},v.id)}):o.jsx(rt,{children:o.jsx(ge,{colSpan:4,className:"h-24 text-center",children:'No parent accounts found. Click "Add Parent Account" to get started.'})})})]})})})]})]}),o.jsx(Pa,{open:isDeleteOpen,onOpenChange:setIsDeleteOpen,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Delete Parent"}),o.jsx(Ws,{children:"This will permanently remove the parent account. Linked relationships from children will also be removed. Continue?"})]}),o.jsxs(Us,{children:[o.jsx(Vs,{disabled:isDeleting,children:"Cancel"}),o.jsxs(zs,{onClick:x,disabled:isDeleting,children:[isDeleting?o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})]})]})}),o.jsx($s,{tutorials:y,position:"bottom-right"})]})}const Ree=["Leadership Team","Nursery & Reception","Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Support Staff"],Iee=t=>yn({name:Ke().min(2,{message:t.name_message}),role:Ke().min(2,{message:t.role_message}),team:Ke({required_error:t.team_required_error}),bio:Ke().optional(),photo:Ri().optional(),email:Ke().email({message:t.email_message}).optional().or(ZE("")),portalAccess:cb(["none","teacher","admin"]).default("none")}).refine(e=>!(e.portalAccess!=="none"&&!e.email),{message:"Email is required to grant portal access.",path:["email"]}),$ee={en:{formSchema:{name_message:"Name must be at least 2 characters.",role_message:"Role must be at least 2 characters.",team_required_error:"Please select a team.",email_message:"Please enter a valid email address."},nameLabel:"Full Name",namePlaceholder:"e.g., Jane Doe",roleLabel:"Role / Title",rolePlaceholder:"e.g., Headteacher",teamLabel:"Team / Year Group",teamPlaceholder:"Select a team",bioLabel:"Bio (Optional)",bioPlaceholder:"A short introduction...",photoLabel:"Profile Photo (Optional)",photoDesc:"Upload a photo of the staff member.",portalAccessLabel:"Portal Access",emailLabel:"Staff Member's Email Address",portalAccessRoleLabel:"Portal Role",portalAccessRoleDesc:"Grant this user access to the Teacher or Admin portal.",uploadComplete:"Upload complete!",toastSuccess:{update:{title:"Success!",description:"Staff member has been updated."},add:{title:"Success!",description:"New staff member has been added."}},toastError:{title:"Error",description:"Something went wrong. Please try again."},submitButton:{update:"Update Staff",add:"Add Staff"}},cy:{formSchema:{name_message:"Rhaid i'r enw fod o leiaf 2 nod.",role_message:"Rhaid i'r rl fod o leiaf 2 nod.",team_required_error:"Dewiswch dm.",email_message:"Mewnbynnwch gyfeiriad e-bost dilys."},nameLabel:"Enw Llawn",namePlaceholder:"e.e., Sin Jones",roleLabel:"Rl / Teitl",rolePlaceholder:"e.e., Pennaeth",teamLabel:"Tm / Grp Blwyddyn",teamPlaceholder:"Dewiswch dm",bioLabel:"Bywgraffiad (Dewisol)",bioPlaceholder:"Cyflwyniad byr...",photoLabel:"Llun Proffil (Dewisol)",photoDesc:"Uwchlwythwch lun o'r aelod staff.",portalAccessLabel:"Mynediad Porth",emailLabel:"Cyfeiriad E-bost yr Aelod o Staff",portalAccessRoleLabel:"Rl y Porth",portalAccessRoleDesc:"Caniatu i'r defnyddiwr hwn gael mynediad i borth yr Athro neu'r Gweinyddwr.",uploadComplete:"Wedi'i uwchlwytho'n llwyddiannus!",toastSuccess:{update:{title:"Llwyddiant!",description:"Mae aelod staff wedi'i ddiweddaru."},add:{title:"Llwyddiant!",description:"Mae aelod staff newydd wedi'i ychwanegu."}},toastError:{title:"Gwall",description:"Aeth rhywbeth o'i le. Ceisiwch eto."},submitButton:{update:"Diweddaru Staff",add:"Ychwanegu Staff"}}};function Lee({onSuccess:t,existingStaff:e}){const{language:n}=Ce(),r=$ee[n],{toast:s}=dt(),[a,i]=h.useState(!1),[l,c]=h.useState(null),d=Tn({resolver:Pn(Iee(r.formSchema)),defaultValues:{name:(e==null?void 0:e.name)||"",role:(e==null?void 0:e.role)||"",team:(e==null?void 0:e.team)||"",bio:(e==null?void 0:e.bio)||"",photo:void 0,email:(e==null?void 0:e.email)||"",portalAccess:"none"}}),f=async u=>{i(!0);try{let m=(e==null?void 0:e.photoUrl)||"";const p=u.photo instanceof File?u.photo:null;let g=(e==null?void 0:e.userId)||void 0;p&&(c(0),e!=null&&e.photoUrl&&await Vu(e.photoUrl),m=await zu(p,"staff-photos",y=>{c(y)}),c(100)),!e&&u.portalAccess!=="none"&&u.email&&(g=(await J.createUser(u.email,u.portalAccess)).user.id);const x={name:u.name,role:u.role,team:u.team,bio:u.bio,photoUrl:m,email:u.email,userId:g};e?(await J.updateStaffMember(e.id,x),e.userId&&u.portalAccess!=="none"&&await J.updateUserRole(e.userId,u.portalAccess),s(r.toastSuccess.update)):(await J.addStaffMember(x),s(r.toastSuccess.add)),d.reset(),t()}catch(m){console.error("Error submitting form:",m),s(r.toastError)}finally{i(!1),c(null)}};return o.jsx(An,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[o.jsx(he,{control:d.control,name:"name",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.nameLabel}),o.jsx(ye,{children:o.jsx(De,{placeholder:r.namePlaceholder,...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"role",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.roleLabel}),o.jsx(ye,{children:o.jsx(De,{placeholder:r.rolePlaceholder,...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"team",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.teamLabel}),o.jsxs(br,{onValueChange:u.onChange,defaultValue:u.value,children:[o.jsx(ye,{children:o.jsx(sr,{children:o.jsx(jr,{placeholder:r.teamPlaceholder})})}),o.jsx(ar,{children:Ree.map(m=>o.jsx($t,{value:m,children:m},m))})]}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"bio",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.bioLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:r.bioPlaceholder,className:"min-h-[100px]",...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"photo",render:({field:{onChange:u,...m}})=>o.jsxs(me,{children:[o.jsx(de,{children:r.photoLabel}),o.jsx(ye,{children:o.jsx(De,{type:"file",accept:"image/*",onChange:p=>{var g;return u((g=p.target.files)==null?void 0:g[0])},...m})}),o.jsx(It,{children:r.photoDesc}),l!==null&&l<100&&o.jsx(Cc,{value:l,className:"w-full mt-2"}),l===100&&o.jsxs("div",{className:"flex items-center text-sm text-green-600 mt-2",children:[o.jsx(uc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:r.uploadComplete})]}),o.jsx(Ee,{})]})}),o.jsx(Rn,{}),o.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[o.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[o.jsx(Kd,{className:"h-5 w-5 text-primary"})," ",r.portalAccessLabel]}),o.jsx(he,{control:d.control,name:"email",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.emailLabel}),o.jsx(ye,{children:o.jsx(De,{type:"email",placeholder:"staff.member@example.com",...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"portalAccess",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:r.portalAccessRoleLabel}),o.jsxs(br,{onValueChange:u.onChange,defaultValue:u.value,children:[o.jsx(ye,{children:o.jsx(sr,{children:o.jsx(jr,{placeholder:"Select a role..."})})}),o.jsxs(ar,{children:[o.jsx($t,{value:"none",children:"No Access"}),o.jsx($t,{value:"teacher",children:"Teacher"}),o.jsx($t,{value:"admin",children:"Admin"})]})]}),o.jsx(It,{children:r.portalAccessRoleDesc}),o.jsx(Ee,{})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{type:"submit",disabled:a,children:[a&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e?r.submitButton.update:r.submitButton.add]})})]})})}function Fee(){const[t,e]=h.useState([]),[n,r]=h.useState(!0),[s,a]=h.useState(!1),[i,l]=h.useState(!1),[c,d]=h.useState(null),[f,u]=h.useState(!1),{toast:m}=dt(),{language:p}=Ce(),{autoStartForNewUsers:g,isTutorialCompleted:x}=Ar(),y=async()=>{try{r(!0);const S=await J.getStaff();e(S)}catch(S){console.error("Error fetching staff:",S),m({title:"Error",description:"Failed to load staff data. Please try again.",variant:"destructive"})}finally{r(!1)}};h.useEffect(()=>{y()},[m]);const v=()=>{d(null),a(!0)},w=S=>{d(S),a(!0)},b=S=>{d(S),l(!0)},j=async()=>{if(c)try{u(!0),await J.deleteStaffMember(c.id),m({title:"Success",description:"Staff member has been deleted."}),await y()}catch(S){console.error("Error deleting staff:",S),m({title:"Error",description:"Failed to delete staff member. Please try again.",variant:"destructive"})}finally{u(!1),l(!1),d(null)}},_=async()=>{a(!1),d(null),await y()},N=[{id:"staff-management",title:p==="en"?"Staff Management":"Rheoli Staff",description:p==="en"?"Learn how to manage school staff profiles and information.":"Dysgwch sut i reoli proffiliau a gwybodaeth staff yr ysgol.",steps:[{id:"overview",target:'[data-tutorial="staff-overview"]',title:p==="en"?"Staff Management Overview":"Trosolwg Rheoli Staff",content:p==="en"?"This is your staff management center where you can add, edit, and manage all school staff information.":"Dyma eich canolfan rheoli staff lle gallwch ychwanegu, golygu, a rheoli holl wybodaeth staff yr ysgol.",position:"bottom"},{id:"add-staff",target:'[data-tutorial="add-staff-button"]',title:p==="en"?"Adding Staff Members":"Ychwanegu Aelodau Staff",content:p==="en"?"Click this button to add a new staff member with their profile information, role, and contact details.":"Cliciwch y botwm hwn i ychwanegu aelod staff newydd gyda'u gwybodaeth proffil, rl, a manylion cyswllt.",position:"left",action:"click"}]}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"staff-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Staff Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage school staff profiles and information."})]}),o.jsxs(W,{"data-tutorial":"add-staff-button",onClick:v,children:[o.jsx(Es,{className:"mr-2 h-4 w-4"})," Add Staff Member"]})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:"Staff Members"}),o.jsx(ut,{children:"A list of all school staff members."})]}),o.jsx(ue,{children:n?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{children:"Name"}),o.jsx(Ne,{children:"Role"}),o.jsx(Ne,{children:"Email"}),o.jsx(Ne,{className:"text-right",children:"Actions"})]})}),o.jsx(cr,{children:t.length===0?o.jsx(rt,{children:o.jsx(ge,{colSpan:4,className:"h-24 text-center",children:'No staff members found. Click "Add Staff Member" to get started.'})}):t.map(S=>o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium",children:S.name}),o.jsx(ge,{children:S.role}),o.jsx(ge,{children:S.email||"N/A"}),o.jsx(ge,{className:"text-right",children:o.jsxs(Aa,{children:[o.jsx(Da,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(Ca,{className:"h-4 w-4"})]})}),o.jsxs(Hs,{align:"end",children:[o.jsxs(Lt,{onClick:()=>w(S),children:[o.jsx(fc,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(Lt,{className:"text-destructive",onClick:()=>b(S),children:[o.jsx(ns,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},S.id))})]})})})]})]}),o.jsx($s,{tutorials:N,position:"bottom-right"}),o.jsx(dr,{open:s,onOpenChange:a,children:o.jsxs(Hn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:c?"Edit Staff Member":"Add New Staff Member"}),o.jsx(ur,{children:c?"Update the staff member's information below.":"Fill in the details to add a new staff member to the school."})]}),o.jsx(Lee,{existingStaff:c,onSuccess:_})]})}),o.jsx(Pa,{open:i,onOpenChange:l,children:o.jsxs(Ls,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Delete Staff Member"}),o.jsxs(Ws,{children:["Are you sure you want to delete ",c==null?void 0:c.name,"? This action cannot be undone."]})]}),o.jsxs(Us,{children:[o.jsx(Vs,{children:"Cancel"}),o.jsxs(zs,{onClick:j,disabled:f,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[f&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function Uee(){const{toast:t}=dt(),{language:e}=Ce();Ar();const n=["monday","tuesday","wednesday","thursday","friday"],r={main:"",alt:"",dessert:""},s={monday:{...r},tuesday:{...r},wednesday:{...r},thursday:{...r},friday:{...r}},[a,i]=h.useState(s),[l,c]=h.useState(!0),[d,f]=h.useState(!1);h.useEffect(()=>{let g=!0;return(async()=>{try{c(!0);const y=await J.getWeeklyMenu();if(!g)return;i(y??s)}catch(y){console.error(y),t({title:e==="en"?"Failed to load menu":"Methu llwytho bwydlen",description:e==="en"?"Please try again later.":"Ceisiwch eto yn hwyrach.",variant:"destructive"})}finally{g&&c(!1)}})(),()=>{g=!1}},[e]);const u=(g,x,y)=>{i(v=>({...v,[g]:{...v[g]??r,[x]:y}}))},m=async()=>{try{f(!0),await J.updateWeeklyMenu(a),t({title:e==="en"?"Menu saved":"Bwydlen wedii chadw",description:e==="en"?"Weekly lunch menu updated successfully.":"Diweddarwyd y fwydlen wythnosol yn llwyddiannus."})}catch(g){console.error(g),t({title:e==="en"?"Save failed":"Methodd cadw",description:e==="en"?"Please check your input and try again.":"Gwiriwch eich mewnbwn a rhowch gynnig arall.",variant:"destructive"})}finally{f(!1)}},p=[{id:"menu-management",title:e==="en"?"Menu Management":"Rheoli Bwydlen",description:e==="en"?"Manage weekly lunch menu for the school.":"Rheoli bwydlen cinio wythnosol yr ysgol.",steps:[{id:"overview",target:'[data-tutorial="menu-overview"]',title:e==="en"?"Weekly Menu Overview":"Trosolwg Bwydlen Wythnosol",content:e==="en"?"Edit meals for each weekday and click Save when done.":"Golygu prydau ar gyfer pob diwrnod gwaith a chlicio Cadw pan fyddwch wedi gorffen.",position:"bottom"},{id:"save-menu",target:'[data-tutorial="save-menu-button"]',title:e==="en"?"Save Changes":"Cadw Newidiadau",content:e==="en"?"Click this button to save the weekly menu.":"Cliciwch y botwm hwn i gadwr fwydlen wythnosol.",position:"left",action:"click"}]}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6","data-tutorial":"menu-overview",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ok,{className:"h-7 w-7 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e==="en"?"Weekly Lunch Menu":"Bwydlen Cinio Wythnosol"}),o.jsx("p",{className:"text-muted-foreground",children:e==="en"?"Configure the meals served each day.":"Ffurfweddur prydau a weinir bob dydd."})]})]}),o.jsxs(W,{"data-tutorial":"save-menu-button",onClick:m,disabled:l||d,children:[d&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),e==="en"?"Save Menu":"Cadw Bwydlen"]})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsx(_e,{children:e==="en"?"Weekly Menu":"Bwydlen Wythnosol"}),o.jsx(ut,{children:e==="en"?"Enter main, alternative, and dessert for each weekday.":"Nodwch brif gwrs, dewis arall a phwdin ar gyfer pob diwrnod gwaith."})]}),o.jsx(ue,{children:l?o.jsx("div",{className:"flex justify-center items-center h-40",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(g=>{var x,y,v;return o.jsxs("div",{className:"rounded-md border p-4",children:[o.jsx("h3",{className:"mb-4 text-lg font-semibold capitalize",children:g}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(ot,{htmlFor:`${g}-main`,children:e==="en"?"Main":"Prif Gwrs"}),o.jsx(De,{id:`${g}-main`,placeholder:e==="en"?"e.g. Shepherds Pie":"e.e. Pastai Bugail",value:((x=a==null?void 0:a[g])==null?void 0:x.main)??"",onChange:w=>u(g,"main",w.target.value)})]}),o.jsxs("div",{children:[o.jsx(ot,{htmlFor:`${g}-alt`,children:e==="en"?"Alternative":"Dewis Arall"}),o.jsx(De,{id:`${g}-alt`,placeholder:e==="en"?"e.g. Jacket Potato with Beans":"e.e. Tatws Jac gyda Ffa",value:((y=a==null?void 0:a[g])==null?void 0:y.alt)??"",onChange:w=>u(g,"alt",w.target.value)})]}),o.jsxs("div",{children:[o.jsx(ot,{htmlFor:`${g}-dessert`,children:e==="en"?"Dessert":"Pwdin"}),o.jsx(De,{id:`${g}-dessert`,placeholder:e==="en"?"e.g. Fruit Salad":"e.e. Salad Ffrwythau",value:((v=a==null?void 0:a[g])==null?void 0:v.dessert)??"",onChange:w=>u(g,"dessert",w.target.value)})]})]})]},g)})})})]})]}),o.jsx($s,{tutorials:p,position:"bottom-right"})]})}function _t({children:t,allowedRoles:e,redirectTo:n}){const r=es(),[s,a]=h.useState(!1),[i,l]=h.useState(!1);return h.useEffect(()=>{const c=localStorage.getItem("isAuthenticated")==="true",d=localStorage.getItem("userRole")||"";l(!!c&&e.includes(d)),a(!0)},[r.pathname,e]),s?i?o.jsx(o.Fragment,{children:t}):o.jsx(ek,{to:n,replace:!0}):null}function Bee(){const t=Mo();return h.useEffect(()=>{(async()=>{try{}catch(r){console.warn("Supabase signout failed:",r)}const n=localStorage.getItem("userRole");localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),n==="parent"?t("/login",{replace:!0}):n==="teacher"?t("/teacher/login",{replace:!0}):t("/",{replace:!0})})()},[t]),o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Logging out..."}),o.jsx("p",{className:"text-muted-foreground",children:"Please wait while we sign you out."})]})})}const yy=1024;function XM(){const[t,e]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${yy-1}px)`),r=()=>{e(window.innerWidth<yy)};return n.addEventListener("change",r),e(window.innerWidth<yy),()=>n.removeEventListener("change",r)},[]),!!t}function kd({className:t,...e}){return o.jsx("div",{className:U("animate-pulse rounded-md bg-muted",t),...e})}function sa(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function c1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wee(...t){return e=>{let n=!1;const r=t.map(s=>{const a=c1(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():c1(t[s],null)}}}}function Bi(...t){return h.useCallback(Wee(...t),t)}function JM(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,zee(s,...e)]}function zee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Vee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wi=Vee.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Hee(t,e){t&&Sa.flushSync(()=>t.dispatchEvent(e))}function Dp(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Yee(t,e=globalThis==null?void 0:globalThis.document){const n=Dp(t);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Gee="DismissableLayer",Px="dismissableLayer.update",qee="dismissableLayer.pointerDownOutside",Kee="dismissableLayer.focusOutside",d1,QM=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eO=h.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=t,d=h.useContext(QM),[f,u]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),g=Bi(e,S=>u(S)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(y),w=f?x.indexOf(f):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=v,_=Jee(S=>{const C=S.target,T=[...d.branches].some(k=>k.contains(C));!j||T||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},m),N=Qee(S=>{const C=S.target;[...d.branches].some(k=>k.contains(C))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},m);return Yee(S=>{w===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(d1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),u1(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=d1)}},[f,m,n,d]),h.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),u1())},[f,d]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(Px,S),()=>document.removeEventListener(Px,S)},[]),o.jsx(Wi.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:sa(t.onFocusCapture,N.onFocusCapture),onBlurCapture:sa(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:sa(t.onPointerDownCapture,_.onPointerDownCapture)})});eO.displayName=Gee;var Zee="DismissableLayerBranch",Xee=h.forwardRef((t,e)=>{const n=h.useContext(QM),r=h.useRef(null),s=Bi(e,r);return h.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Wi.div,{...t,ref:s})});Xee.displayName=Zee;function Jee(t,e=globalThis==null?void 0:globalThis.document){const n=Dp(t),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){tO(qee,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qee(t,e=globalThis==null?void 0:globalThis.document){const n=Dp(t),r=h.useRef(!1);return h.useEffect(()=>{const s=a=>{a.target&&!r.current&&tO(Kee,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u1(){const t=new CustomEvent(Px);document.dispatchEvent(t)}function tO(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Hee(s,a):s.dispatchEvent(a)}var ki=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},ete=Ms[" useId ".trim().toString()]||(()=>{}),tte=0;function nte(t){const[e,n]=h.useState(ete());return ki(()=>{n(r=>r??String(tte++))},[t]),e?`radix-${e}`:""}var rte="Arrow",nO=h.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return o.jsx(Wi.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});nO.displayName=rte;var ste=nO;function ate(t){const[e,n]=h.useState(void 0);return ki(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var b0="Popper",[rO,sO]=JM(b0),[ote,aO]=rO(b0),oO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=h.useState(null);return o.jsx(ote,{scope:e,anchor:r,onAnchorChange:s,children:n})};oO.displayName=b0;var iO="PopperAnchor",lO=h.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=aO(iO,n),i=h.useRef(null),l=Bi(e,i),c=h.useRef(null);return h.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||i.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:o.jsx(Wi.div,{...s,ref:l})});lO.displayName=iO;var j0="PopperContent",[ite,lte]=rO(j0),cO=h.forwardRef((t,e)=>{var re,Ae,Ie,Le,Me,ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=t,y=aO(j0,n),[v,w]=h.useState(null),b=Bi(e,tt=>w(tt)),[j,_]=h.useState(null),N=ate(j),S=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,T=r+(a!=="center"?"-"+a:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(d)?d:[d],O=E.length>0,P={padding:k,boundary:E.filter(dte),altBoundary:O},{refs:M,floatingStyles:L,placement:F,isPositioned:z,middlewareData:R}=vb({strategy:"fixed",placement:T,whileElementsMounted:(...tt)=>yb(...tt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[xb({mainAxis:s+C,alignmentAxis:i}),c&&wb({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?bb():void 0,...P}),c&&jb({...P}),Sb({...P,apply:({elements:tt,rects:fe,availableWidth:vn,availableHeight:xn})=>{const{width:ln,height:A}=fe.reference,I=tt.floating.style;I.setProperty("--radix-popper-available-width",`${vn}px`),I.setProperty("--radix-popper-available-height",`${xn}px`),I.setProperty("--radix-popper-anchor-width",`${ln}px`),I.setProperty("--radix-popper-anchor-height",`${A}px`)}}),j&&Nb({element:j,padding:l}),ute({arrowWidth:S,arrowHeight:C}),m&&_b({strategy:"referenceHidden",...P})]}),[$,V]=fO(F),Q=Dp(g);ki(()=>{z&&(Q==null||Q())},[z,Q]);const be=(re=R.arrow)==null?void 0:re.x,Ge=(Ae=R.arrow)==null?void 0:Ae.y,He=((Ie=R.arrow)==null?void 0:Ie.centerOffset)!==0,[pt,qe]=h.useState();return ki(()=>{v&&qe(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[(Le=R.transformOrigin)==null?void 0:Le.x,(Me=R.transformOrigin)==null?void 0:Me.y].join(" "),...((ze=R.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(ite,{scope:n,placedSide:$,onArrowChange:_,arrowX:be,arrowY:Ge,shouldHideArrow:He,children:o.jsx(Wi.div,{"data-side":$,"data-align":V,...x,ref:b,style:{...x.style,animation:z?void 0:"none"}})})})});cO.displayName=j0;var dO="PopperArrow",cte={top:"bottom",right:"left",bottom:"top",left:"right"},uO=h.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=lte(dO,r),i=cte[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(ste,{...s,ref:n,style:{...s.style,display:"block"}})})});uO.displayName=dO;function dte(t){return t!==null}var ute=t=>({name:"transformOrigin",options:t,fn(e){var y,v,w;const{placement:n,rects:r,middlewareData:s}=e,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,f]=fO(n),u={start:"0%",center:"50%",end:"100%"}[f],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=i?u:`${m}px`,x=`${-c}px`):d==="top"?(g=i?u:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=i?u:`${p}px`):d==="left"&&(g=`${r.floating.width+c}px`,x=i?u:`${p}px`),{data:{x:g,y:x}}}});function fO(t){const[e,n="center"]=t.split("-");return[e,n]}var fte=oO,hte=lO,mte=cO,pte=uO;function gte(t,e){return h.useReducer((n,r)=>e[n][r]??n,t)}var hO=t=>{const{present:e,children:n}=t,r=yte(e),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=Bi(r.ref,vte(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};hO.displayName="Presence";function yte(t){const[e,n]=h.useState(),r=h.useRef(null),s=h.useRef(t),a=h.useRef("none"),i=t?"mounted":"unmounted",[l,c]=gte(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Uf(r.current);a.current=l==="mounted"?d:"none"},[l]),ki(()=>{const d=r.current,f=s.current;if(f!==t){const m=a.current,p=Uf(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ki(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,u=p=>{const x=Uf(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(a.current=Uf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Uf(t){return(t==null?void 0:t.animationName)||"none"}function vte(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xte=Ms[" useInsertionEffect ".trim().toString()]||ki;function wte({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=bte({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const f=h.useRef(t!==void 0);h.useEffect(()=>{const u=f.current;u!==l&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=h.useCallback(f=>{var u;if(l){const m=jte(f)?f(t):f;m!==t&&((u=i.current)==null||u.call(i,m))}else a(f)},[l,t,a,i]);return[c,d]}function bte({defaultProp:t,onChange:e}){const[n,r]=h.useState(t),s=h.useRef(n),a=h.useRef(e);return xte(()=>{a.current=e},[e]),h.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function jte(t){return typeof t=="function"}var Ste=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_te="VisuallyHidden",mO=h.forwardRef((t,e)=>o.jsx(Wi.span,{...t,ref:e,style:{...Ste,...t.style}}));mO.displayName=_te;var Nte=mO,[Mp,Aae]=JM("Tooltip",[sO]),Op=sO(),pO="TooltipProvider",Cte=700,Ax="tooltip.open",[kte,S0]=Mp(pO),gO=t=>{const{__scopeTooltip:e,delayDuration:n=Cte,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=t,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),o.jsx(kte,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};gO.displayName=pO;var vu="Tooltip",[Ete,Rp]=Mp(vu),yO=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=t,c=S0(vu,t.__scopeTooltip),d=Op(e),[f,u]=h.useState(null),m=nte(),p=h.useRef(0),g=i??c.disableHoverableContent,x=l??c.delayDuration,y=h.useRef(!1),[v,w]=wte({prop:r,defaultProp:s??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ax))):c.onClose(),a==null||a(S)},caller:vu}),b=h.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),j=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),_=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),N=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},x)},[x,w]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(fte,{...d,children:o.jsx(Ete,{scope:e,contentId:m,open:v,stateAttribute:b,trigger:f,onTriggerChange:u,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:h.useCallback(()=>{g?_():(window.clearTimeout(p.current),p.current=0)},[_,g]),onOpen:j,onClose:_,disableHoverableContent:g,children:n})})};yO.displayName=vu;var Dx="TooltipTrigger",vO=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rp(Dx,n),a=S0(Dx,n),i=Op(n),l=h.useRef(null),c=Bi(e,l,s.onTriggerChange),d=h.useRef(!1),f=h.useRef(!1),u=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),o.jsx(hte,{asChild:!0,...i,children:o.jsx(Wi.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:sa(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:sa(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:sa(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:sa(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:sa(t.onBlur,s.onClose),onClick:sa(t.onClick,s.onClose)})})});vO.displayName=Dx;var Tte="TooltipPortal",[Dae,Pte]=Mp(Tte,{forceMount:void 0}),Ql="TooltipContent",xO=h.forwardRef((t,e)=>{const n=Pte(Ql,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=t,i=Rp(Ql,t.__scopeTooltip);return o.jsx(hO,{present:r||i.open,children:i.disableHoverableContent?o.jsx(wO,{side:s,...a,ref:e}):o.jsx(Ate,{side:s,...a,ref:e})})}),Ate=h.forwardRef((t,e)=>{const n=Rp(Ql,t.__scopeTooltip),r=S0(Ql,t.__scopeTooltip),s=h.useRef(null),a=Bi(e,s),[i,l]=h.useState(null),{trigger:c,onClose:d}=n,f=s.current,{onPointerInTransitChange:u}=r,m=h.useCallback(()=>{l(null),u(!1)},[u]),p=h.useCallback((g,x)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},w=Ite(v,y.getBoundingClientRect()),b=$te(v,w),j=Lte(x.getBoundingClientRect()),_=Ute([...b,...j]);l(_),u(!0)},[u]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&f){const g=y=>p(y,f),x=y=>p(y,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",x)}}},[c,f,p,m]),h.useEffect(()=>{if(i){const g=x=>{const y=x.target,v={x:x.clientX,y:x.clientY},w=(c==null?void 0:c.contains(y))||(f==null?void 0:f.contains(y)),b=!Fte(v,i);w?m():b&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,i,d,m]),o.jsx(wO,{...t,ref:a})}),[Dte,Mte]=Mp(vu,{isInside:!1}),Ote=_3("TooltipContent"),wO=h.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=t,c=Rp(Ql,n),d=Op(n),{onClose:f}=c;return h.useEffect(()=>(document.addEventListener(Ax,f),()=>document.removeEventListener(Ax,f)),[f]),h.useEffect(()=>{if(c.trigger){const u=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,f]),o.jsx(eO,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:f,children:o.jsxs(mte,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ote,{children:r}),o.jsx(Dte,{scope:n,isInside:!0,children:o.jsx(Nte,{id:c.contentId,role:"tooltip",children:s||r})})]})})});xO.displayName=Ql;var bO="TooltipArrow",Rte=h.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Op(n);return Mte(bO,n).isInside?null:o.jsx(pte,{...s,...r,ref:e})});Rte.displayName=bO;function Ite(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $te(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Lte(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Fte(t,e){const{x:n,y:r}=t;let s=!1;for(let a=0,i=e.length-1;a<e.length;i=a++){const l=e[a],c=e[i],d=l.x,f=l.y,u=c.x,m=c.y;f>r!=m>r&&n<(u-d)*(r-f)/(m-f)+d&&(s=!s)}return s}function Ute(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Bte(e)}function Bte(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const a=e[e.length-1],i=e[e.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Wte=gO,zte=yO,Vte=vO,jO=xO;const Hte=Wte,Yte=zte,Gte=Vte,SO=h.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(jO,{ref:r,sideOffset:e,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));SO.displayName=jO.displayName;const qte="sidebar_state",Kte=60*60*24*7,Zte="16rem",Xte="18rem",Jte="3rem",Qte="b",_O=h.createContext(null);function Ju(){const t=h.useContext(_O);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Ip=h.forwardRef(({defaultOpen:t=!1,open:e,onOpenChange:n,className:r,style:s,children:a,...i},l)=>{const c=XM(),[d,f]=h.useState(!1),[u,m]=h.useState(t),p=e??u,g=h.useCallback(w=>{const b=typeof w=="function"?w(p):w;n?n(b):m(b),document.cookie=`${qte}=${b}; path=/; max-age=${Kte}`},[n,p]),x=h.useCallback(()=>c?f(w=>!w):g(w=>!w),[c,g,f]);h.useEffect(()=>{const w=b=>{b.key===Qte&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),x())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[x]);const y=p?"expanded":"collapsed",v=h.useMemo(()=>({state:y,open:p,setOpen:g,isMobile:c,openMobile:d,setOpenMobile:f,toggleSidebar:x}),[y,p,g,c,d,f,x]);return o.jsx(_O.Provider,{value:v,children:o.jsx(Hte,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":Zte,"--sidebar-width-icon":Jte,...s},className:U("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:a})})})});Ip.displayName="SidebarProvider";const $p=h.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...a},i)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:f}=Ju();return n==="none"?o.jsx("div",{className:U("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...a,children:s}):l?o.jsx(nb,{open:d,onOpenChange:f,...a,children:o.jsx(ep,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Xte},side:t,children:o.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):o.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[o.jsx("div",{className:U("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:U("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});$p.displayName="Sidebar";const ene=h.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=Ju();return o.jsxs(W,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:U("h-7 w-7",t),onClick:a=>{e==null||e(a),s()},...n,children:[o.jsx(EF,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ene.displayName="SidebarTrigger";const tne=h.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=Ju();return o.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:U("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});tne.displayName="SidebarRail";const Lp=h.forwardRef(({className:t,...e},n)=>o.jsx("main",{ref:n,className:U("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Lp.displayName="SidebarInset";const nne=h.forwardRef(({className:t,...e},n)=>o.jsx(De,{ref:n,"data-sidebar":"input",className:U("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));nne.displayName="SidebarInput";const Fp=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"header",className:U("flex flex-col gap-2",t),...e}));Fp.displayName="SidebarHeader";const Up=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"footer",className:U("flex flex-col gap-2 p-2",t),...e}));Up.displayName="SidebarFooter";const uh=h.forwardRef(({className:t,...e},n)=>o.jsx(Rn,{ref:n,"data-sidebar":"separator",className:U("mx-2 w-auto bg-sidebar-border",t),...e}));uh.displayName="SidebarSeparator";const Bp=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"content",className:U("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));Bp.displayName="SidebarContent";const fh=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"group",className:U("relative flex w-full min-w-0 flex-col",t),...e}));fh.displayName="SidebarGroup";const hh=h.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Oi:"div";return o.jsx(s,{ref:r,"data-sidebar":"group-label",className:U("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});hh.displayName="SidebarGroupLabel";const rne=h.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Oi:"button";return o.jsx(s,{ref:r,"data-sidebar":"group-action",className:U("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-red-50 hover:text-red-900 focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",showOnHover&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});rne.displayName="SidebarGroupAction";const mh=h.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"group-content",className:U("w-full text-sm",t),...e}));mh.displayName="SidebarGroupContent";const Wp=h.forwardRef(({className:t,...e},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu",className:U("flex w-full min-w-0 flex-col gap-1",t),...e}));Wp.displayName="SidebarMenu";const oi=h.forwardRef(({className:t,...e},n)=>o.jsx("li",{ref:n,"data-sidebar":"menu-item",className:U("group/menu-item relative",t),...e}));oi.displayName="SidebarMenuItem";const sne=Mi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-red-50 hover:text-red-900 focus-visible:ring-2 active:bg-red-50 active:text-red-900 disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-primary/10 data-[active=true]:font-medium data-[active=true]:text-primary data-[state=open]:hover:bg-red-50 data-[state=open]:hover:text-red-900 group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-primary data-[active=true]:[&>svg]:text-primary",{variants:{variant:{default:"hover:bg-red-50 hover:text-red-900",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-red-50 hover:text-red-900 hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",destructive:"text-destructive-foreground data-[active=true]:bg-destructive/10 data-[active=true]:text-destructive hover:bg-destructive/10 hover:text-destructive [&>svg]:text-destructive-foreground data-[active=true]:[&>svg]:text-destructive"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ii=h.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:a,...i},l)=>{const c=t?Oi:"button",{isMobile:d,state:f}=Ju(),u=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:U(sne({variant:n,size:r}),a),...i});return s?(typeof s=="string"&&(s={children:s}),o.jsxs(Yte,{children:[o.jsx(Gte,{asChild:!0,children:u}),o.jsx(SO,{side:"right",align:"center",hidden:f!=="collapsed"||d,...s})]})):u});ii.displayName="SidebarMenuButton";const ane=h.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const a=e?Oi:"button";return o.jsx(a,{ref:s,"data-sidebar":"menu-action",className:U("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-red-50 hover:text-red-900 focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});ane.displayName="SidebarMenuAction";const _0=h.forwardRef(({className:t,...e},n)=>{const{state:r}=Ju();return o.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:U("ml-auto h-5 min-w-5 flex items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","group-data-[collapsible=icon]:absolute group-data-[collapsible=icon]:right-1 group-data-[collapsible=icon]:top-1 group-data-[collapsible=icon]:bg-destructive group-data-[collapsible=icon]:text-destructive-foreground group-data-[collapsible=icon]:p-0.5","peer-data-[active=true]/menu-button:bg-background peer-data-[active=true]/menu-button:text-foreground","peer-data-[active=true][variant=destructive]/menu-button:bg-destructive-foreground peer-data-[active=true][variant=destructive]/menu-button:text-destructive",t),...e,children:r==="expanded"&&e.children})});_0.displayName="SidebarMenuBadge";const one=h.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=h.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:U("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&o.jsx(kd,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(kd,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});one.displayName="SidebarMenuSkeleton";const ine=h.forwardRef(({className:t,...e},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:U("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));ine.displayName="SidebarMenuSub";const lne=h.forwardRef(({...t},e)=>o.jsx("li",{ref:e,...t}));lne.displayName="SidebarMenuSubItem";const cne=h.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},a)=>{const i=t?Oi:"a";return o.jsx(i,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:U("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-red-50 hover:text-red-900 focus-visible:ring-2 active:bg-red-50 active:text-red-900 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-red-50 data-[active=true]:text-red-900",r),...s})});cne.displayName="SidebarMenuSubButton";function dne(t,e=[]){let n=[];function r(a,i){const l=h.createContext(i),c=n.length;n=[...n,i];const d=u=>{var v;const{scope:m,children:p,...g}=u,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,y=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:y,children:p})};d.displayName=a+"Provider";function f(u,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return h.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,une(s,...e)]}function une(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return h.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function fne(t){const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),h.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Mx=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},hne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N0=hne.reduce((t,e)=>{const n=Tr(`Primitive.${e}`),r=h.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),NO={exports:{}},CO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=h;function mne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pne=typeof Object.is=="function"?Object.is:mne,gne=ec.useState,yne=ec.useEffect,vne=ec.useLayoutEffect,xne=ec.useDebugValue;function wne(t,e){var n=e(),r=gne({inst:{value:n,getSnapshot:e}}),s=r[0].inst,a=r[1];return vne(function(){s.value=n,s.getSnapshot=e,vy(s)&&a({inst:s})},[t,n,e]),yne(function(){return vy(s)&&a({inst:s}),t(function(){vy(s)&&a({inst:s})})},[t]),xne(n),n}function vy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pne(t,n)}catch{return!0}}function bne(t,e){return e()}var jne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bne:wne;CO.useSyncExternalStore=ec.useSyncExternalStore!==void 0?ec.useSyncExternalStore:jne;NO.exports=CO;var Sne=NO.exports;function _ne(){return Sne.useSyncExternalStore(Nne,()=>!0,()=>!1)}function Nne(){return()=>{}}var C0="Avatar",[Cne,Mae]=dne(C0),[kne,kO]=Cne(C0),EO=h.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,a]=h.useState("idle");return o.jsx(kne,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(N0.span,{...r,ref:e})})});EO.displayName=C0;var TO="AvatarImage",PO=h.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=t,i=kO(TO,n),l=Ene(r,a),c=fne(d=>{s(d),i.onImageLoadingStatusChange(d)});return Mx(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(N0.img,{...a,ref:e,src:r}):null});PO.displayName=TO;var AO="AvatarFallback",DO=h.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,a=kO(AO,n),[i,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(N0.span,{...s,ref:e}):null});DO.displayName=AO;function f1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ene(t,{referrerPolicy:e,crossOrigin:n}){const r=_ne(),s=h.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>f1(a,t));return Mx(()=>{l(f1(a,t))},[a,t]),Mx(()=>{const c=u=>()=>{l(u)};if(!a)return;const d=c("loaded"),f=c("error");return a.addEventListener("load",d),a.addEventListener("error",f),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",f)}},[a,n,e]),i}var MO=EO,OO=PO,RO=DO;const Ei=h.forwardRef(({className:t,...e},n)=>o.jsx(MO,{ref:n,className:U("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ei.displayName=MO.displayName;const Ti=h.forwardRef(({className:t,...e},n)=>o.jsx(OO,{ref:n,className:U("aspect-square h-full w-full",t),...e}));Ti.displayName=OO.displayName;const Pi=h.forwardRef(({className:t,...e},n)=>o.jsx(RO,{ref:n,className:U("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Pi.displayName=RO.displayName;function k0({items:t,title:e,className:n,children:r}){const[s,a]=D.useState(!1);return o.jsxs(nb,{open:s,onOpenChange:a,children:[o.jsx(xE,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:U("lg:hidden h-9 w-9",n),children:[o.jsx(Lv,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),o.jsxs(ep,{side:"left",className:"w-[300px] sm:w-[400px] flex flex-col",children:[o.jsx(bE,{children:o.jsx(rb,{className:"text-left",children:e})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"mt-6 flex flex-col space-y-2",children:t.map((i,l)=>{const c=i.icon;return o.jsxs(W,{variant:i.isActive?"secondary":"ghost",className:U("justify-start h-12 px-4",i.isActive&&"bg-secondary"),onClick:()=>{i.onClick?i.onClick():i.href&&(window.location.href=i.href,window.scrollTo({top:0,behavior:"smooth"})),a(!1)},children:[c&&o.jsx(c,{className:"mr-3 h-5 w-5"}),i.title]},l)})})}),r&&o.jsx("div",{className:"mt-auto pt-6 border-t flex-shrink-0",children:r})]})]})}const Tne=()=>{const{language:t,setLanguage:e}=Ce(),r={en:{cy:"Cymraeg",en:"English"},cy:{cy:"Cymraeg",en:"English"}}[t];return o.jsxs("div",{className:"flex items-center gap-1 border rounded-full p-1 text-sm bg-background",children:[o.jsx(W,{variant:t==="cy"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="cy"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("cy"),children:r.cy}),o.jsx("div",{className:"w-px h-4 bg-border"}),o.jsx(W,{variant:t==="en"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="en"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("en"),children:r.en})]})},Pne={en:{title:"Parent Portal",menu:{dashboard:"Dashboard",inbox:"Inbox",calendar:"Calendar",gallery:"Photo Gallery",absence:"Report Absence"},account:{title:"My Account",logout:"Logout",role:"Parent"}},cy:{title:"Porth Rieni",menu:{dashboard:"Dangosfwrdd",inbox:"Mewnflwch",calendar:"Calendr",gallery:"Oriel Ffotograffau",absence:"Riportio Absenoldeb"},account:{title:"Fy Nghyfrif",logout:"Allgofnodi",role:"Rhiant"}}};function Zc({children:t}){const e=es(),{language:n}=Ce(),{userEmail:r}=xc(),s=Pne[n],[a]=h.useState(0),i=[{href:"/dashboard",label:s.menu.dashboard,icon:Ym},{href:"/inbox",label:s.menu.inbox,icon:ks,badge:a},{href:"/calendar",label:s.menu.calendar,icon:zn},{href:"/gallery",label:s.menu.gallery,icon:Hm},{href:"/absence",label:s.menu.absence,icon:Ov}],l=i.map(c=>({title:c.label,href:c.href,icon:c.icon,isActive:e.pathname.startsWith(c.href)}));return o.jsxs(Ip,{defaultOpen:!0,children:[o.jsxs($p,{variant:"sidebar",collapsible:"icon",className:"hidden lg:flex",children:[o.jsx(Fp,{className:"border-b p-4",children:o.jsxs(ie,{to:"/dashboard",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx("img",{src:"/icon.png",alt:"School logo",width:28,height:28,className:"w-7 h-7"}),o.jsx("span",{className:"text-lg font-extrabold tracking-tighter text-foreground group-data-[collapsible=icon]:hidden",children:s.title})]})}),o.jsx(Bp,{children:o.jsx(Wp,{className:"p-2",children:i.map(c=>o.jsx(oi,{children:o.jsx(ii,{asChild:!0,isActive:e.pathname.startsWith(c.href),tooltip:{children:c.label},children:o.jsxs(ie,{to:c.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(c.icon,{}),o.jsx("span",{children:c.label}),c.badge&&c.badge>0?o.jsx(_0,{children:c.badge}):null]})})},c.href))})}),o.jsx(Up,{className:"p-3 border-t border-border/50",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors duration-200 group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:p-2",children:[o.jsxs(Ei,{className:"size-9 ring-2 ring-background shadow-sm",children:[o.jsx(Ti,{src:"https://placehold.co/40x40.png"}),o.jsx(Pi,{className:"bg-primary/10 text-primary font-medium text-sm",children:"PP"})]}),o.jsxs("div",{className:"flex flex-col text-sm group-data-[collapsible=icon]:hidden flex-grow min-w-0",children:[o.jsx("span",{className:"font-semibold text-foreground truncate",children:r||"parent@example.com"}),o.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:s.account.role})]})]}),o.jsx(W,{asChild:!0,variant:"ghost",size:"sm",className:"w-full justify-start group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:px-2 h-9 text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all duration-200 border border-transparent hover:border-destructive/20",children:o.jsxs(ie,{to:"/logout",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"group-data-[collapsible=icon]:hidden font-medium",children:s.account.logout})]})})]})})]}),o.jsx(Lp,{children:o.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(k0,{items:l,title:s.title,children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[o.jsxs(Ei,{className:"size-9",children:[o.jsx(Ti,{src:"https://placehold.co/40x40.png"}),o.jsx(Pi,{className:"bg-primary/10 text-primary font-medium text-sm",children:"PP"})]}),o.jsxs("div",{className:"flex flex-col text-sm",children:[o.jsx("span",{className:"font-semibold text-foreground",children:r||"parent@example.com"}),o.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:s.account.role})]})]}),o.jsx(W,{asChild:!0,variant:"ghost",size:"sm",className:"w-full justify-start h-9 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:o.jsxs(ie,{to:"/logout",className:"flex items-center gap-2",children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:s.account.logout})]})})]})})}),o.jsx("div",{className:"ml-auto",children:o.jsx(Tne,{})})]}),t]})})]})}const Ane=()=>{const{language:t,setLanguage:e}=Ce(),r={en:{cy:"Cymraeg",en:"English"},cy:{cy:"Cymraeg",en:"English"}}[t];return o.jsxs("div",{className:"flex items-center gap-1 border rounded-full p-1 text-sm bg-background",children:[o.jsx(W,{variant:t==="cy"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="cy"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("cy"),children:r.cy}),o.jsx("div",{className:"w-px h-4 bg-border"}),o.jsx(W,{variant:t==="en"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="en"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("en"),children:r.en})]})},Dne={en:{title:"Teacher Portal",menu:{dashboard:"My Class",outbox:"Sent Messages",values:"Values Award",gallery:"Photo Gallery"},account:{title:"My Account",role:"Teacher",logout:"Logout"}},cy:{title:"Porth Athrawon",menu:{dashboard:"Fy Nosbarth",outbox:"Negeseuon a Anfonwyd",values:"Gwobr Gwerthoedd",gallery:"Oriel Lluniau"},account:{title:"Fy Nghyfrif",role:"Athro/Athrawes",logout:"Allgofnodi"}}};function Xc({children:t}){const e=es(),{language:n}=Ce(),{userEmail:r}=xc(),s=Dne[n],a=[{href:"/teacher/dashboard",label:s.menu.dashboard,icon:Ym},{href:"/teacher/outbox",label:s.menu.outbox,icon:Eu},{href:"/teacher/values-award",label:s.menu.values,icon:Vm},{href:"/teacher/gallery",label:s.menu.gallery,icon:Hm}],i=a.map(c=>({title:c.label,href:c.href,icon:c.icon,isActive:e.pathname.startsWith(c.href)})),[l]=h.useState(0);return o.jsxs(Ip,{defaultOpen:!0,children:[o.jsxs($p,{variant:"sidebar",collapsible:"icon",className:"hidden lg:flex",children:[o.jsx(Fp,{className:"border-b p-4",children:o.jsxs(ie,{to:"/teacher/dashboard",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx("img",{src:"/icon.png",alt:"School logo",width:28,height:28,className:"w-7 h-7"}),o.jsx("span",{className:"text-lg font-extrabold tracking-tighter text-foreground group-data-[collapsible=icon]:hidden",children:s.title})]})}),o.jsx(Bp,{children:o.jsx(Wp,{className:"p-2",children:a.map(c=>o.jsx(oi,{children:o.jsx(ii,{asChild:!0,isActive:e.pathname.startsWith(c.href),tooltip:{children:c.label},children:o.jsxs(ie,{to:c.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(c.icon,{}),o.jsx("span",{children:c.label})]})})},c.href))})}),o.jsx(Up,{className:"p-3 border-t border-border/50",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors duration-200 group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:p-2",children:[o.jsxs(Ei,{className:"size-9 ring-2 ring-background shadow-sm",children:[o.jsx(Ti,{src:"https://placehold.co/40x40.png","data-ai-hint":"person avatar"}),o.jsx(Pi,{className:"bg-primary/10 text-primary font-medium text-sm",children:"T"})]}),o.jsxs("div",{className:"flex flex-col text-sm group-data-[collapsible=icon]:hidden flex-grow min-w-0",children:[o.jsx("span",{className:"font-semibold text-foreground truncate",children:r||"Teacher"}),o.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:s.account.role})]})]}),o.jsx(W,{asChild:!0,variant:"ghost",size:"sm",className:"w-full justify-start group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:px-2 h-9 text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all duration-200 border border-transparent hover:border-destructive/20",children:o.jsxs(ie,{to:"/logout",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"group-data-[collapsible=icon]:hidden font-medium",children:s.account.logout})]})})]})})]}),o.jsx(Lp,{children:o.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(k0,{items:i,title:s.title,children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[o.jsxs(Ei,{className:"size-9",children:[o.jsx(Ti,{src:"https://placehold.co/40x40.png"}),o.jsx(Pi,{className:"bg-primary/10 text-primary font-medium text-sm",children:"T"})]}),o.jsxs("div",{className:"flex flex-col text-sm",children:[o.jsx("span",{className:"font-semibold text-foreground",children:r||"Teacher"}),o.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:s.account.role})]})]}),o.jsx(W,{asChild:!0,variant:"ghost",size:"sm",className:"w-full justify-start h-9 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:o.jsxs(ie,{to:"/logout",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:s.account.logout})]})})]})})}),o.jsx("div",{className:"ml-auto",children:o.jsx(Ane,{})})]}),t]})})]})}function Mne(){const{activeTutorial:t,currentStep:e,isActive:n,nextStep:r,previousStep:s,skipTutorial:a,completeTutorial:i}=Ar(),{language:l}=Ce(),[c,d]=h.useState(null),[f,u]=h.useState(null),m=h.useRef(null),g={en:{skip:"Skip Tutorial",previous:"Previous",next:"Next",finish:"Finish",stepOf:"Step {current} of {total}",tip:"Tip:"},cy:{skip:"Hepgor Tiwtorial",previous:"Blaenorol",next:"Nesaf",finish:"Gorffen",stepOf:"Cam {current} o {total}",tip:"Awgrym:"}}[l];if(h.useEffect(()=>{if(!n||!t){d(null),u(null);return}const w=t.steps[e];if(!w)return;const b=document.querySelector(w.target);if(!b){console.warn(`Tutorial target not found: ${w.target}`),r();return}const j=b.getBoundingClientRect(),_=window.pageYOffset||document.documentElement.scrollTop,N=window.pageXOffset||document.documentElement.scrollLeft,S={top:j.top+_,left:j.left+N,width:j.width,height:j.height};d(S);const C=m.current;if(C){const T=C.getBoundingClientRect(),k=w.position||"bottom";let E=S.top,O=S.left;switch(k){case"top":E=S.top-T.height-16,O=S.left+S.width/2-T.width/2;break;case"bottom":E=S.top+S.height+16,O=S.left+S.width/2-T.width/2;break;case"left":E=S.top+S.height/2-T.height/2,O=S.left-T.width-16;break;case"right":E=S.top+S.height/2-T.height/2,O=S.left+S.width+16;break}const P=window.innerWidth,M=window.innerHeight;O<16&&(O=16),O+T.width>P-16&&(O=P-T.width-16),E<16&&(E=16),E+T.height>M-16&&(E=M-T.height-16),u({top:E,left:O,width:T.width,height:T.height})}b.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[n,t,e]),h.useEffect(()=>{if(!n)return;const w=b=>{switch(b.key){case"Escape":a();break;case"ArrowRight":case"Enter":r();break;case"ArrowLeft":s();break}};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n,r,s,a]),!n||!t||!t.steps[e])return null;const x=t.steps[e],y=e===t.steps.length-1,v=g.stepOf.replace("{current}",(e+1).toString()).replace("{total}",t.steps.length.toString());return o.jsxs(o.Fragment,{children:[c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40"}),c&&o.jsx("div",{className:"fixed z-50 border-4 border-blue-500 rounded-lg shadow-lg animate-pulse",style:{top:c.top-4,left:c.left-4,width:c.width+8,height:c.height+8,pointerEvents:"none"}}),o.jsxs("div",{ref:m,className:"fixed z-50 bg-white rounded-lg shadow-xl border max-w-sm p-6",style:f?{top:f.top,left:f.left}:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-gray-600",children:v})]}),o.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",title:g.skip,children:o.jsx(hc,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:x.title}),o.jsx("p",{className:"text-gray-700 mb-3",children:x.content}),x.tip&&o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:g.tip})," ",x.tip]})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:s,disabled:e===0,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(kk,{className:"w-4 h-4"}),o.jsx("span",{children:g.previous})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:[o.jsx(RF,{className:"w-4 h-4"}),o.jsx("span",{children:g.skip})]}),o.jsxs("button",{onClick:y?i:r,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx("span",{children:y?g.finish:g.next}),!y&&o.jsx(Gw,{className:"w-4 h-4"})]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"flex space-x-1",children:t.steps.map((w,b)=>o.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${b<=e?"bg-blue-500":"bg-gray-200"}`},b))})})]})]})}const One=()=>{const{language:t,setLanguage:e}=Ce(),r={en:{lang1:"Cymraeg",lang2:"English"},cy:{lang1:"Cymraeg",lang2:"English"}}[t];return o.jsxs("div",{className:"flex items-center gap-1 border rounded-full p-1 text-sm bg-background",children:[o.jsx(W,{variant:t==="cy"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="cy"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("cy"),children:r.lang1}),o.jsx("div",{className:"w-px h-4 bg-border"}),o.jsx(W,{variant:t==="en"?"default":"ghost",size:"sm",className:`rounded-full px-3 py-1 h-auto text-xs ${t==="en"?"bg-red-100 hover:bg-red-200 text-red-900":""}`,onClick:()=>e("en"),children:r.lang2})]})},Rne={en:{title:"Admin Portal",menu:{dashboard:"Dashboard",inbox:"Inbox"},groups:{content:"Content",users:"Users",system:"System"},contentManagement:{announcements:"Announcements",staff:"Staff",gallery:"Photo Gallery",documents:"Documents",menu:"Lunch Menu"},userManagement:{parents:"Parents",children:"Children",allUsers:"All Users"},settings:{site:"Site Settings",lifecycle:"Content Lifecycle"},account:{title:"My Account",role:"Administrator",logout:"Logout"}},cy:{title:"Porth Gweinyddu",menu:{dashboard:"Dangosfwrdd",inbox:"Mewnflwch"},groups:{content:"Cynnwys",users:"Defnyddwyr",system:"System"},contentManagement:{announcements:"Cyhoeddiadau",staff:"Staff",gallery:"Oriel Ffotograffau",documents:"Dogfennau",menu:"Bwydlen Ginio"},userManagement:{parents:"Rhieni",children:"Plant",allUsers:"Holl Ddefnyddwyr"},settings:{site:"Gosodiadau Gwefan",lifecycle:"Cylchred Bywyd Cynnwys"},account:{title:"Fy Nghyfrif",role:"Gweinyddwr",logout:"Allgofnodi"}}};function Kn({children:t}){const e=es(),{language:n}=Ce(),{userEmail:r}=xc(),s=Rne[n],[a]=h.useState(0),i=[{href:"/admin/dashboard",label:s.menu.dashboard,icon:Ym},{href:"/admin/inbox",label:s.menu.inbox,icon:ks,badge:a}],l=[{href:"/admin/announcements",label:s.contentManagement.announcements,icon:Gd},{href:"/admin/staff",label:s.contentManagement.staff,icon:vo},{href:"/admin/gallery",label:s.contentManagement.gallery,icon:Hm},{href:"/admin/documents",label:s.contentManagement.documents,icon:bs},{href:"/admin/menu",label:s.contentManagement.menu,icon:Pl}],c=[{href:"/admin/parents",label:s.userManagement.parents,icon:ah},{href:"/admin/children",label:s.userManagement.children,icon:sh},{href:"/admin/users",label:s.userManagement.allUsers,icon:vo}],d=[{href:"/admin/settings",label:s.settings.site,icon:Dk}],f=[...i.map(u=>({title:u.label,href:u.href,icon:u.icon,isActive:e.pathname.startsWith(u.href)})),...l.map(u=>({title:u.label,href:u.href,icon:u.icon,isActive:e.pathname.startsWith(u.href)})),...c.map(u=>({title:u.label,href:u.href,icon:u.icon,isActive:e.pathname.startsWith(u.href)})),...d.map(u=>({title:u.label,href:u.href,icon:u.icon,isActive:e.pathname.startsWith(u.href)}))];return o.jsxs(o.Fragment,{children:[o.jsxs(Ip,{defaultOpen:!0,children:[o.jsxs($p,{variant:"sidebar",collapsible:"icon",className:"hidden lg:flex",children:[o.jsx(Fp,{className:"border-b p-4",children:o.jsxs(ie,{to:"/admin/dashboard",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx("img",{src:"/icon.png",alt:"School logo",width:28,height:28,className:"w-7 h-7"}),o.jsx("span",{className:"text-lg font-extrabold tracking-tighter text-foreground group-data-[collapsible=icon]:hidden",children:s.title})]})}),o.jsx(Bp,{children:o.jsxs(Wp,{className:"p-2",children:[i.map(u=>o.jsx(oi,{children:o.jsx(ii,{asChild:!0,isActive:e.pathname.startsWith(u.href),tooltip:{children:u.label},children:o.jsxs(ie,{to:u.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(u.icon,{}),o.jsx("span",{children:u.label}),u.badge&&u.badge>0?o.jsx(_0,{children:u.badge}):null]})})},u.href)),o.jsx(uh,{}),o.jsxs(fh,{children:[o.jsx(hh,{children:s.groups.content}),o.jsx(mh,{children:l.map(u=>o.jsx(oi,{children:o.jsx(ii,{asChild:!0,isActive:e.pathname.startsWith(u.href),tooltip:{children:u.label},children:o.jsxs(ie,{to:u.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(u.icon,{}),o.jsx("span",{children:u.label})]})})},u.href))})]}),o.jsx(uh,{}),o.jsxs(fh,{children:[o.jsx(hh,{children:s.groups.users}),o.jsx(mh,{children:c.map(u=>o.jsx(oi,{children:o.jsx(ii,{asChild:!0,isActive:e.pathname.startsWith(u.href),tooltip:{children:u.label},children:o.jsxs(ie,{to:u.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(u.icon,{}),o.jsx("span",{children:u.label})]})})},u.href))})]}),o.jsx(uh,{}),o.jsxs(fh,{children:[o.jsx(hh,{children:s.groups.system}),o.jsx(mh,{children:d.map(u=>o.jsx(oi,{children:o.jsx(ii,{asChild:!0,isActive:e.pathname.startsWith(u.href),tooltip:{children:u.label},children:o.jsxs(ie,{to:u.href,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(u.icon,{}),o.jsx("span",{children:u.label})]})})},u.href))})]})]})}),o.jsx(Up,{className:"p-3 border-t border-border/50",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors duration-200 group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:p-2",children:[o.jsxs(Ei,{className:"size-9 ring-2 ring-background shadow-sm",children:[o.jsx(Ti,{src:"https://placehold.co/40x40.png"}),o.jsx(Pi,{className:"bg-primary/10 text-primary font-medium text-sm",children:"AD"})]}),o.jsxs("div",{className:"flex flex-col text-sm group-data-[collapsible=icon]:hidden flex-grow min-w-0",children:[o.jsx("span",{className:"font-semibold text-foreground truncate",children:r||"admin@example.com"}),o.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:s.account.role})]})]}),o.jsx(W,{asChild:!0,variant:"ghost",size:"sm",className:"w-full justify-start group-data-[collapsible=icon]:justify-center group-data-[collapsible=icon]:px-2 h-9 text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-all duration-200 border border-transparent hover:border-destructive/20",children:o.jsxs(ie,{to:"/logout",className:"flex items-center gap-2",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"group-data-[collapsible=icon]:hidden font-medium",children:s.account.logout})]})})]})})]}),o.jsx(Lp,{children:o.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(k0,{items:f,title:s.title,children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[o.jsxs(Ei,{className:"size-9",children:[o.jsx(Ti,{src:"https://placehold.co/40x40.png"}),o.jsx(Pi,{className:"bg-primary/10 text-primary font-medium text-sm",children:"AD"})]}),o.jsxs("div",{className:"flex flex-col text-sm",children:[o.jsx("span",{className:"font-semibold text-foreground",children:r||"admin@example.com"}),o.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:s.account.role})]})]}),o.jsx(W,{asChild:!0,variant:"ghost",size:"sm",className:"w-full justify-start h-9 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:o.jsxs(ie,{to:"/logout",className:"flex items-center gap-2",children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:s.account.logout})]})})]})})}),o.jsx("div",{className:"ml-auto",children:o.jsx(One,{})})]}),t]})})]}),o.jsx(Mne,{})]})}function Ine(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const IO=D.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Qu=()=>{const t=D.useContext(IO);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Ine(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function $ne(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Lne(){return E0(/^Mac/)}function Fne(){return E0(/^iPhone/)}function h1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Une(){return E0(/^iPad/)||Lne()&&navigator.maxTouchPoints>1}function $O(){return Fne()||Une()}function E0(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Bne=24,Wne=typeof window<"u"?h.useLayoutEffect:h.useEffect;function m1(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const xy=typeof document<"u"&&window.visualViewport;function p1(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function LO(t){for(p1(t)&&(t=t.parentElement);t&&!p1(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const zne=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Bf=0,wy;function Vne(t={}){let{isDisabled:e}=t;Wne(()=>{if(!e)return Bf++,Bf===1&&$O()&&(wy=Hne()),()=>{Bf--,Bf===0&&(wy==null||wy())}},[e])}function Hne(){let t,e=0,n=u=>{t=LO(u.target),!(t===document.documentElement&&t===document.body)&&(e=u.changedTouches[0].pageY)},r=u=>{if(!t||t===document.documentElement||t===document.body){u.preventDefault();return}let m=u.changedTouches[0].pageY,p=t.scrollTop,g=t.scrollHeight-t.clientHeight;g!==0&&((p<=0&&m>e||p>=g&&m<e)&&u.preventDefault(),e=m)},s=u=>{let m=u.target;Ox(m)&&m!==document.activeElement&&(u.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},a=u=>{let m=u.target;Ox(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",xy&&(xy.height<window.innerHeight?requestAnimationFrame(()=>{g1(m)}):xy.addEventListener("resize",()=>g1(m),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,d=m1(Yne(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=m1(Jc(document,"touchstart",n,{passive:!1,capture:!0}),Jc(document,"touchmove",r,{passive:!1,capture:!0}),Jc(document,"touchend",s,{passive:!1,capture:!0}),Jc(document,"focus",a,!0),Jc(window,"scroll",i));return()=>{d(),f(),window.scrollTo(l,c)}}function Yne(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function Jc(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function g1(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=LO(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom+Bne;a>i&&(n.scrollTop+=s-r)}t=n.parentElement}}function Ox(t){return t instanceof HTMLInputElement&&!zne.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Gne(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qne(...t){return e=>t.forEach(n=>Gne(n,e))}function FO(...t){return h.useCallback(qne(...t),t)}const UO=new WeakMap;function Ht(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([s,a])=>{if(s.startsWith("--")){t.style.setProperty(s,a);return}r[s]=t.style[s],t.style[s]=a}),!n&&UO.set(t,r)}function Kne(t,e){if(!t||!(t instanceof HTMLElement))return;let n=UO.get(t);n&&(t.style[e]=n[e])}const Wt=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Wf(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[Wt(e)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[Wt(e)?5:4]):null)}function Zne(t){return 8*(Math.log(t+1)-2)}function by(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Xne(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const Nt={DURATION:.5,EASE:[.32,.72,0,1]},BO=.4,Jne=.25,Qne=100,WO=8,Yo=16,Rx=26,jy="vaul-dragging";function zO(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function ere({defaultProp:t,onChange:e}){const n=D.useState(t),[r]=n,s=D.useRef(r),a=zO(e);return D.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}function VO({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ere({defaultProp:e,onChange:n}),a=t!==void 0,i=a?t:r,l=zO(n),c=D.useCallback(d=>{if(a){const u=typeof d=="function"?d(t):d;u!==t&&l(u)}else s(d)},[a,t,s,l]);return[i,c]}function tre({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:d}){const[f,u]=VO({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[m,p]=D.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);D.useEffect(()=>{function S(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const g=D.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),x=D.useMemo(()=>{var S;return(S=n==null?void 0:n.findIndex(C=>C===f))!=null?S:null},[n,f]),y=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===f||!n,v=D.useMemo(()=>{const S=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var C;return(C=n==null?void 0:n.map(T=>{const k=typeof T=="string";let E=0;if(k&&(E=parseInt(T,10)),Wt(l)){const P=k?E:m?T*S.height:0;return m?l==="bottom"?S.height-P:-S.height+P:P}const O=k?E:m?T*S.width:0;return m?l==="right"?S.width-O:-S.width+O:O}))!=null?C:[]},[n,m,c]),w=D.useMemo(()=>x!==null?v==null?void 0:v[x]:null,[v,x]),b=D.useCallback(S=>{var C;const T=(C=v==null?void 0:v.findIndex(k=>k===S))!=null?C:null;i(T),Ht(r.current,{transition:`transform ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`,transform:Wt(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`}),v&&T!==v.length-1&&a!==void 0&&T!==a&&T<a?Ht(s.current,{transition:`opacity ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`,opacity:"0"}):Ht(s.current,{transition:`opacity ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`,opacity:"1"}),u(n==null?void 0:n[Math.max(T,0)])},[r.current,n,v,a,s,u]);D.useEffect(()=>{if(f||t){var S;const C=(S=n==null?void 0:n.findIndex(T=>T===t||T===f))!=null?S:-1;v&&C!==-1&&typeof v[C]=="number"&&b(v[C])}},[f,t,n,v,b]);function j({draggedDistance:S,closeDrawer:C,velocity:T,dismissible:k}){if(a===void 0)return;const E=l==="bottom"||l==="right"?(w??0)-S:(w??0)+S,O=x===a-1,P=x===0,M=S>0;if(O&&Ht(s.current,{transition:`opacity ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`}),!d&&T>2&&!M){k?C():b(v[0]);return}if(!d&&T>2&&M&&v&&n){b(v[n.length-1]);return}const L=v==null?void 0:v.reduce((z,R)=>typeof z!="number"||typeof R!="number"?z:Math.abs(R-E)<Math.abs(z-E)?R:z),F=Wt(l)?window.innerHeight:window.innerWidth;if(T>BO&&Math.abs(S)<F*.4){const z=M?1:-1;if(z>0&&g&&n){b(v[n.length-1]);return}if(P&&z<0&&k&&C(),x===null)return;b(v[x+z]);return}b(L)}function _({draggedDistance:S}){if(w===null)return;const C=l==="bottom"||l==="right"?w-S:w+S;(l==="bottom"||l==="right")&&C<v[v.length-1]||(l==="top"||l==="left")&&C>v[v.length-1]||Ht(r.current,{transform:Wt(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function N(S,C){if(!n||typeof x!="number"||!v||a===void 0)return null;const T=x===a-1;if(x>=a&&C)return 0;if(T&&!C)return 1;if(!y&&!T)return null;const E=T?x+1:x-1,O=T?v[E]-v[E-1]:v[E+1]-v[E],P=S/Math.abs(O);return T?1-P:P}return{isLastSnapPoint:g,activeSnapPoint:f,shouldFade:y,getPercentageDragged:N,setActiveSnapPoint:u,activeSnapPointIndex:x,onRelease:j,onDrag:_,snapPointsOffset:v}}const nre=()=>()=>{};function rre(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Qu(),a=D.useRef(null),i=h.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Rx)/window.innerWidth}D.useEffect(()=>{if(e&&n){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Xne(r&&!s?by(document.body,{background:"black"}):nre,by(c,{transformOrigin:Wt(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Nt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Nt.EASE.join(",")})`}));const d=by(c,{borderRadius:`${WO}px`,overflow:"hidden",...Wt(t)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Nt.DURATION*1e3)}}},[e,n,i])}let Qc=null;function sre({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=D.useState(()=>typeof window<"u"?window.location.href:""),c=D.useRef(0),d=D.useCallback(()=>{if(h1()&&Qc===null&&t&&!a){Qc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:u,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-u}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=m-window.innerHeight;p&&c.current>=m&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[t]),f=D.useCallback(()=>{if(h1()&&Qc!==null&&!a){const u=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Qc),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(m,u)}),Qc=null}},[i]);return D.useEffect(()=>{function u(){c.current=window.scrollY}return u(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),D.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[e,f]),D.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&d(),e||window.setTimeout(()=>{f()},500)):f())},[t,r,i,e,n,d,f]),{restorePositionSetting:f}}function are({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Jne,scrollLockTimeout:d=Qne,dismissible:f=!0,handleOnly:u=!1,fadeFromIndex:m=a&&a.length-1,activeSnapPoint:p,setActiveSnapPoint:g,fixed:x,modal:y=!0,onClose:v,nested:w,noBodyStyles:b=!1,direction:j="bottom",defaultOpen:_=!1,disablePreventScroll:N=!0,snapToSequentialPoint:S=!1,preventScrollRestoration:C=!1,repositionInputs:T=!0,onAnimationEnd:k,container:E,autoFocus:O=!1}){var P,M;const[L=!1,F]=VO({defaultProp:_,prop:t,onChange:q=>{e==null||e(q),!q&&!w&&Dt(),setTimeout(()=>{k==null||k(q)},Nt.DURATION*1e3),q&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),q||(document.body.style.pointerEvents="auto")}}),[z,R]=D.useState(!1),[$,V]=D.useState(!1),[Q,be]=D.useState(!1),Ge=D.useRef(null),He=D.useRef(null),pt=D.useRef(null),qe=D.useRef(null),re=D.useRef(null),Ae=D.useRef(!1),Ie=D.useRef(null),Le=D.useRef(0),Me=D.useRef(!1),ze=D.useRef(!_),tt=D.useRef(0),fe=D.useRef(null),vn=D.useRef(((P=fe.current)==null?void 0:P.getBoundingClientRect().height)||0),xn=D.useRef(((M=fe.current)==null?void 0:M.getBoundingClientRect().width)||0),ln=D.useRef(0),A=D.useCallback(q=>{a&&q===Y.length-1&&(He.current=new Date)},[]),{activeSnapPoint:I,activeSnapPointIndex:B,setActiveSnapPoint:ee,onRelease:X,snapPointsOffset:Y,onDrag:ve,shouldFade:Fe,getPercentageDragged:At}=tre({snapPoints:a,activeSnapPointProp:p,setActiveSnapPointProp:g,drawerRef:fe,fadeFromIndex:m,overlayRef:Ge,onSnapPointChange:A,direction:j,container:E,snapToSequentialPoint:S});Vne({isDisabled:!L||$||!y||Q||!z||!T||!N});const{restorePositionSetting:Dt}=sre({isOpen:L,modal:y,nested:w??!1,hasBeenOpened:z,preventScrollRestoration:C,noBodyStyles:b});function wn(){return(window.innerWidth-Rx)/window.innerWidth}function Dc(q){var je,le;!f&&!a||fe.current&&!fe.current.contains(q.target)||(vn.current=((je=fe.current)==null?void 0:je.getBoundingClientRect().height)||0,xn.current=((le=fe.current)==null?void 0:le.getBoundingClientRect().width)||0,V(!0),pt.current=new Date,$O()&&window.addEventListener("touchend",()=>Ae.current=!1,{once:!0}),q.target.setPointerCapture(q.pointerId),Le.current=Wt(j)?q.pageY:q.pageX)}function Ra(q,je){var le;let xe=q;const Qe=(le=window.getSelection())==null?void 0:le.toString(),Oe=fe.current?Wf(fe.current,j):null,tn=new Date;if(xe.tagName==="SELECT"||xe.hasAttribute("data-vaul-no-drag")||xe.closest("[data-vaul-no-drag]"))return!1;if(j==="right"||j==="left")return!0;if(He.current&&tn.getTime()-He.current.getTime()<500)return!1;if(Oe!==null&&(j==="bottom"?Oe>0:Oe<0))return!0;if(Qe&&Qe.length>0)return!1;if(re.current&&tn.getTime()-re.current.getTime()<d&&Oe===0||je)return re.current=tn,!1;for(;xe;){if(xe.scrollHeight>xe.clientHeight){if(xe.scrollTop!==0)return re.current=new Date,!1;if(xe.getAttribute("role")==="dialog")return!0}xe=xe.parentNode}return!0}function Bo(q){if(fe.current&&$){const je=j==="bottom"||j==="right"?1:-1,le=(Le.current-(Wt(j)?q.pageY:q.pageX))*je,xe=le>0,Qe=a&&!f&&!xe;if(Qe&&B===0)return;const Oe=Math.abs(le),tn=document.querySelector("[data-vaul-drawer-wrapper]"),ss=j==="bottom"||j==="top"?vn.current:xn.current;let qn=Oe/ss;const Dr=At(Oe,xe);if(Dr!==null&&(qn=Dr),Qe&&qn>=1||!Ae.current&&!Ra(q.target,xe))return;if(fe.current.classList.add(jy),Ae.current=!0,Ht(fe.current,{transition:"none"}),Ht(Ge.current,{transition:"none"}),a&&ve({draggedDistance:le}),xe&&!a){const as=Zne(le),sf=Math.min(as*-1,0)*je;Ht(fe.current,{transform:Wt(j)?`translate3d(0, ${sf}px, 0)`:`translate3d(${sf}px, 0, 0)`});return}const mr=1-qn;if((Fe||m&&B===m-1)&&(r==null||r(q,qn),Ht(Ge.current,{opacity:`${mr}`,transition:"none"},!0)),tn&&Ge.current&&i){const as=Math.min(wn()+qn*(1-wn()),1),sf=8-qn*8,Y0=Math.max(0,14-qn*14);Ht(tn,{borderRadius:`${sf}px`,transform:Wt(j)?`scale(${as}) translate3d(0, ${Y0}px, 0)`:`scale(${as}) translate3d(${Y0}px, 0, 0)`,transition:"none"},!0)}if(!a){const as=Oe*je;Ht(fe.current,{transform:Wt(j)?`translate3d(0, ${as}px, 0)`:`translate3d(${as}px, 0, 0)`})}}}D.useEffect(()=>{window.requestAnimationFrame(()=>{ze.current=!0})},[]),D.useEffect(()=>{var q;function je(){if(!fe.current||!T)return;const le=document.activeElement;if(Ox(le)||Me.current){var xe;const Qe=((xe=window.visualViewport)==null?void 0:xe.height)||0,Oe=window.innerHeight;let tn=Oe-Qe;const ss=fe.current.getBoundingClientRect().height||0,qn=ss>Oe*.8;ln.current||(ln.current=ss);const Dr=fe.current.getBoundingClientRect().top;if(Math.abs(tt.current-tn)>60&&(Me.current=!Me.current),a&&a.length>0&&Y&&B){const mr=Y[B]||0;tn+=mr}if(tt.current=tn,ss>Qe||Me.current){const mr=fe.current.getBoundingClientRect().height;let as=mr;mr>Qe&&(as=Qe-(qn?Dr:Rx)),x?fe.current.style.height=`${mr-Math.max(tn,0)}px`:fe.current.style.height=`${Math.max(as,Qe-Dr)}px`}else $ne()||(fe.current.style.height=`${ln.current}px`);a&&a.length>0&&!Me.current?fe.current.style.bottom="0px":fe.current.style.bottom=`${Math.max(tn,0)}px`}}return(q=window.visualViewport)==null||q.addEventListener("resize",je),()=>{var le;return(le=window.visualViewport)==null?void 0:le.removeEventListener("resize",je)}},[B,a,Y]);function qs(q){Mc(),v==null||v(),q||F(!1),setTimeout(()=>{a&&ee(a[0])},Nt.DURATION*1e3)}function Wo(){if(!fe.current)return;const q=document.querySelector("[data-vaul-drawer-wrapper]"),je=Wf(fe.current,j);Ht(fe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`}),Ht(Ge.current,{transition:`opacity ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`,opacity:"1"}),i&&je&&je>0&&L&&Ht(q,{borderRadius:`${WO}px`,overflow:"hidden",...Wt(j)?{transform:`scale(${wn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${wn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Nt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Nt.EASE.join(",")})`},!0)}function Mc(){!$||!fe.current||(fe.current.classList.remove(jy),Ae.current=!1,V(!1),qe.current=new Date)}function Hi(q){if(!$||!fe.current)return;fe.current.classList.remove(jy),Ae.current=!1,V(!1),qe.current=new Date;const je=Wf(fe.current,j);if(!q||!Ra(q.target,!1)||!je||Number.isNaN(je)||pt.current===null)return;const le=qe.current.getTime()-pt.current.getTime(),xe=Le.current-(Wt(j)?q.pageY:q.pageX),Qe=Math.abs(xe)/le;if(Qe>.05&&(be(!0),setTimeout(()=>{be(!1)},200)),a){X({draggedDistance:xe*(j==="bottom"||j==="right"?1:-1),closeDrawer:qs,velocity:Qe,dismissible:f}),s==null||s(q,!0);return}if(j==="bottom"||j==="right"?xe>0:xe<0){Wo(),s==null||s(q,!0);return}if(Qe>BO){qs(),s==null||s(q,!1);return}var Oe;const tn=Math.min((Oe=fe.current.getBoundingClientRect().height)!=null?Oe:0,window.innerHeight);var ss;const qn=Math.min((ss=fe.current.getBoundingClientRect().width)!=null?ss:0,window.innerWidth),Dr=j==="left"||j==="right";if(Math.abs(je)>=(Dr?qn:tn)*c){qs(),s==null||s(q,!1);return}s==null||s(q,!0),Wo()}D.useEffect(()=>(L&&(Ht(document.documentElement,{scrollBehavior:"auto"}),He.current=new Date),()=>{Kne(document.documentElement,"scrollBehavior")}),[L]);function nf(q){const je=q?(window.innerWidth-Yo)/window.innerWidth:1,le=q?-Yo:0;Ie.current&&window.clearTimeout(Ie.current),Ht(fe.current,{transition:`transform ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`,transform:Wt(j)?`scale(${je}) translate3d(0, ${le}px, 0)`:`scale(${je}) translate3d(${le}px, 0, 0)`}),!q&&fe.current&&(Ie.current=setTimeout(()=>{const xe=Wf(fe.current,j);Ht(fe.current,{transition:"none",transform:Wt(j)?`translate3d(0, ${xe}px, 0)`:`translate3d(${xe}px, 0, 0)`})},500))}function Kp(q,je){if(je<0)return;const le=(window.innerWidth-Yo)/window.innerWidth,xe=le+je*(1-le),Qe=-Yo+je*Yo;Ht(fe.current,{transform:Wt(j)?`scale(${xe}) translate3d(0, ${Qe}px, 0)`:`scale(${xe}) translate3d(${Qe}px, 0, 0)`,transition:"none"})}function rf(q,je){const le=Wt(j)?window.innerHeight:window.innerWidth,xe=je?(le-Yo)/le:1,Qe=je?-Yo:0;je&&Ht(fe.current,{transition:`transform ${Nt.DURATION}s cubic-bezier(${Nt.EASE.join(",")})`,transform:Wt(j)?`scale(${xe}) translate3d(0, ${Qe}px, 0)`:`scale(${xe}) translate3d(${Qe}px, 0, 0)`})}return D.useEffect(()=>{y||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[y]),D.createElement(Xm,{defaultOpen:_,onOpenChange:q=>{!f&&!q||(q?R(!0):qs(!0),F(q))},open:L},D.createElement(IO.Provider,{value:{activeSnapPoint:I,snapPoints:a,setActiveSnapPoint:ee,drawerRef:fe,overlayRef:Ge,onOpenChange:e,onPress:Dc,onRelease:Hi,onDrag:Bo,dismissible:f,shouldAnimate:ze,handleOnly:u,isOpen:L,isDragging:$,shouldFade:Fe,closeDrawer:qs,onNestedDrag:Kp,onNestedOpenChange:nf,onNestedRelease:rf,keyboardIsOpen:Me,modal:y,snapPointsOffset:Y,activeSnapPointIndex:B,direction:j,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:b,container:E,autoFocus:O}},n))}const HO=D.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:a,isOpen:i,modal:l,shouldAnimate:c}=Qu(),d=FO(e,n),f=r&&r.length>0;if(!l)return null;const u=D.useCallback(m=>s(m),[s]);return D.createElement(pc,{onMouseUp:u,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":i&&f?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...t})});HO.displayName="Drawer.Overlay";const YO=D.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:d,snapPointsOffset:f,activeSnapPointIndex:u,modal:m,isOpen:p,direction:g,snapPoints:x,container:y,handleOnly:v,shouldAnimate:w,autoFocus:b}=Qu(),[j,_]=D.useState(!1),N=FO(s,a),S=D.useRef(null),C=D.useRef(null),T=D.useRef(!1),k=x&&x.length>0;rre();const E=(P,M,L=0)=>{if(T.current)return!0;const F=Math.abs(P.y),z=Math.abs(P.x),R=z>F,$=["bottom","right"].includes(M)?1:-1;if(M==="left"||M==="right"){if(!(P.x*$<0)&&z>=0&&z<=L)return R}else if(!(P.y*$<0)&&F>=0&&F<=L)return!R;return T.current=!0,!0};D.useEffect(()=>{k&&window.requestAnimationFrame(()=>{_(!0)})},[]);function O(P){S.current=null,T.current=!1,l(P)}return D.createElement(gc,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":j?"true":"false","data-vaul-snap-points":p&&k?"true":"false","data-vaul-custom-container":y?"true":"false","data-vaul-animate":w!=null&&w.current?"true":"false",...r,ref:N,style:f&&f.length>0?{"--snap-point-height":`${f[u??0]}px`,...e}:e,onPointerDown:P=>{v||(r.onPointerDown==null||r.onPointerDown.call(r,P),S.current={x:P.pageX,y:P.pageY},i(P))},onOpenAutoFocus:P=>{n==null||n(P),b||P.preventDefault()},onPointerDownOutside:P=>{if(t==null||t(P),!m||P.defaultPrevented){P.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:P=>{if(!m){P.preventDefault();return}},onPointerMove:P=>{if(C.current=P,v||(r.onPointerMove==null||r.onPointerMove.call(r,P),!S.current))return;const M=P.pageY-S.current.y,L=P.pageX-S.current.x,F=P.pointerType==="touch"?10:2;E({x:L,y:M},g,F)?c(P):(Math.abs(L)>F||Math.abs(M)>F)&&(S.current=null)},onPointerUp:P=>{r.onPointerUp==null||r.onPointerUp.call(r,P),S.current=null,T.current=!1,l(P)},onPointerOut:P=>{r.onPointerOut==null||r.onPointerOut.call(r,P),O(C.current)},onContextMenu:P=>{r.onContextMenu==null||r.onContextMenu.call(r,P),C.current&&O(C.current)}})});YO.displayName="Drawer.Content";const ore=250,ire=120,lre=D.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:d,handleOnly:f,isOpen:u,onPress:m,onDrag:p}=Qu(),g=D.useRef(null),x=D.useRef(!1);function y(){if(x.current){b();return}window.setTimeout(()=>{v()},ire)}function v(){if(a||t||x.current){b();return}if(b(),!i||i.length===0){d||s();return}if(l===i[i.length-1]&&d){s();return}const _=i.findIndex(S=>S===l);if(_===-1)return;const N=i[_+1];c(N)}function w(){g.current=window.setTimeout(()=>{x.current=!0},ore)}function b(){g.current&&window.clearTimeout(g.current),x.current=!1}return D.createElement("div",{onClick:y,onPointerCancel:b,onPointerDown:j=>{f&&m(j),w()},onPointerMove:j=>{f&&p(j)},ref:r,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},D.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});lre.displayName="Drawer.Handle";function cre(t){const e=Qu(),{container:n=e.container,...r}=t;return D.createElement(Qm,{container:n,...r})}const Gs={Root:are,Content:YO,Overlay:HO,Trigger:Jm,Portal:cre,Title:yc,Description:vc},GO=({shouldScaleBackground:t=!0,...e})=>o.jsx(Gs.Root,{shouldScaleBackground:t,...e});GO.displayName="Drawer";const dre=Gs.Trigger,ure=Gs.Portal,qO=h.forwardRef(({className:t,...e},n)=>o.jsx(Gs.Overlay,{ref:n,className:U("fixed inset-0 z-50 bg-black/80",t),...e}));qO.displayName=Gs.Overlay.displayName;const KO=h.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(ure,{children:[o.jsx(qO,{}),o.jsxs(Gs.Content,{ref:r,className:U("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[o.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));KO.displayName="DrawerContent";const ZO=({className:t,...e})=>o.jsx("div",{className:U("grid gap-1.5 p-4 text-center sm:text-left",t),...e});ZO.displayName="DrawerHeader";const XO=h.forwardRef(({className:t,...e},n)=>o.jsx(Gs.Title,{ref:n,className:U("text-lg font-semibold leading-none tracking-tight",t),...e}));XO.displayName=Gs.Title.displayName;const JO=h.forwardRef(({className:t,...e},n)=>o.jsx(Gs.Description,{ref:n,className:U("text-sm text-muted-foreground",t),...e}));JO.displayName=Gs.Description.displayName;const QO=["monday","tuesday","wednesday","thursday","friday"],fre={en:{welcome:"Welcome back, Jane!",description:"Here's what's happening at Maes Y Morfa today.",notifications:"Recent Notifications",children:"My Children",attendance:"Attendance",teacher:"Teacher",awards:"Values Awards",actions:"Quick Actions",reportAbsence:"Report an Absence",lunch:"Today's Lunch",lunchDesc:"A sample of what's on the menu today.",lunchMain:"Main",lunchAlt:"Vegetarian / Alt",lunchDessert:"Dessert",viewMenu:"View Full Menu",menuTitle:"This Week's Lunch Menu",menuDesc:"Here's what's on offer for lunch this week at Maes Y Morfa.",day:"Day",mainCourse:"Main Course",vegAlt:"Vegetarian / Alt",dessertCourse:"Dessert",notAvailable:"Not available",notAvailableToday:"Not available today",loading:"Loading..."},cy:{welcome:"Croeso'n l, Jane!",description:"Dyma beth sy'n digwydd ym Maes Y Morfa heddiw.",notifications:"Hysbysiadau Diweddar",children:"Fy Mhlant",attendance:"Presenoldeb",teacher:"Athro/Athrawes",awards:"Gwobrau Gwerthoedd",actions:"Gweithredoedd Cyflym",reportAbsence:"Riportio Absenoldeb",lunch:"Cinio Heddiw",lunchDesc:"Sampl o'r hyn sydd ar y fwydlen heddiw.",lunchMain:"Prif Gwrs",lunchAlt:"Llysieuol / Amgen",lunchDessert:"Pwdin",viewMenu:"Gweld y Fwydlen Lawn",menuTitle:"Bwydlen Ginio'r Wythnos Hon",menuDesc:"Dyma beth sydd ar gael amser cinio'r wythnos hon ym Maes Y Morfa.",day:"Diwrnod",mainCourse:"Prif Gwrs",vegAlt:"Llysieuol / Amgen",dessertCourse:"Pwdin",notAvailable:"Dim ar gael",notAvailableToday:"Dim ar gael heddiw",loading:"Yn llwytho..."}},hre=({weeklyMenu:t,isLoadingMenu:e,t:n})=>o.jsxs(o.Fragment,{children:[o.jsxs(Yn,{children:[o.jsx(Gn,{children:n.menuTitle}),o.jsx(ur,{children:n.menuDesc})]}),o.jsx("div",{className:"pt-4",children:e?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs(ir,{children:[o.jsx(lr,{children:o.jsxs(rt,{children:[o.jsx(Ne,{className:"w-[100px]",children:n.day}),o.jsx(Ne,{children:n.mainCourse}),o.jsx(Ne,{children:n.vegAlt}),o.jsx(Ne,{children:n.dessertCourse})]})}),o.jsx(cr,{children:QO.map(r=>{var s,a,i;return o.jsxs(rt,{children:[o.jsx(ge,{className:"font-medium capitalize",children:r}),o.jsx(ge,{children:((s=t==null?void 0:t[r])==null?void 0:s.main)||n.notAvailable}),o.jsx(ge,{children:((a=t==null?void 0:t[r])==null?void 0:a.alt)||n.notAvailable}),o.jsx(ge,{children:((i=t==null?void 0:t[r])==null?void 0:i.dessert)||n.notAvailable})]},r)})})]})})]}),mre=({weeklyMenu:t,isLoadingMenu:e,t:n})=>o.jsxs(o.Fragment,{children:[o.jsxs(ZO,{className:"text-left",children:[o.jsx(XO,{children:n.menuTitle}),o.jsx(JO,{children:n.menuDesc})]}),o.jsx("div",{className:"px-4",children:e?o.jsx("div",{className:"flex justify-center items-center h-48",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx(Ds,{className:"h-[60vh]",children:o.jsx("div",{className:"space-y-4",children:QO.map(r=>{var s,a,i;return o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{className:"capitalize",children:r})}),o.jsxs(ue,{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsxs("strong",{children:[n.lunchMain,":"]})," ",((s=t==null?void 0:t[r])==null?void 0:s.main)||n.notAvailable]}),o.jsxs("p",{children:[o.jsxs("strong",{children:[n.lunchAlt,":"]})," ",((a=t==null?void 0:t[r])==null?void 0:a.alt)||n.notAvailable]}),o.jsxs("p",{children:[o.jsxs("strong",{children:[n.lunchDessert,":"]})," ",((i=t==null?void 0:t[r])==null?void 0:i.dessert)||n.notAvailable]})]})]},r)})})})})]});function pre(){const[t,e]=h.useState(null),[n,r]=h.useState(null),[s,a]=h.useState(!0),[i,l]=h.useState([]),[c,d]=h.useState({}),f=XM(),u="parent-1",{language:m}=Ce(),p=fre[m],g=m==="cy"?w0:ZM;h.useEffect(()=>{const y=async()=>{try{const b=await J.getWeeklyMenu();if(b){r(b);const j=new Date().toLocaleString("en-US",{weekday:"long"}).toLowerCase(),_=b[j]||{main:p.notAvailableToday,alt:p.notAvailableToday,dessert:p.notAvailableToday};e(_)}else e({main:p.notAvailable,alt:p.notAvailable,dessert:p.notAvailable})}catch(b){console.error("Failed to fetch lunch menu",b),e({main:p.notAvailable,alt:p.notAvailable,dessert:p.notAvailable})}finally{a(!1)}},v=async()=>{const b=await J.getNotificationsForParent(u);l(b)},w=async()=>{const b={};for(const j of fu){const _=await J.getValuesAwardCount(j.id);b[j.id]=_}d(b)};y(),v(),w()},[u,p.notAvailable,p.notAvailableToday]);const x={Achievement:o.jsx(Cg,{className:"h-6 w-6 text-yellow-500"}),Incident:o.jsx(kF,{className:"h-6 w-6 text-red-500"}),General:o.jsx(Dv,{className:"h-6 w-6 text-blue-500"}),"Values Award":o.jsx(Cg,{className:"h-6 w-6 text-yellow-500"})};return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:p.welcome}),o.jsx("p",{className:"text-muted-foreground",children:p.description})]})}),o.jsx("div",{className:"lg:hidden mb-6",children:o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{children:p.actions})}),o.jsx(ue,{children:o.jsx(W,{asChild:!0,className:"w-full justify-start",children:o.jsxs(ie,{to:"/absence",children:[o.jsx(Ov,{className:"mr-2 h-4 w-4"})," ",p.reportAbsence]})})})]})}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3 lg:gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.length>0&&o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{children:p.notifications})}),o.jsx(ue,{className:"space-y-4",children:i.slice(0,3).map(y=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border",children:[o.jsx("div",{className:"mt-1",children:x[y.type]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold",children:[y.childName,": ",y.type]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:y.notes}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[wp(new Date(y.date),{addSuffix:!0,locale:g})," from ",y.teacherName]})]})]},y.id))})]}),o.jsxs(oe,{children:[o.jsx(Se,{children:o.jsx(_e,{children:p.children})}),o.jsx(ue,{className:"space-y-4",children:fu.map(y=>o.jsx("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:o.jsxs("div",{className:"flex-grow grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:y.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:y.yearGroup})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(TF,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[p.attendance,": ",o.jsx("strong",{children:y.attendance})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx($F,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[p.teacher,": ",o.jsx("strong",{children:y.teacher})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Cg,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[p.awards,": ",o.jsx("strong",{children:c[y.id]??p.loading})]})]})]})]})},y.id))})]})]}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs(oe,{className:"hidden lg:block",children:[o.jsx(Se,{children:o.jsx(_e,{children:p.actions})}),o.jsx(ue,{children:o.jsx(W,{asChild:!0,className:"w-full justify-start",children:o.jsxs(ie,{to:"/absence",children:[o.jsx(Ov,{className:"mr-2 h-4 w-4"})," ",p.reportAbsence]})})})]}),o.jsxs(oe,{children:[o.jsxs(Se,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Pl,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:p.lunch})]}),o.jsx(ut,{children:p.lunchDesc})]}),o.jsxs(ue,{className:"space-y-3",children:[s?o.jsxs("div",{className:"space-y-4",children:[o.jsx(kd,{className:"h-8 w-3/4"}),o.jsx(kd,{className:"h-8 w-full"}),o.jsx(kd,{className:"h-8 w-2/3"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(PF,{className:"h-5 w-5 text-muted-foreground mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm",children:p.lunchMain}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.main})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(MF,{className:"h-5 w-5 text-muted-foreground mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm",children:p.lunchAlt}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.alt})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground mt-0.5 shrink-0 h-5 w-5",children:[o.jsx("path",{d:"M11 15.54c-2.31-1.39-3-4.24-3-6.54C8 5.42 9.79 3 12 3s4 2.42 4 6c0 2.3-1.02 5.15-3 6.54"}),o.jsx("path",{d:"M12 21a6.5 6.5 0 0 0 6.5-6.5H12v6.5Z"}),o.jsx("path",{d:"M12 21a6.5 6.5 0 0 1-6.5-6.5H12v6.5Z"}),o.jsx("path",{d:"M12 3v18"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm",children:p.lunchDessert}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.dessert})]})]})]}),o.jsx("div",{className:"pt-2",children:f?o.jsxs(GO,{children:[o.jsx(dre,{asChild:!0,children:o.jsxs(W,{variant:"secondary",className:"w-full justify-start",children:[o.jsx(Pl,{className:"mr-2 h-4 w-4"})," ",p.viewMenu]})}),o.jsx(KO,{children:o.jsx(mre,{weeklyMenu:n,isLoadingMenu:s,t:p})})]}):o.jsxs(dr,{children:[o.jsx(Li,{asChild:!0,children:o.jsxs(W,{variant:"secondary",className:"w-full justify-start",children:[o.jsx(Pl,{className:"mr-2 h-4 w-4"})," ",p.viewMenu]})}),o.jsx(Hn,{className:"sm:max-w-3xl",children:o.jsx(hre,{weeklyMenu:n,isLoadingMenu:s,t:p})})]})})]})]})]})]})]})}const gre=t=>yn({childId:Ke({required_error:t.childId.required_error}),absenceDate:Ru({required_error:t.absenceDate.required_error}),reason:Ke().min(10,{message:t.reason.message}),document:Ri().optional()}),Sy={en:{title:"Report an Absence",description:"Please complete the form below to report your child's absence.",form:{title:"Absence Form",description:"For security, you can only select children linked to your account.",childLabel:"Child's Name",childPlaceholder:"Select your child",dateLabel:"Date of Absence",datePlaceholder:"Pick a date",todayButton:"Today",yesterdayButton:"Yesterday",reasonLabel:"Reason for Absence",reasonPlaceholder:"e.g., Unwell with a cold.",documentLabel:"Upload a Document (Optional)",documentDescription:"e.g., a doctor's note or appointment confirmation.",submitButton:"Submit Report"},success:{title:"Absence Reported Successfully",description:"We've received the absence report for {childName}. The school office has been notified."},error:{title:"Submission Failed",description:"Could not submit the absence report. Please try again later or contact the school office directly."},formSchema:{childId:{required_error:"Please select a child."},absenceDate:{required_error:"A date of absence is required."},reason:{message:"Please provide a brief reason for the absence (at least 10 characters)."}}},cy:{title:"Riportio Absenoldeb",description:"Cwblhewch y ffurflen isod i riportio absenoldeb eich plentyn.",form:{title:"Ffurflen Absenoldeb",description:"Er diogelwch, dim ond plant sy'n gysylltiedig 'ch cyfrif y gallwch eu dewis.",childLabel:"Enw'r Plentyn",childPlaceholder:"Dewiswch eich plentyn",dateLabel:"Dyddiad yr Absenoldeb",datePlaceholder:"Dewiswch ddyddiad",todayButton:"Heddiw",yesterdayButton:"Ddoe",reasonLabel:"Rheswm dros Absenoldeb",reasonPlaceholder:"e.e., Yn sl gydag annwyd.",documentLabel:"Uwchlwytho Dogfen (Dewisol)",documentDescription:"e.e., nodyn meddyg neu gadarnhad apwyntiad.",submitButton:"Cyflwyno'r Adroddiad"},success:{title:"Absenoldeb Wedi'i Riportio'n Llwyddiannus",description:"Rydym wedi derbyn yr adroddiad absenoldeb ar gyfer {childName}. Mae swyddfa'r ysgol wedi'i hysbysu."},error:{title:"Methiant Cyflwyno",description:"Ni ellid cyflwyno'r adroddiad absenoldeb. Rhowch gynnig arall arni yn nes ymlaen neu cysylltwch  swyddfa'r ysgol yn uniongyrchol."},formSchema:{childId:{required_error:"Dewiswch blentyn."},absenceDate:{required_error:"Mae angen dyddiad absenoldeb."},reason:{message:"Rhowch reswm byr dros yr absenoldeb (o leiaf 10 nod)."}}}};function yre(){const{language:t}=Ce(),{toast:e}=dt(),[n,r]=h.useState(!1),s=Sy[t],a=t==="cy"?w0:void 0,i=new Date().getFullYear(),l=h.useMemo(()=>{var u;return((u=Sy[t])==null?void 0:u.formSchema)??Sy.en.formSchema},[t]),c=h.useMemo(()=>gre(l),[l]),d=Tn({resolver:Pn(c),defaultValues:{reason:""}});async function f(u){var x;r(!0);const m={name:"Jane Doe",email:"parent@example.com"},p=((x=fu.find(y=>y.id===u.childId))==null?void 0:x.name)||"Unknown Child",g=`
Child: ${p}
Date of Absence: ${mt(u.absenceDate,"PPP",{locale:a})}
Reason: ${u.reason}
---
Submitted by: ${m.name} (${m.email})
    `;try{await J.addInboxMessage({type:"absence",subject:`Absence Report for ${p}`,body:g,sender:m,isRead:!1,createdAt:new Date().toISOString()}),e({title:s.success.title,description:s.success.description.replace("{childName}",p),variant:"default"}),d.reset()}catch(y){console.error("Failed to submit absence report:",y),e({title:s.error.title,description:s.error.description,variant:"destructive"})}r(!1)}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:s.title}),o.jsx("p",{className:"text-muted-foreground",children:s.description})]}),o.jsxs(oe,{className:"w-full max-w-4xl mx-auto",children:[o.jsxs(Se,{children:[o.jsx(_e,{children:s.form.title}),o.jsx(ut,{children:s.form.description})]}),o.jsx(ue,{children:o.jsx(An,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-8",children:[o.jsx(he,{control:d.control,name:"childId",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:s.form.childLabel}),o.jsxs(br,{onValueChange:u.onChange,defaultValue:u.value,children:[o.jsx(ye,{children:o.jsx(sr,{children:o.jsx(jr,{placeholder:s.form.childPlaceholder})})}),o.jsx(ar,{children:fu.map(m=>o.jsx($t,{value:m.id,children:m.name},m.id))})]}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"absenceDate",render:({field:u})=>o.jsxs(me,{className:"space-y-3",children:[o.jsx(de,{children:s.form.dateLabel}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>u.onChange(new Date),className:"text-sm hover:bg-red-50 hover:text-red-900 hover:border-red-300",children:s.form.todayButton}),o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{const m=new Date;m.setDate(m.getDate()-1),u.onChange(m)},className:"text-sm hover:bg-red-50 hover:text-red-900 hover:border-red-300",children:s.form.yesterdayButton})]}),o.jsx("div",{className:"rounded-xl border bg-card p-3 shadow-sm mx-auto w-full max-w-sm",children:o.jsx(Ap,{mode:"single",selected:u.value,onSelect:u.onChange,initialFocus:!0,showOutsideDays:!0,captionLayout:"dropdown-buttons",fromYear:i-5,toYear:i+1,className:"rounded-md mx-auto",classNames:{months:"flex justify-center",month:"space-y-3",caption:"flex items-center justify-center relative",caption_label:"text-base font-semibold",nav:"flex items-center",nav_button:"h-8 w-8 bg-transparent hover:bg-muted rounded-md border text-foreground",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse",head_row:"grid grid-cols-7",head_cell:"w-10 h-10 text-muted-foreground text-[0.8rem] font-medium flex items-center justify-center",row:"grid grid-cols-7 gap-1",cell:"relative p-0",day:"h-10 w-10 inline-flex items-center justify-center rounded-md text-sm font-medium hover:bg-red-50 hover:text-red-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-400",day_selected:"bg-red-600 text-white hover:bg-red-700 focus:bg-red-700",day_today:"ring-1 ring-red-300",day_outside:"text-muted-foreground/40 opacity-50",day_disabled:"text-muted-foreground/40",day_hidden:"invisible"}})}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:u.value?mt(u.value,"PPP",{locale:a}):s.form.datePlaceholder}),o.jsx(Ee,{})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(he,{control:d.control,name:"reason",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:s.form.reasonLabel}),o.jsx(ye,{children:o.jsx(Dn,{placeholder:s.form.reasonPlaceholder,className:"resize-none min-h-[120px]",...u})}),o.jsx(Ee,{})]})}),o.jsx(he,{control:d.control,name:"document",render:({field:u})=>o.jsxs(me,{children:[o.jsx(de,{children:s.form.documentLabel}),o.jsx(ye,{children:o.jsxs("div",{className:"relative",children:[o.jsx(De,{type:"file",className:"pl-12",onChange:m=>u.onChange(m.target.files&&m.target.files[0])}),o.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:o.jsx(Mk,{className:"h-5 w-5 text-muted-foreground"})})]})}),o.jsx(It,{children:s.form.documentDescription}),o.jsx(Ee,{})]})})]}),o.jsxs(W,{type:"submit",disabled:n,children:[n&&o.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),s.form.submitButton]})]})})})]})]})}var ef={},eR={},zp={},tc={};let vre="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",tR=t=>crypto.getRandomValues(new Uint8Array(t)),nR=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,s=-~(1.6*r*e/t.length);return(a=e)=>{let i="";for(;;){let l=n(s),c=s|0;for(;c--;)if(i+=t[l[c]&r]||"",i.length===a)return i}}},xre=(t,e=21)=>nR(t,e,tR),wre=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const bre=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:xre,customRandom:nR,nanoid:wre,random:tR,urlAlphabet:vre},Symbol.toStringTag,{value:"Module"})),jre=Wx(bre);Object.defineProperty(tc,"__esModule",{value:!0});tc.headerDefaults=tc.eventDefaults=void 0;var Sre=jre;tc.headerDefaults=function(){return{productId:"adamgibbons/ics",method:"PUBLISH"}};tc.eventDefaults=function(){return{title:"Untitled event",uid:(0,Sre.nanoid)(),timestamp:Date.now()}};Object.defineProperty(zp,"__esModule",{value:!0});zp.buildEvent=Ere;zp.buildHeader=kre;var rR=tc;function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function _re(t,e,n){return e=Nre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Cre(t,"string");return xu(e)==="symbol"?e:String(e)}function Cre(t,e){if(xu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sR(t){return Object.entries(t).reduce(function(e,n){return typeof n[1]<"u"?Object.assign(e,_re({},n[0],n[1])):e},{})}function kre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object.assign({},(0,rR.headerDefaults)(),t);return sR(e)}function Ere(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object.assign({},(0,rR.eventDefaults)(),t);return sR(e)}var tf={},aR={},T0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;function e(d,f){return i(d)||a(d,f)||r(d,f)||n()}function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(d,f){if(d){if(typeof d=="string")return s(d,f);var u=Object.prototype.toString.call(d).slice(8,-1);if(u==="Object"&&d.constructor&&(u=d.constructor.name),u==="Map"||u==="Set")return Array.from(d);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return s(d,f)}}function s(d,f){(f==null||f>d.length)&&(f=d.length);for(var u=0,m=new Array(f);u<f;u++)m[u]=d[u];return m}function a(d,f){var u=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(u!=null){var m,p,g,x,y=[],v=!0,w=!1;try{if(g=(u=u.call(d)).next,f===0){if(Object(u)!==u)return;v=!1}else for(;!(v=(m=g.call(u)).done)&&(y.push(m.value),y.length!==f);v=!0);}catch(b){w=!0,p=b}finally{try{if(!v&&u.return!=null&&(x=u.return(),Object(x)!==x))return}finally{if(w)throw p}}return y}}function i(d){if(Array.isArray(d))return d}var l=function(f){return f<10?"0".concat(f):"".concat(f)};function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utc",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"local";if(typeof d=="string")return d;if(Array.isArray(d)&&d.length===3){var m=e(d,3),p=m[0],g=m[1],x=m[2];return"".concat(p).concat(l(g)).concat(l(x))}var y=new Date;if(Array.isArray(d)&&d.length>0&&d[0]){var v=e(d,6),w=v[0],b=v[1],j=v[2],_=v[3],N=_===void 0?0:_,S=v[4],C=S===void 0?0:S,T=v[5],k=T===void 0?0:T;u==="local"?y=new Date(w,b-1,j,N,C,k):y=new Date(Date.UTC(w,b-1,j,N,C,k))}else Array.isArray(d)||(y=new Date(d));return f==="local"?[y.getFullYear(),l(y.getMonth()+1),l(y.getDate()),"T",l(y.getHours()),l(y.getMinutes()),l(y.getSeconds())].join(""):[y.getUTCFullYear(),l(y.getUTCMonth()+1),l(y.getUTCDate()),"T",l(y.getUTCHours()),l(y.getUTCMinutes()),l(y.getUTCSeconds()),"Z"].join("")}})(T0);var oR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){var r=n.lat,s=n.lon;return"".concat(r,";").concat(s)}})(oR);var iR={},Vp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){return'"'.concat(n.replaceAll('"','\\"'),'"')}})(Vp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var e=n(Vp);function n(s){return s&&s.__esModule?s:{default:s}}function r(s){var a=s.name,i=s.email,l=s.rsvp,c=s.dir,d=s.partstat,f=s.role,u=s.cutype,m=s.xNumGuests,p=[];l!==void 0&&p.push(l?"RSVP=TRUE":"RSVP=FALSE"),u&&p.push("CUTYPE=".concat((0,e.default)(u))),m!==void 0&&p.push("X-NUM-GUESTS=".concat(m)),f&&p.push("ROLE=".concat((0,e.default)(f))),d&&p.push("PARTSTAT=".concat((0,e.default)(d))),c&&p.push("DIR=".concat((0,e.default)(c))),p.push("CN=".concat((0,e.default)(a||"Unnamed attendee")));var g=p.join(";").concat(i?":mailto:".concat(i):"");return g}})(iR);var lR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var e=n(Vp);function n(s){return s&&s.__esModule?s:{default:s}}function r(s){var a=s.name,i=s.email,l=s.dir,c=s.sentBy,d="";return d+=l?"DIR=".concat((0,e.default)(l),";"):"",d+=c?"SENT-BY=".concat((0,e.default)("MAILTO:".concat(c)),";"):"",d+="CN=",d+=(0,e.default)(a||"Organizer"),d+=i?":MAILTO:".concat(i):"",d}})(lR);var cR={},P0={},dR={exports:{}},_y={exports:{}},y1;function Tre(){if(y1)return _y.exports;y1=1;var t;(function(p){p[p.HIGH_SURROGATE_START=55296]="HIGH_SURROGATE_START",p[p.HIGH_SURROGATE_END=56319]="HIGH_SURROGATE_END",p[p.LOW_SURROGATE_START=56320]="LOW_SURROGATE_START",p[p.REGIONAL_INDICATOR_START=127462]="REGIONAL_INDICATOR_START",p[p.REGIONAL_INDICATOR_END=127487]="REGIONAL_INDICATOR_END",p[p.FITZPATRICK_MODIFIER_START=127995]="FITZPATRICK_MODIFIER_START",p[p.FITZPATRICK_MODIFIER_END=127999]="FITZPATRICK_MODIFIER_END",p[p.VARIATION_MODIFIER_START=65024]="VARIATION_MODIFIER_START",p[p.VARIATION_MODIFIER_END=65039]="VARIATION_MODIFIER_END",p[p.DIACRITICAL_MARKS_START=8400]="DIACRITICAL_MARKS_START",p[p.DIACRITICAL_MARKS_END=8447]="DIACRITICAL_MARKS_END",p[p.SUBDIVISION_INDICATOR_START=127988]="SUBDIVISION_INDICATOR_START",p[p.TAGS_START=917504]="TAGS_START",p[p.TAGS_END=917631]="TAGS_END",p[p.ZWJ=8205]="ZWJ"})(t||(t={}));const e=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);var n;function r(p){if(typeof p!="string")throw new TypeError("string cannot be undefined or null");const g=[];let x=0,y=0;for(;x<p.length;)y+=s(x+y,p),c(p[x+y])&&y++,i(p[x+y])&&y++,l(p[x+y])&&y++,d(p[x+y])?y++:(g.push(p.substring(x,x+y)),x+=y,y=0);return g}function s(p,g){const x=g[p];if(!function(b){return b&&u(b[0].charCodeAt(0),55296,56319)}(x)||p===g.length-1)return 1;const y=x+g[p+1];let v=g.substring(p+2,p+5);return a(y)&&a(v)?4:function(b){return u(f(b),127988,127988)}(y)&&function(b){const j=b.codePointAt(0);return typeof b=="string"&&typeof j=="number"&&u(j,917504,917631)}(v)?g.slice(p).indexOf(String.fromCodePoint(917631))+2:function(b){return u(f(b),127995,127999)}(v)?4:2}function a(p){return u(f(p),127462,127487)}function i(p){return typeof p=="string"&&u(p.charCodeAt(0),65024,65039)}function l(p){return typeof p=="string"&&u(p.charCodeAt(0),8400,8447)}function c(p){return typeof p=="string"&&e.includes(p.charCodeAt(0))}function d(p){return typeof p=="string"&&p.charCodeAt(0)===8205}function f(p){return(p.charCodeAt(0)-55296<<10)+(p.charCodeAt(1)-56320)+65536}function u(p,g,x){return p>=g&&p<=x}function m(p,g,x){const y=r(p);if(g===void 0)return p;if(g>=y.length)return"";const v=y.length-g;let w=g+(x===void 0?v:x);return w>g+v&&(w=void 0),y.slice(g,w).join("")}return function(p){p[p.unit_1=1]="unit_1",p[p.unit_2=2]="unit_2",p[p.unit_4=4]="unit_4"}(n||(n={})),Object.defineProperty(r,"runes",{value:r}),Object.defineProperty(r,"default",{value:r}),Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"substr",{value:m}),Object.defineProperty(r,"substring",{value:m}),Object.defineProperty(r,"EnumRunesCode",{value:t}),Object.defineProperty(r,"EnumCodeUnits",{value:n}),Object.defineProperty(r,"GRAPHEMES",{value:e}),_y.exports=r,_y.exports}dR.exports=Tre();var Pre=dR.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var e=Pre;function n(r){for(var s=[],a=75;(0,e.runes)(r).length>a;)s.push((0,e.substring)(r,0,a)),r=(0,e.substring)(r,a),a=74;return s.push(r),s.join(`\r
	`)}})(P0);var A0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){return n.replace(/\r?\n/gm,"\\n")}})(A0);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var e=s(T0),n=s(P0),r=s(A0);function s(d){return d&&d.__esModule?d:{default:d}}function a(d){var f=d.weeks,u=d.days,m=d.hours,p=d.minutes,g=d.seconds,x="P";return x+=f?"".concat(f,"W"):"",x+=u?"".concat(u,"D"):"",x+="T",x+=m?"".concat(m,"H"):"",x+=p?"".concat(p,"M"):"",x+=g?"".concat(g,"S"):"",x}function i(d){var f="";if(Array.isArray(d)||typeof d=="number"||typeof d=="string")f="TRIGGER;VALUE=DATE-TIME:".concat((0,r.default)((0,e.default)(d)),`\r
`);else{var u=d.before?"-":"";f="TRIGGER:".concat((0,r.default)(u+a(d)),`\r
`)}return f}function l(d){return d.toUpperCase()}function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=d.action,u=d.repeat,m=d.description,p=d.duration,g=d.attach,x=d.attachType,y=d.trigger,v=d.summary,w=`BEGIN:VALARM\r
`;w+=(0,n.default)("ACTION:".concat((0,r.default)(l(f))))+`\r
`,w+=u?(0,n.default)("REPEAT:".concat(u))+`\r
`:"",w+=m?(0,n.default)("DESCRIPTION:".concat((0,r.default)(m)))+`\r
`:"",w+=p?(0,n.default)("DURATION:".concat(a(p)))+`\r
`:"";var b=x||"FMTTYPE=audio/basic";return w+=g?(0,n.default)((0,r.default)("ATTACH;".concat(b,":").concat(g)))+`\r
`:"",w+=y?i(y):"",w+=v?(0,n.default)("SUMMARY:".concat((0,r.default)(v)))+`\r
`:"",w+=`END:VALARM\r
`,w}})(cR);var uR={},Hp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){return n.replace(/\\/gm,"\\\\").replace(/\r?\n/gm,"\\n").replace(/;/gm,"\\;").replace(/,/gm,"\\,")}})(Hp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var e=n(Hp);function n(s){return s&&s.__esModule?s:{default:s}}function r(s){return(0,e.default)(s)}})(uR);var fR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var e=n(Hp);function n(s){return s&&s.__esModule?s:{default:s}}function r(s){return(0,e.default)(s)}})(fR);var hR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.weeks,s=n.days,a=n.hours,i=n.minutes,l=n.seconds,c="P";return c+=r?"".concat(r,"W"):"",c+=s?"".concat(s,"D"):"",c+="T",c+=a?"".concat(a,"H"):"",c+=i?"".concat(i,"M"):"",c+=l?"".concat(l,"S"):"",c}})(hR);var mR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var e=n(Hp);function n(s){return s&&s.__esModule?s:{default:s}}function r(s){return(0,e.default)(s)}})(mR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeParamValue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"foldLine",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"formatDate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"formatDuration",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"setAlarm",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"setContact",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"setDescription",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"setGeolocation",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"setLocation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"setOrganizer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"setSummary",{enumerable:!0,get:function(){return l.default}});var e=m(T0),n=m(oR),r=m(iR),s=m(lR),a=m(cR),i=m(uR),l=m(fR),c=m(hR),d=m(P0),f=m(mR),u=m(Vp);function m(p){return p&&p.__esModule?p:{default:p}}})(aR);Object.defineProperty(tf,"__esModule",{value:!0});tf.formatEvent=Ore;tf.formatFooter=Mre;tf.formatHeader=Dre;var Ze=aR,Mt=Are(A0);function Are(t){return t&&t.__esModule?t:{default:t}}function Dre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.productId,n=t.method,r=t.calName,s="";return s+=`BEGIN:VCALENDAR\r
`,s+=`VERSION:2.0\r
`,s+=`CALSCALE:GREGORIAN\r
`,s+=(0,Ze.foldLine)("PRODID:".concat((0,Mt.default)(e)))+`\r
`,s+=(0,Ze.foldLine)("METHOD:".concat((0,Mt.default)(n)))+`\r
`,s+=r?(0,Ze.foldLine)("X-WR-CALNAME:".concat((0,Mt.default)(r)))+`\r
`:"",s+=`X-PUBLISHED-TTL:PT1H\r
`,s}function Mre(){return`END:VCALENDAR\r
`}function Ore(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.title,n=t.uid,r=t.sequence,s=t.timestamp,a=t.start,i=t.startType,l=t.startInputType,c=t.startOutputType,d=t.duration,f=t.end,u=t.endInputType,m=t.endOutputType,p=t.description,g=t.url,x=t.geo,y=t.location,v=t.status,w=t.categories,b=t.organizer,j=t.attendees,_=t.alarms,N=t.recurrenceRule,S=t.exclusionDates,C=t.busyStatus,T=t.transp,k=t.classification,E=t.created,O=t.lastModified,P=t.htmlContent,M="";return M+=`BEGIN:VEVENT\r
`,M+=(0,Ze.foldLine)("UID:".concat((0,Mt.default)(n)))+`\r
`,M+=e?(0,Ze.foldLine)("SUMMARY:".concat((0,Mt.default)((0,Ze.setSummary)(e))))+`\r
`:"",M+=(0,Ze.foldLine)("DTSTAMP:".concat((0,Mt.default)((0,Ze.formatDate)(s))))+`\r
`,M+=(0,Ze.foldLine)("DTSTART".concat(a&&a.length==3?";VALUE=DATE":"",":").concat((0,Mt.default)((0,Ze.formatDate)(a,c||i,l))))+`\r
`,(!f||f.length!==3||a.length!==f.length||a.some(function(L,F){return L!==f[F]}))&&f&&(M+=(0,Ze.foldLine)("DTEND".concat(f.length===3?";VALUE=DATE":"",":").concat((0,Mt.default)((0,Ze.formatDate)(f,m||c||i,u||l))))+`\r
`),M+=typeof r<"u"?"SEQUENCE:".concat(r,`\r
`):"",M+=p?(0,Ze.foldLine)("DESCRIPTION:".concat((0,Mt.default)((0,Ze.setDescription)(p))))+`\r
`:"",M+=g?(0,Ze.foldLine)("URL:".concat((0,Mt.default)(g)))+`\r
`:"",M+=x?(0,Ze.foldLine)("GEO:".concat((0,Ze.setGeolocation)(x)))+`\r
`:"",M+=y?(0,Ze.foldLine)("LOCATION:".concat((0,Mt.default)((0,Ze.setLocation)(y))))+`\r
`:"",M+=v?(0,Ze.foldLine)("STATUS:".concat((0,Mt.default)(v)))+`\r
`:"",M+=w?(0,Ze.foldLine)("CATEGORIES:".concat((0,Mt.default)(w.join(","))))+`\r
`:"",M+=b?(0,Ze.foldLine)("ORGANIZER;".concat((0,Ze.setOrganizer)(b)))+`\r
`:"",M+=C?(0,Ze.foldLine)("X-MICROSOFT-CDO-BUSYSTATUS:".concat((0,Mt.default)(C)))+`\r
`:"",M+=T?(0,Ze.foldLine)("TRANSP:".concat((0,Mt.default)(T)))+`\r
`:"",M+=k?(0,Ze.foldLine)("CLASS:".concat((0,Mt.default)(k)))+`\r
`:"",M+=E?"CREATED:"+(0,Mt.default)((0,Ze.formatDate)(E))+`\r
`:"",M+=O?"LAST-MODIFIED:"+(0,Mt.default)((0,Ze.formatDate)(O))+`\r
`:"",M+=P?(0,Ze.foldLine)("X-ALT-DESC;FMTTYPE=text/html:".concat((0,Mt.default)(P)))+`\r
`:"",j&&j.forEach(function(L){M+=(0,Ze.foldLine)("ATTENDEE;".concat((0,Mt.default)((0,Ze.setContact)(L))))+`\r
`}),M+=N?(0,Ze.foldLine)("RRULE:".concat((0,Mt.default)(N)))+`\r
`:"",M+=S?(0,Ze.foldLine)("EXDATE:".concat((0,Mt.default)(S.map(function(L){return(0,Ze.formatDate)(L)}).join(","))))+`\r
`:"",M+=d?(0,Ze.foldLine)("DURATION:".concat((0,Ze.formatDuration)(d)))+`\r
`:"",_&&_.forEach(function(L){M+=(0,Ze.setAlarm)(L)}),M+=`END:VEVENT\r
`,M}var pR={},Pc={};function zi(t){this._maxSize=t,this.clear()}zi.prototype.clear=function(){this._size=0,this._values=Object.create(null)};zi.prototype.get=function(t){return this._values[t]};zi.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Rre=/[^.^\]^[]+|(?=\[\]|\.\.)/g,gR=/^\d+$/,Ire=/^\d/,$re=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Lre=/^\s*(['"]?)(.*?)(\1)\s*$/,D0=512,v1=new zi(D0),x1=new zi(D0),w1=new zi(D0),fi={Cache:zi,split:Ix,normalizePath:Ny,setter:function(t){var e=Ny(t);return x1.get(t)||x1.set(t,function(r,s){for(var a=0,i=e.length,l=r;a<i-1;){var c=e[a];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;l=l[e[a++]]}l[e[a]]=s})},getter:function(t,e){var n=Ny(t);return w1.get(t)||w1.set(t,function(s){for(var a=0,i=n.length;a<i;)if(s!=null||!e)s=s[n[a++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(M0(n)||gR.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){Fre(Array.isArray(t)?t:Ix(t),e,n)}};function Ny(t){return v1.get(t)||v1.set(t,Ix(t).map(function(e){return e.replace(Lre,"$2")}))}function Ix(t){return t.match(Rre)||[""]}function Fre(t,e,n){var r=t.length,s,a,i,l;for(a=0;a<r;a++)s=t[a],s&&(Wre(s)&&(s='"'+s+'"'),l=M0(s),i=!l&&/^\d+$/.test(s),e.call(n,s,l,i,a,t))}function M0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Ure(t){return t.match(Ire)&&!t.match(gR)}function Bre(t){return $re.test(t)}function Wre(t){return!M0(t)&&(Ure(t)||Bre(t))}const zre=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Yp=t=>t.match(zre)||[],Gp=t=>t[0].toUpperCase()+t.slice(1),O0=(t,e)=>Yp(t).join(e).toLowerCase(),yR=t=>Yp(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Vre=t=>Gp(yR(t)),Hre=t=>O0(t,"_"),Yre=t=>O0(t,"-"),Gre=t=>Gp(O0(t," ")),qre=t=>Yp(t).map(Gp).join(" ");var Cy={words:Yp,upperFirst:Gp,camelCase:yR,pascalCase:Vre,snakeCase:Hre,kebabCase:Yre,sentenceCase:Gre,titleCase:qre},R0={exports:{}};R0.exports=function(t){return vR(Kre(t),t)};R0.exports.array=vR;function vR(t,e){var n=t.length,r=new Array(n),s={},a=n,i=Zre(e),l=Xre(t);for(e.forEach(function(d){if(!l.has(d[0])||!l.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)s[a]||c(t[a],a,new Set);return r;function c(d,f,u){if(u.has(d)){var m;try{m=", node was:"+JSON.stringify(d)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!s[f]){s[f]=!0;var p=i.get(d)||new Set;if(p=Array.from(p),f=p.length){u.add(d);do{var g=p[--f];c(g,l.get(g),u)}while(f);u.delete(d)}r[--n]=d}}}function Kre(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function Zre(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Xre(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var Jre=R0.exports;const Qre=Bx(Jre),ese=Object.prototype.toString,tse=Error.prototype.toString,nse=RegExp.prototype.toString,rse=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",sse=/^Symbol\((.*)\)(.*)$/;function ase(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function b1(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return ase(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return rse.call(t).replace(sse,"Symbol($1)");const r=ese.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+tse.call(t)+"]":r==="RegExp"?nse.call(t):null}function Cs(t,e){let n=b1(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let a=b1(this[r],e);return a!==null?a:s},2)}function xR(t){return t==null?[]:[].concat(t)}let wR,bR,jR,ose=/\$\{\s*(\w+)\s*\}/g;wR=Symbol.toStringTag;class j1{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[wR]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],xR(e).forEach(a=>{if(Kt.isError(a)){this.errors.push(...a.errors);const i=a.inner.length?a.inner:[a];this.inner.push(...i)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}bR=Symbol.hasInstance;jR=Symbol.toStringTag;class Kt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(ose,(s,a)=>Cs(n[a])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,a){const i=new j1(e,n,r,s);if(a)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[jR]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Kt)}static[bR](e){return j1[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ds={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Cs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Cs(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Cs(n,!0)}\``+s}},On={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ya={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},$x={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Lx={isValue:"${path} field must be ${value}"},ph={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},gh={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},SR={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Cs(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Cs(n,!0)}\``}return Kt.formatError(ds.notType,t)}};var _R=Object.assign(Object.create(null),{mixed:ds,string:On,number:Ya,date:$x,object:ph,array:gh,boolean:Lx,tuple:SR});const Vi=t=>t&&t.__isYupSchema__;class bm{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:a}=n,i=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new bm(e,(l,c)=>{var d;let f=i(...l)?s:a;return(d=f==null?void 0:f(c))!=null?d:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(a=>a.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Vi(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const zf={context:"$",value:"."};function ise(t,e){return new Uo(t,e)}class Uo{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===zf.context,this.isValue=this.key[0]===zf.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?zf.context:this.isValue?zf.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&fi.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Uo.prototype.__isYupRef=!0;const Wr=t=>t==null;function sl(t){function e({value:n,path:r="",options:s,originalValue:a,schema:i},l,c){const{name:d,test:f,params:u,message:m,skipAbsent:p}=t;let{parent:g,context:x,abortEarly:y=i.spec.abortEarly,disableStackTrace:v=i.spec.disableStackTrace}=s;const w={value:n,parent:g,context:x};function b(E={}){const O=NR(Object.assign({value:n,originalValue:a,label:i.spec.label,path:E.path||r,spec:i.spec,disableStackTrace:E.disableStackTrace||v},u,E.params),w),P=new Kt(Kt.formatError(E.message||m,O),n,O.path,E.type||d,O.disableStackTrace);return P.params=O,P}const j=y?l:c;let _={path:r,parent:g,type:d,from:s.from,createError:b,resolve(E){return CR(E,w)},options:s,originalValue:a,schema:i};const N=E=>{Kt.isError(E)?j(E):E?c(null):j(b())},S=E=>{Kt.isError(E)?j(E):l(E)};if(p&&Wr(n))return N(!0);let T;try{var k;if(T=f.call(_,n,_),typeof((k=T)==null?void 0:k.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(N,S)}}catch(E){S(E);return}N(T)}return e.OPTIONS=t,e}function NR(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=CR(t[n],e);return t}function CR(t,e){return Uo.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function I0(t,e,n,r=n){let s,a,i;return e?(fi.forEach(e,(l,c,d)=>{let f=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let u=t.type==="tuple",m=d?parseInt(f,10):0;if(t.innerType||u){if(u&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[m],t=u?t.spec.types[m]:t.innerType}if(!d){if(!t.fields||!t.fields[f])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);s=n,n=n&&n[f],t=t.fields[f]}a=f,i=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:a}):{parent:s,parentPath:e,schema:t}}function lse(t,e,n,r){return I0(t,e,n,r).schema}class jm extends Set{describe(){const e=[];for(const n of this.values())e.push(Uo.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new jm(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Sl(t,e=new Map){if(Vi(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Sl(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,Sl(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Sl(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=Sl(s,e)}else throw Error(`Unable to clone ${t}`);return n}function cse(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let a=0;a<t.length;a++){const i=t[a];if(i==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(i==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(i==='"'){s=!s;continue}if(i==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=i}return n&&e.push(...n.split(".").filter(Boolean)),e}function dse(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:cse(n)}))}function $0(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return dse(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>$0(s,r))}class gn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new jm,this._blacklist=new jm,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ds.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Sl(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(a=>{e.tests.forEach(i=>{a.test(i.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,a)=>a.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,a;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",a=r._cast(e,n);if(n.assert!==!1&&!r.isType(a)){if(s&&Wr(a))return a;let i=Cs(e),l=Cs(a);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return a}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,a)=>a.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:a,originalValue:i=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let d=[];for(let f of Object.values(this.internalTests))f&&d.push(f);this.runTests({path:a,value:c,originalValue:i,options:n,tests:d},r,f=>{if(f.length)return s(f,c);this.runTests({path:a,value:c,originalValue:i,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:a,value:i,originalValue:l,path:c,options:d}=e,f=x=>{s||(s=!0,n(x,i))},u=x=>{s||(s=!0,r(x,i))},m=a.length,p=[];if(!m)return u([]);let g={value:i,originalValue:l,path:c,options:d,schema:this};for(let x=0;x<a.length;x++){const y=a[x];y(g,f,function(w){w&&(Array.isArray(w)?p.push(...w):p.push(w)),--m<=0&&u(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:a,options:i}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let d=r[l];const f=Object.assign({},i,{strict:!0,parent:r,value:d,originalValue:a[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${c?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(u,m,p)=>this.resolve(f)._validate(d,f,m,p)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),a=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((i,l)=>s._validate(e,n,(c,d)=>{Kt.isError(c)&&(c.value=d),l(c)},(c,d)=>{c.length?l(new Kt(c,d,void 0,void 0,a)):i(d)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),a,i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw Kt.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Kt(l,e,void 0,void 0,i);a=c}),a}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Kt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Kt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Sl(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=sl({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=sl({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ds.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ds.notNull){return this.nullability(!1,e)}required(e=ds.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ds.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=sl(n),a=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(i=>!(i.OPTIONS.name===n.name&&(a||i.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=xR(e).map(a=>new Uo(a));return s.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(typeof n=="function"?new bm(s,n):bm.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=sl({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ds.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=sl({message:n,name:"oneOf",skipAbsent:!0,test(s){let a=this.schema._whitelist,i=a.resolveAll(this.resolve);return i.includes(s)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:i}})}}),r}notOneOf(e,n=ds.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=sl({message:n,name:"notOneOf",test(s){let a=this.schema._blacklist,i=a.resolveAll(this.resolve);return i.includes(s)?this.createError({params:{values:Array.from(a).join(", "),resolved:i}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:a,nullable:i}=n.spec;return{meta:s,label:r,optional:a,nullable:i,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,d,f)=>f.findIndex(u=>u.OPTIONS.name===c.OPTIONS.name)===d).map(c=>{const d=c.OPTIONS.params&&e?NR(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof Kt)return{issues:$0(s)};throw s}}}}}gn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])gn.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:a,schema:i}=I0(this,e,n,r.context);return i[t](s&&s[a],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])gn.prototype[t]=gn.prototype.oneOf;for(const t of["not","nope"])gn.prototype[t]=gn.prototype.notOneOf;const use=()=>!0;function kR(t){return new L0(t)}class L0 extends gn{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:use},e))}}kR.prototype=L0.prototype;function Fx(){return new F0}class F0 extends gn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Lx.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Wr(n)||n===!0}})}isFalse(e=Lx.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Wr(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Fx.prototype=F0.prototype;const fse=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function hse(t){const e=Ux(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Ux(t){var e,n;const r=fse.exec(t);return r?{year:Xs(r[1]),month:Xs(r[2],1)-1,day:Xs(r[3],1),hour:Xs(r[4]),minute:Xs(r[5]),second:Xs(r[6]),millisecond:r[7]?Xs(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Xs(r[10]),minuteOffset:Xs(r[11])}:null}function Xs(t,e=0){return Number(t)||e}let mse=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pse=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,gse=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,yse="^\\d{4}-\\d{2}-\\d{2}",vse="\\d{2}:\\d{2}:\\d{2}",xse="(([+-]\\d{2}(:?\\d{2})?)|Z)",wse=new RegExp(`${yse}T${vse}(\\.\\d+)?${xse}$`),bse=t=>Wr(t)||t===t.trim(),jse={}.toString();function ER(){return new U0}class U0 extends gn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===jse?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ds.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=On.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=On.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=On.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,a;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:a}=n:s=n),this.test({name:a||"matches",message:s||On.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&r||i.search(e)!==-1})}email(e=On.email){return this.matches(mse,{name:"email",message:e,excludeEmptyString:!0})}url(e=On.url){return this.matches(pse,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=On.uuid){return this.matches(gse,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(wse,{name:"datetime",message:n||On.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||On.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:a=>{if(!a||r)return!0;const i=Ux(a);return i?!!i.z:!1}}).test({name:"datetime_precision",message:n||On.datetime_precision,params:{precision:s},skipAbsent:!0,test:a=>{if(!a||s==null)return!0;const i=Ux(a);return i?i.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=On.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:bse})}lowercase(e=On.lowercase){return this.transform(n=>Wr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Wr(n)||n===n.toLowerCase()})}uppercase(e=On.uppercase){return this.transform(n=>Wr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Wr(n)||n===n.toUpperCase()})}}ER.prototype=U0.prototype;let Sse=t=>t!=+t;function TR(){return new B0}class B0 extends gn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Sse(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=Ya.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Ya.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Ya.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Ya.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Ya.positive){return this.moreThan(0,e)}negative(e=Ya.negative){return this.lessThan(0,e)}integer(e=Ya.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Wr(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Wr(s)?s:Math[e](s))}}TR.prototype=B0.prototype;let PR=new Date(""),_se=t=>Object.prototype.toString.call(t)==="[object Date]";function W0(){return new Ac}class Ac extends gn{constructor(){super({type:"date",check(e){return _se(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=hse(e),isNaN(e)?Ac.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Uo.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=$x.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=$x.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}Ac.INVALID_DATE=PR;W0.prototype=Ac.prototype;W0.INVALID_DATE=PR;function Nse(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([i,l])=>`${i}-${l}`));function a(i,l){let c=fi.split(i)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const i of Object.keys(t)){let l=t[i];r.add(i),Uo.isRef(l)&&l.isSibling?a(l.path,i):Vi(l)&&"deps"in l&&l.deps.forEach(c=>a(c,i))}return Qre.array(Array.from(r),n).reverse()}function S1(t,e){let n=1/0;return t.some((r,s)=>{var a;if((a=e.path)!=null&&a.includes(r))return n=s,!0}),n}function AR(t){return(e,n)=>S1(t,e)-S1(t,n)}const DR=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function yh(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=yh(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=yh(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(yh)}):"optional"in t?t.optional():t}const Cse=(t,e)=>{const n=[...fi.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=fi.getter(fi.join(n),!0)(t);return!!(s&&r in s)};let _1=t=>Object.prototype.toString.call(t)==="[object Object]";function N1(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const kse=AR([]);function MR(t){return new z0(t)}class z0 extends gn{constructor(e){super({type:"object",check(n){return _1(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=kse,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let a=this.fields,i=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(u=>!this._nodes.includes(u))),c={},d=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),f=!1;for(const u of l){let m=a[u],p=u in s;if(m){let g,x=s[u];d.path=(n.path?`${n.path}.`:"")+u,m=m.resolve({value:x,context:n.context,parent:c});let y=m instanceof gn?m.spec:void 0,v=y==null?void 0:y.strict;if(y!=null&&y.strip){f=f||u in s;continue}g=!n.__validating||!v?m.cast(s[u],d):s[u],g!==void 0&&(c[u]=g)}else p&&!i&&(c[u]=s[u]);(p!==u in c||c[u]!==s[u])&&(f=!0)}return f?c:s}_validate(e,n={},r,s){let{from:a=[],originalValue:i=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:i},...a],n.__validating=!0,n.originalValue=i,super._validate(e,n,r,(c,d)=>{if(!l||!_1(d)){s(c,d);return}i=i||d;let f=[];for(let u of this._nodes){let m=this.fields[u];!m||Uo.isRef(m)||f.push(m.asNestedTest({options:n,key:u,parent:d,parentPath:n.path,originalParent:i}))}this.runTests({tests:f,value:d,originalValue:i,options:n},r,u=>{s(u.sort(this._sortErrors).concat(c),d)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,a]of Object.entries(this.fields)){const i=r[s];r[s]=i===void 0?a:i}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const a=this.fields[r];let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[r]})),n[r]=a&&"getDefault"in a?a.getDefault(i):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Nse(e,n),r._sortErrors=AR(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return yh(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=fi.getter(e,!0);return this.transform(a=>{if(!a)return a;let i=a;return Cse(a,e)&&(i=Object.assign({},a),r||delete i[e],i[n]=s(a)),i})}json(){return this.transform(DR)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ph.exact,test(n){if(n==null)return!0;const r=N1(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=ph.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const a=N1(this.schema,s);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=ph.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Cy.camelCase)}snakeCase(){return this.transformKeys(Cy.snakeCase)}constantCase(){return this.transformKeys(e=>Cy.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,i]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[a]})),r.fields[a]=i.describe(l)}return r}}MR.prototype=z0.prototype;function OR(t){return new V0(t)}class V0 extends gn{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const a=r.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},n,{path:`${n.path||""}[${l}]`}));return c!==i&&(s=!0),c});return s?a:r}_validate(e,n={},r,s){var a;let i=this.innerType,l=(a=n.recursive)!=null?a:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,d)=>{var f;if(!l||!i||!this._typeCheck(d)){s(c,d);return}let u=new Array(d.length);for(let p=0;p<d.length;p++){var m;u[p]=i.asNestedTest({options:n,index:p,parent:d,parentPath:n.path,originalParent:(m=n.originalValue)!=null?m:e})}this.runTests({value:d,tests:u,originalValue:(f=n.originalValue)!=null?f:e,options:n},r,p=>s(p.concat(c),d))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(DR)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Vi(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Cs(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=gh.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||gh.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||gh.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,a)=>!e(r,s,a):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),r.innerType=n.innerType.describe(a)}return r}}OR.prototype=V0.prototype;function RR(t){return new H0(t)}class H0 extends gn{constructor(e){super({type:"tuple",spec:{types:e},check(n){const r=this.spec.types;return Array.isArray(n)&&n.length===r.length}}),this.withMutation(()=>{this.typeError(SR.notType)})}_cast(e,n){const{types:r}=this.spec,s=super._cast(e,n);if(!this._typeCheck(s))return s;let a=!1;const i=r.map((l,c)=>{const d=l.cast(s[c],Object.assign({},n,{path:`${n.path||""}[${c}]`}));return d!==s[c]&&(a=!0),d});return a?i:s}_validate(e,n={},r,s){let a=this.spec.types;super._validate(e,n,r,(i,l)=>{var c;if(!this._typeCheck(l)){s(i,l);return}let d=[];for(let[u,m]of a.entries()){var f;d[u]=m.asNestedTest({options:n,index:u,parent:l,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:l,tests:d,originalValue:(c=n.originalValue)!=null?c:e,options:n},r,u=>s(u.concat(i),l))})}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);return r.innerType=n.spec.types.map((s,a)=>{var i;let l=e;return(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[a]})),s.describe(l)}),r}}RR.prototype=H0.prototype;function Ese(t){return new qp(t)}function C1(t){try{return t()}catch(e){if(Kt.isError(e))return Promise.reject(e);throw e}}class qp{constructor(e){this.type="lazy",this.__isYupSchema__=!0,this.spec=void 0,this._resolve=(n,r={})=>{let s=this.builder(n,r);if(!Vi(s))throw new TypeError("lazy() functions must return a valid schema");return this.spec.optional&&(s=s.optional()),s.resolve(r)},this.builder=e,this.spec={meta:void 0,optional:!1}}clone(e){const n=new qp(this.builder);return n.spec=Object.assign({},this.spec,e),n}optionality(e){return this.clone({optional:e})}optional(){return this.optionality(!0)}resolve(e){return this._resolve(e.value,e)}cast(e,n){return this._resolve(e,n).cast(e,n)}asNestedTest(e){let{key:n,index:r,parent:s,options:a}=e,i=s[r??n];return this._resolve(i,Object.assign({},a,{value:i,parent:s})).asNestedTest(e)}validate(e,n){return C1(()=>this._resolve(e,n).validate(e,n))}validateSync(e,n){return this._resolve(e,n).validateSync(e,n)}validateAt(e,n,r){return C1(()=>this._resolve(n,r).validateAt(e,n,r))}validateSyncAt(e,n,r){return this._resolve(n,r).validateSyncAt(e,n,r)}isValid(e,n){try{return this._resolve(e,n).isValid(e,n)}catch(r){if(Kt.isError(r))return Promise.resolve(!1);throw r}}isValidSync(e,n){return this._resolve(e,n).isValidSync(e,n)}describe(e){return e?this.resolve(e).describe(e):{type:"lazy",meta:this.spec.meta,label:void 0}}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(Kt.isError(s))return{issues:$0(s)};throw s}}}}}function Tse(t){Object.keys(t).forEach(e=>{Object.keys(t[e]).forEach(n=>{_R[e][n]=t[e][n]})})}function Pse(t,e,n){if(!t||!Vi(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if(typeof e!="string")throw new TypeError("A Method name must be provided");if(typeof n!="function")throw new TypeError("Method function must be provided");t.prototype[e]=n}const Ase=Object.freeze(Object.defineProperty({__proto__:null,ArraySchema:V0,BooleanSchema:F0,DateSchema:Ac,LazySchema:qp,MixedSchema:L0,NumberSchema:B0,ObjectSchema:z0,Schema:gn,StringSchema:U0,TupleSchema:H0,ValidationError:Kt,addMethod:Pse,array:OR,bool:Fx,boolean:Fx,date:W0,defaultLocale:_R,getIn:I0,isSchema:Vi,lazy:Ese,mixed:kR,number:TR,object:MR,printValue:Cs,reach:lse,ref:ise,setLocale:Tse,string:ER,tuple:RR},Symbol.toStringTag,{value:"Module"})),Dse=Wx(Ase);Object.defineProperty(Pc,"__esModule",{value:!0});Pc.urlRegex=void 0;Pc.validateHeader=Wse;Pc.validateHeaderAndEvent=zse;var ne=Mse(Dse);function IR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(IR=function(s){return s?n:e})(t)}function Mse(t,e){if(t&&t.__esModule)return t;if(t===null||nc(t)!=="object"&&typeof t!="function")return{default:t};var n=IR(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var i=s?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){Ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ose(t,e,n){return e=Rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Ise(t,"string");return nc(e)==="symbol"?e:String(e)}function Ise(t,e){if(nc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $R=Pc.urlRegex=/^(?:([a-z0-9+.-]+):\/\/)(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/,al=function(e){var n=e.required;return ne.lazy(function(r){return typeof r=="number"?ne.number().integer().min(0):typeof r=="string"?ne.string().required():!n&&typeof r>"u"?ne.mixed().oneOf([void 0]):ne.array().required().min(3).max(7).of(ne.lazy(function(s,a){var i=a.parent.indexOf(a.value);return[ne.number().integer(),ne.number().integer().min(1).max(12),ne.number().integer().min(1).max(31),ne.number().integer().min(0).max(23),ne.number().integer().min(0).max(60),ne.number().integer().min(0).max(60)][i]}))})},LR=ne.object().shape({before:ne.boolean(),weeks:ne.number(),days:ne.number(),hours:ne.number(),minutes:ne.number(),seconds:ne.number()}).noUnknown(),FR=ne.object().shape({name:ne.string(),email:ne.string().email(),rsvp:ne.boolean(),dir:ne.string().matches($R),partstat:ne.string(),role:ne.string(),cutype:ne.string(),xNumGuests:ne.number()}).noUnknown(),$se=ne.object().shape({name:ne.string(),email:ne.string().email(),dir:ne.string(),sentBy:ne.string()}).noUnknown(),Lse=ne.object().shape({action:ne.string().matches(/^(audio|display|email)$/).required(),trigger:ne.mixed().required(),description:ne.string(),duration:LR,repeat:ne.number(),attach:ne.string(),attachType:ne.string(),summary:ne.string(),attendee:FR,"x-prop":ne.mixed(),"iana-prop":ne.mixed()}).noUnknown(),UR={productId:ne.string(),method:ne.string(),calName:ne.string()},Fse=ne.object().shape(UR).noUnknown(),Use={summary:ne.string(),timestamp:al({required:!1}),title:ne.string(),uid:ne.string(),sequence:ne.number().integer().max(2147483647),start:al({required:!0}),duration:LR,startType:ne.string().matches(/^(utc|local)$/),startInputType:ne.string().matches(/^(utc|local)$/),startOutputType:ne.string().matches(/^(utc|local)$/),end:al({required:!1}),endInputType:ne.string().matches(/^(utc|local)$/),endOutputType:ne.string().matches(/^(utc|local)$/),description:ne.string(),url:ne.string().matches($R),geo:ne.object().shape({lat:ne.number(),lon:ne.number()}),location:ne.string(),status:ne.string().matches(/^(TENTATIVE|CANCELLED|CONFIRMED)$/i),categories:ne.array().of(ne.string()),organizer:$se,attendees:ne.array().of(FR),alarms:ne.array().of(Lse),recurrenceRule:ne.string(),busyStatus:ne.string().matches(/^(TENTATIVE|FREE|BUSY|OOF)$/i),transp:ne.string().matches(/^(TRANSPARENT|OPAQUE)$/i),classification:ne.string(),created:al({required:!1}),lastModified:al({required:!1}),exclusionDates:ne.array().of(al({required:!0})),htmlContent:ne.string()},Bse=ne.object().shape(E1(E1({},UR),Use)).test("xor","object should have end or duration (but not both)",function(t){var e=!!t.end,n=!!t.duration;return e&&!n||!e&&n||!e&&!n}).noUnknown();function Wse(t){try{var e=Fse.validateSync(t,{abortEarly:!1,strict:!0});return{error:null,value:e}}catch(n){return{error:Object.assign({},n),value:void 0}}}function zse(t){try{var e=Bse.validateSync(t,{abortEarly:!1,strict:!0});return{error:null,value:e}}catch(n){return{error:Object.assign({},n),value:void 0}}}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Pc;Object.keys(e).forEach(function(n){n==="default"||n==="__esModule"||n in t&&t[n]===e[n]||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})})(pR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"buildEvent",{enumerable:!0,get:function(){return e.buildEvent}}),Object.defineProperty(t,"buildHeader",{enumerable:!0,get:function(){return e.buildHeader}}),Object.defineProperty(t,"formatEvent",{enumerable:!0,get:function(){return n.formatEvent}}),Object.defineProperty(t,"formatFooter",{enumerable:!0,get:function(){return n.formatFooter}}),Object.defineProperty(t,"formatHeader",{enumerable:!0,get:function(){return n.formatHeader}}),Object.defineProperty(t,"urlRegex",{enumerable:!0,get:function(){return r.urlRegex}}),Object.defineProperty(t,"validateHeader",{enumerable:!0,get:function(){return r.validateHeader}}),Object.defineProperty(t,"validateHeaderAndEvent",{enumerable:!0,get:function(){return r.validateHeaderAndEvent}});var e=zp,n=tf,r=pR})(eR);Object.defineProperty(ef,"__esModule",{value:!0});ef.convertTimestampToArray=Kse;ef.createEvent=Zse;var Vse=ef.createEvents=BR;ef.isValidURL=Xse;var fa=eR;function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){Hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hse(t,e,n){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Gse(t,"string");return rc(e)==="symbol"?e:String(e)}function Gse(t,e){if(rc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t){return(0,fa.validateHeader)((0,fa.buildHeader)(t))}function P1(t){return(0,fa.validateHeaderAndEvent)(Sm(Sm({},(0,fa.buildHeader)(t)),(0,fa.buildEvent)(t)))}function Kse(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local",n=[],r=new Date(t);return n.push(e==="local"?r.getFullYear():r.getUTCFullYear()),n.push((e==="local"?r.getMonth():r.getUTCMonth())+1),n.push(e==="local"?r.getDate():r.getUTCDate()),n.push(e==="local"?r.getHours():r.getUTCHours()),n.push(e==="local"?r.getMinutes():r.getUTCMinutes()),n}function Zse(t,e){return BR([t],e)}function BR(t,e,n){var r=rc(e)==="object"?e:{},s=arguments.length===3?n:typeof e=="function"?e:null,a=function(){if(!t)return{error:new Error("one argument is required"),value:null};var c=t.length===0?qse(r):P1(Sm(Sm({},t[0]),r)),d=c.error,f=c.value;if(d)return{error:d,value:null};var u="";u+=(0,fa.formatHeader)(f);for(var m=0;m<t.length;m++){var p=P1(t[m]),g=p.error,x=p.value;if(g)return{error:g,value:null};u+=(0,fa.formatEvent)(x)}return u+=(0,fa.formatFooter)(),{error:null,value:u}},i;try{i=a()}catch(l){i={error:l,value:null}}return s?s(i.error,i.value):i}function Xse(t){return fa.urlRegex.test(t)}function ky(t){const e=new Date(t);return[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes()]}function Jse(t){const e=t.map(s=>{const a={title:s.title_en,start:ky(s.start),description:s.description_en,calName:"Maes Y Morfa School Calendar",productId:"ParentPortal/ICS"};if(s.end)a.end=ky(s.end);else if(!s.allDay){const i=new Date(s.start),l=new Date(i.getTime()+60*60*1e3);a.end=ky(l.toISOString())}return a}),{error:n,value:r}=Vse(e);return n?(console.error("Error creating iCal feed:",n),null):r}const Qse={en:{title:"School Calendar",description:"Upcoming events, holidays, and important dates for the school year.",allDay:"All Day",noEventsList:"No events found.",subscribeButton:"Subscribe to the School Calendar",subscribeDescription:"(Events auto-update in your calendar app)",attachments:"Attachments",filterLabel:"Only show events for my children",detailsButton:"View Details",tags:{Holiday:"Holiday",INSET:"INSET Day",Event:"School Event",Trip:"Trip","Parents Evening":"Parents Evening"}},cy:{title:"Calendr yr Ysgol",description:"Digwyddiadau, gwyliau, a dyddiadau pwysig ar gyfer y flwyddyn ysgol.",allDay:"Trwy'r Dydd",noEventsList:"Ni chanfuwyd unrhyw ddigwyddiadau.",subscribeButton:"Tanysgrifiwch i Galendr yr Ysgol",subscribeDescription:"(Mae digwyddiadau'n diweddaru'n awtomatig yn eich ap calendr)",attachments:"Atodiadau",filterLabel:"Dangos digwyddiadau ar gyfer fy mhlant yn unig",detailsButton:"Gweld Manylion",tags:{Holiday:"Gwyliau",INSET:"Diwrnod HMS",Event:"Digwyddiad Ysgol",Trip:"Taith","Parents Evening":"Noson Rieni"}}},eae={Holiday:"bg-blue-100 text-blue-800 border-blue-200",INSET:"bg-yellow-100 text-yellow-800 border-yellow-200",Event:"bg-green-100 text-green-800 border-green-200",Trip:"bg-purple-100 text-purple-800 border-purple-200","Parents Evening":"bg-pink-100 text-pink-800 border-pink-200"};function tae(){const{language:t}=Ce(),e=Mo(),n=Qse[t],[r,s]=h.useState(!1);h.useEffect(()=>{if(!(localStorage.getItem("isAuthenticated")==="true")){e("/login");return}},[e]);const a=()=>{const c=Jse(Sd);if(c){const d=new Blob([c],{type:"text/calendar;charset=utf-8"}),f=document.createElement("a");f.href=URL.createObjectURL(d),f.download="MaesYMorfa_School_Calendar.ics",document.body.appendChild(f),f.click(),document.body.removeChild(f)}},i=h.useMemo(()=>r?Sd.filter(c=>!c.relevantTo||c.relevantTo.length===0||c.relevantTo.includes("All")?!0:cx.some(d=>{var f;return(f=c.relevantTo)==null?void 0:f.includes(d)})):Sd,[r]),l=({event:c})=>{const d=c.title_en.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return o.jsx("div",{className:"relative rounded-lg border p-4 transition-all hover:shadow-md bg-card",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:gap-4",children:[o.jsx("div",{className:"mb-2 sm:mb-0",children:o.jsxs("div",{className:"text-center font-bold text-primary",children:[o.jsx("div",{className:"text-3xl",children:mt(new Date(c.start),"dd")}),o.jsx("div",{className:"text-sm uppercase",children:mt(new Date(c.start),"MMM")})]})}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"font-bold text-lg",children:c[t==="en"?"title_en":"title_cy"]}),o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:c.allDay?n.allDay:`${mt(new Date(c.start),"p")} ${c.end?`- ${mt(new Date(c.end),"p")}`:""}`}),o.jsx("p",{className:"text-sm mb-3",children:c[t==="en"?"description_en":"description_cy"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map(f=>o.jsx(Vn,{className:U("font-normal",eae[f]),children:n.tags[f]},f))}),o.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[c.attachments.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsxs("h4",{className:"text-sm font-semibold mb-1 flex items-center gap-1",children:[o.jsx(Ak,{className:"h-4 w-4"})," ",n.attachments]}),o.jsx("div",{className:"flex flex-col items-start gap-1",children:c.attachments.map(f=>o.jsx(W,{variant:"link",size:"sm",className:"p-0 h-auto",children:o.jsx("a",{href:f.url,download:!0,children:f.name})},f.name))})]}),c.linkedNewsPostId&&o.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(ie,{to:`/news/${d}`,children:[n.detailsButton," ",o.jsx(dc,{className:"ml-1 h-3 w-3"})]})})]})]})]})})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:n.title}),o.jsx("p",{className:"text-muted-foreground",children:n.description})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rn,{id:"filter-events",checked:r,onCheckedChange:s}),o.jsx(ot,{htmlFor:"filter-events",className:"text-sm",children:n.filterLabel})]}),o.jsxs(W,{onClick:a,variant:"outline",children:[o.jsx(zn,{className:"mr-2 h-4 w-4"}),n.subscribeButton]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:n.subscribeDescription}),o.jsx("div",{className:"space-y-4",children:i.length===0?o.jsx(oe,{children:o.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(zn,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:n.noEventsList})]})}):i.map(c=>o.jsx(l,{event:c},c.id))})]})}const nae={en:{title:"Photo Gallery",description:"Recent photos from your children's classes and school events.",filterLabel:"Filter by class:",noPhotosTitle:"No Photos Yet",noPhotosDescription1:"There are no photos to display for your children's classes at the moment.",noPhotosDescription2:"Please check back soon!"},cy:{title:"Oriel Ffotograffau",description:"Lluniau diweddar o ddosbarthiadau eich plant a digwyddiadau ysgol.",filterLabel:"Hidlo yn l dosbarth:",noPhotosTitle:"Dim Lluniau Eto",noPhotosDescription1:"Nid oes unrhyw luniau i'w harddangos ar gyfer dosbarthiadau eich plant ar hyn o bryd.",noPhotosDescription2:"Gwiriwch yn l yn fuan!"}};function rae(){const{language:t}=Ce(),e=nae[t],[n,r]=h.useState([]),[s,a]=h.useState(!0),[i,l]=h.useState("All");h.useEffect(()=>{(async()=>{a(!0);try{const m=await J.getPhotosForYearGroups(cx);r(m)}catch(m){console.error("Failed to fetch photos:",m)}finally{a(!1)}})()},[]);const c=h.useMemo(()=>i==="All"?n:n.filter(u=>u.yearGroups.includes(i)),[n,i]),d=h.useMemo(()=>{const u=new Set(cx);return Array.from(u)},[]),f=["All",...d];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),d.length>1&&o.jsxs("div",{className:"flex items-center gap-2 rounded-lg border bg-muted/50 p-3 flex-wrap",children:[o.jsx("p",{className:"text-sm font-medium mr-2",children:e.filterLabel}),f.map(u=>o.jsx(W,{variant:i===u?"default":"outline",size:"sm",onClick:()=>l(u),children:u},u))]}),s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(We,{className:"h-8 w-8 animate-spin"})}):c.length===0?o.jsxs(oe,{className:"p-12 text-center",children:[o.jsx(Hm,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.noPhotosTitle}),o.jsx("p",{className:"text-muted-foreground mb-1",children:e.noPhotosDescription1}),o.jsx("p",{className:"text-muted-foreground",children:e.noPhotosDescription2})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(u=>o.jsxs(oe,{className:"overflow-hidden",children:[o.jsx("div",{className:"aspect-square relative",children:o.jsx("img",{src:u.url,alt:u.caption,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:u.caption}),o.jsx("div",{className:"flex flex-wrap gap-1",children:u.yearGroups.map(m=>o.jsx(Vn,{variant:"secondary",className:"text-xs",children:m},m))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(u.createdAt).toLocaleDateString()})]})]},u.id))})]})}const sae=yn({replyMessage:Ke().min(1,"Reply cannot be empty.")}),WR={en:{title:"Inbox",description:"Messages and replies from the school.",noMessages:"Your inbox is empty.",noMessagesDesc:"You don't have any messages yet.",from:"From:",you:"You",replyPlaceholder:"Type your reply...",sendButton:"Send Reply",toastSuccess:"Your reply has been sent.",toastError:"Could not send reply."},cy:{title:"Mewnflwch",description:"Negeseuon ac atebion gan yr ysgol.",noMessages:"Mae eich mewnflwch yn wag.",noMessagesDesc:"Nid oes gennych unrhyw negeseuon eto.",from:"Oddi wrth:",you:"Chi",replyPlaceholder:"Teipiwch eich ateb...",sendButton:"Anfon Ateb",toastSuccess:"Mae eich ateb wedi'i anfon.",toastError:"Ni ellid anfon yr ateb."}},aae=({threadId:t,subject:e,onSuccess:n})=>{const{language:r}=Ce(),s=WR[r],{toast:a}=dt(),[i,l]=h.useState(!1),c=Tn({resolver:Pn(sae),defaultValues:{replyMessage:""}}),d=async f=>{l(!0);try{const u={id:"parent-1",name:"Jane Doe",email:"parent@example.com",type:"parent"};await J.addInboxMessage({type:"reply",subject:`Re: ${e}`,body:f.replyMessage,sender:u,recipient:{id:"admin-1",name:"School Admin",email:"admin@example.com",type:"admin"},isReadByAdmin:!1,isReadByParent:!0,createdAt:new Date().toISOString(),threadId:t}),a({title:s.toastSuccess}),c.reset(),n()}catch(u){console.error("Failed to send reply:",u),a({title:s.toastError,variant:"destructive"})}finally{l(!1)}};return o.jsx(An,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(d),className:"flex items-start gap-4 pt-4",children:[o.jsx(he,{control:c.control,name:"replyMessage",render:({field:f})=>o.jsxs(me,{className:"flex-grow",children:[o.jsx(ye,{children:o.jsx(Dn,{...f,placeholder:s.replyPlaceholder,rows:1,className:"min-h-0"})}),o.jsx(Ee,{})]})}),o.jsx(W,{type:"submit",disabled:i,children:i?o.jsx(We,{className:"h-4 w-4 animate-spin"}):o.jsx(Eu,{className:"h-4 w-4"})})]})})};function oae(){const{language:t}=Ce(),e=WR[t],[n,r]=h.useState({}),[s,a]=h.useState(!0),{toast:i}=dt(),[l,c]=h.useState(void 0),d="parent-1",f=async()=>{a(!0);try{const p=await J.getInboxMessagesForUser(d),g={};p.forEach(v=>{const w=v.threadId||v.id;g[w]||(g[w]=[]),g[w].push(v)});for(const v in g)g[v].sort((w,b)=>new Date(w.createdAt).getTime()-new Date(b.createdAt).getTime());const x=Object.keys(g).sort((v,w)=>{const b=g[v][g[v].length-1],j=g[w][g[w].length-1];return new Date(j.createdAt).getTime()-new Date(b.createdAt).getTime()}),y={};x.forEach(v=>{y[v]=g[v]}),r(y)}catch(p){console.error("Failed to fetch inbox messages:",p),i({title:"Error",description:"Could not load your messages.",variant:"destructive"})}finally{a(!1)}};h.useEffect(()=>{f()},[i]);const u=async p=>{var x;if(c(p),!p)return;const g=n[p];if(g){for(const y of g)if(((x=y.recipient)==null?void 0:x.id)===d&&!y.isReadByParent)try{await J.updateInboxMessage(y.id,{isReadByParent:!0}),r(v=>{const w={...v},b=w[p].map(j=>j.id===y.id?{...j,isReadByParent:!0}:j);return w[p]=b,w})}catch(v){console.error("Failed to mark message as read:",v)}}},m=p=>p.some(g=>{var x;return((x=g.recipient)==null?void 0:x.id)===d&&!g.isReadByParent});return s?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold font-headline",children:e.title}),o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),Object.keys(n).length===0?o.jsxs(oe,{className:"text-center p-12 border-dashed",children:[o.jsx(SF,{className:"mx-auto h-12 w-12 text-muted-foreground"}),o.jsx("h2",{className:"mt-4 text-xl font-semibold",children:e.noMessages}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:e.noMessagesDesc})]}):o.jsx(N2,{type:"single",collapsible:!0,className:"w-full space-y-4",value:l,onValueChange:u,children:Object.entries(n).map(([p,g])=>{const x=g[0],y=g[g.length-1];return o.jsxs(Gb,{value:p,className:"border rounded-lg bg-card overflow-hidden",children:[o.jsx(qb,{className:U("p-4 hover:no-underline",m(g)&&"font-bold"),children:o.jsxs("div",{className:"flex items-center gap-4 w-full",children:[o.jsxs("div",{className:"flex-grow text-left",children:[o.jsx("p",{className:"truncate",children:x.subject}),o.jsxs("p",{className:"text-sm text-muted-foreground font-normal",children:[g.length," message",g.length>1?"s":""," - Last update ",wp(new Date(y.createdAt),{addSuffix:!0})]})]}),m(g)&&o.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"})]})}),o.jsx(Kb,{className:"bg-muted/50",children:o.jsxs("div",{className:"p-4 space-y-4",children:[g.map(v=>{var w,b,j,_;return o.jsxs("div",{className:U("p-4 rounded-md flex gap-4",((w=v.sender)==null?void 0:w.type)==="admin"?"bg-card":"bg-primary/10"),children:[o.jsx("div",{className:"shrink-0 mt-1",children:((b=v.sender)==null?void 0:b.type)==="admin"?o.jsx(Uv,{className:"h-5 w-5 text-primary"}):o.jsx(ks,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("p",{className:"font-semibold",children:((j=v.sender)==null?void 0:j.type)==="admin"?(_=v.sender)==null?void 0:_.name:e.you}),o.jsx("p",{className:"text-xs text-muted-foreground",children:mt(new Date(v.createdAt),"dd MMM yyyy, p")})]}),o.jsx("p",{className:"mt-2 text-sm whitespace-pre-wrap",children:v.body})]})]},v.id)}),o.jsx(aae,{threadId:p,subject:x.subject,onSuccess:f})]})})]},p)})})]})}function iae(){const t=es(),n=["/","/about","/contact","/curriculum","/curriculum/key-stage-2","/curriculum/early-years","/curriculum/key-stage-1","/curriculum/beyond-the-classroom","/admissions","/kids-corner","/news","/key-info","/signup","/logout"].includes(t.pathname);return o.jsxs("div",{className:U("App min-h-screen bg-background font-body antialiased"),children:[n&&o.jsx(BU,{}),o.jsxs(oL,{children:[o.jsx($e,{path:"/",element:o.jsx(U9,{})}),o.jsx($e,{path:"/about",element:o.jsx(i7,{})}),o.jsx($e,{path:"/contact",element:o.jsx(d7,{})}),o.jsx($e,{path:"/curriculum",element:o.jsx(f7,{})}),o.jsx($e,{path:"/curriculum/key-stage-2",element:o.jsx(m7,{})}),o.jsx($e,{path:"/curriculum/early-years",element:o.jsx(g7,{})}),o.jsx($e,{path:"/curriculum/key-stage-1",element:o.jsx(v7,{})}),o.jsx($e,{path:"/curriculum/beyond-the-classroom",element:o.jsx(w7,{})}),o.jsx($e,{path:"/admissions",element:o.jsx(j7,{})}),o.jsx($e,{path:"/kids-corner",element:o.jsx(_7,{})}),o.jsx($e,{path:"/news",element:o.jsx(k7,{})}),o.jsx($e,{path:"/news/:slug",element:o.jsx(A7,{})}),o.jsx($e,{path:"/key-info",element:o.jsx(M7,{})}),o.jsx($e,{path:"/login",element:o.jsx(I7,{})}),o.jsx($e,{path:"/signup",element:o.jsx($7,{})}),o.jsx($e,{path:"/admin/login",element:o.jsx(Eee,{})}),o.jsx($e,{path:"/admin/dashboard",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(F7,{})})})}),o.jsx($e,{path:"/admin/announcements",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(_Q,{})})})}),o.jsx($e,{path:"/admin/news",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(Eq,{})})})}),o.jsx($e,{path:"/admin/documents",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(Dq,{})})})}),o.jsx($e,{path:"/admin/settings",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(cK,{})})})}),o.jsx($e,{path:"/admin/calendar",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(vQ,{})})})}),o.jsx($e,{path:"/admin/users",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(CQ,{})})})}),o.jsx($e,{path:"/admin/gallery",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(PQ,{})})})}),o.jsx($e,{path:"/admin/inbox",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(DQ,{})})})}),o.jsx($e,{path:"/admin/children",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(Tee,{})})})}),o.jsx($e,{path:"/admin/parents",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(Oee,{})})})}),o.jsx($e,{path:"/admin/staff",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(Fee,{})})})}),o.jsx($e,{path:"/admin/menu",element:o.jsx(_t,{allowedRoles:["admin"],redirectTo:"/admin/login",children:o.jsx(Kn,{children:o.jsx(Uee,{})})})}),o.jsx($e,{path:"/staff/login",element:o.jsx(OQ,{})}),o.jsx($e,{path:"/staff/dashboard",element:o.jsx(MQ,{})}),o.jsx($e,{path:"/teacher/login",element:o.jsx(kee,{})}),o.jsx($e,{path:"/teacher/dashboard",element:o.jsx(_t,{allowedRoles:["teacher"],redirectTo:"/teacher/login",children:o.jsx(Xc,{children:o.jsx(IQ,{})})})}),o.jsx($e,{path:"/teacher/values-award",element:o.jsx(_t,{allowedRoles:["teacher"],redirectTo:"/teacher/login",children:o.jsx(Xc,{children:o.jsx(xee,{})})})}),o.jsx($e,{path:"/teacher/notify",element:o.jsx(_t,{allowedRoles:["teacher"],redirectTo:"/teacher/login",children:o.jsx(Xc,{children:o.jsx(See,{})})})}),o.jsx($e,{path:"/teacher/outbox",element:o.jsx(_t,{allowedRoles:["teacher"],redirectTo:"/teacher/login",children:o.jsx(Xc,{children:o.jsx(Nee,{})})})}),o.jsx($e,{path:"/teacher/gallery",element:o.jsx(_t,{allowedRoles:["teacher"],redirectTo:"/teacher/login",children:o.jsx(Xc,{children:o.jsx(Cee,{})})})}),o.jsx($e,{path:"/dashboard",element:o.jsx(_t,{allowedRoles:["parent"],redirectTo:"/login",children:o.jsx(Zc,{children:o.jsx(pre,{})})})}),o.jsx($e,{path:"/absence",element:o.jsx(_t,{allowedRoles:["parent"],redirectTo:"/login",children:o.jsx(Zc,{children:o.jsx(yre,{})})})}),o.jsx($e,{path:"/calendar",element:o.jsx(_t,{allowedRoles:["parent"],redirectTo:"/login",children:o.jsx(Zc,{children:o.jsx(tae,{})})})}),o.jsx($e,{path:"/gallery",element:o.jsx(_t,{allowedRoles:["parent"],redirectTo:"/login",children:o.jsx(Zc,{children:o.jsx(rae,{})})})}),o.jsx($e,{path:"/inbox",element:o.jsx(_t,{allowedRoles:["parent"],redirectTo:"/login",children:o.jsx(Zc,{children:o.jsx(oae,{})})})}),o.jsx($e,{path:"/logout",element:o.jsx(Bee,{})})]}),n&&o.jsx(uH,{}),o.jsx(b3,{})]})}const lae=Ey.createRoot(document.getElementById("root"));lae.render(o.jsx(D.StrictMode,{children:o.jsx(mL,{children:o.jsx(LU,{children:o.jsx(FU,{children:o.jsx(U7,{children:o.jsx(iae,{})})})})})}));"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})}):"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(e=>e.unregister())}),"caches"in window&&caches.keys().then(t=>t.forEach(e=>caches.delete(e))));
